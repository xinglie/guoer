((e,t)=>{if(e.seajs)return;let r,i,o,l=e.seajs={version:"2.2.3"},a=l.data={},s=e=>t=>({}).toString.call(t)=="[object "+e+"]",d=s("Object"),n=s("String"),p=Array.isArray||s("Array"),h=s("Function"),c=s("Undefined"),f=0,u=()=>f++,g=/[^?#]*\//,b=/\/\.\//g,x=/\/[^/]+\/\.\.\//,m=/([^:/])\/\//g,y=e=>e.match(g)[0],_=/^([^/:]+)(\/.+)$/,w=/^\/\/.|:\//,v=/^.*?\/\/.*?\//,k=(e,t)=>{let r,i=e.charAt(0);if(w.test(e))r=e;else if("."===i)r=(e=>{for(e=e.replace(b,"/");e.match(x);)e=e.replace(x,"/");return e=e.replace(m,"$1/")})((t?y(t):a.cwd)+e);else if("/"===i){let t=a.cwd.match(v);r=t?t[0]+e.substring(1):e}else r=a.base+e;return 0===r.indexOf("//")&&(r=location.protocol+r),r},S=(e,t)=>{if(!e)return"";return e=(e=>{let t=e.length-1,r=e.charAt(t);return"#"===r?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||".css"===e.substring(t-3)||"/"===r?e:e+".js"})(e=(e=>{let t,r=a.paths;return r&&(t=e.match(_))&&n(r[t[1]])&&(e=r[t[1]]+t[2]),e})(e=(e=>{let t=a.alias;return t&&n(t[e])?t[e]:e})(e))),k(e,t)},C=document,I=y(C.URL),z=C.scripts,T=z[z.length-1],j=y((e=>e.hasAttribute?e.src:e.getAttribute("src",4))(T)||I),q=C.head,E=q.getElementsByTagName("base")[0],A=/\.css(?:\?|$)/i,L=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536,R=(e,t,r)=>{let i="onload"in e;if(r&&(L||!i))return void setTimeout(()=>{N(e,t)},1);let o=()=>{e.onload=e.onerror=e.onreadystatechange=null,r||a.debug||q.removeChild(e),e=null,t()};i?(e.onload=o,e.onerror=o):e.onreadystatechange=(()=>{/loaded|complete/.test(e.readyState)&&o()})},N=(e,t)=>{let r,i=e.sheet;if(L)i&&(r=!0);else if(i)try{i.cssRules&&(r=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(r=!0)}setTimeout(()=>{r?t():N(e,t)},20)},B=l.cache={},H={},O={},P={},$=1,F=2,M=3,V=4,K=5,D=6;function U(e,t){this.uri=e,this._gG=t||[],this.exports=null,this.status=0,this._gH={},this._gI=0}U.prototype.resolve=function(){let e=this,t=e._gG,r=[];for(let i=0,o=t.length;i<o;i++)r[i]=S(t[i],e.uri);return r},U.prototype.load=function(){let e=this;if(e.status>=M)return;e.status=M;let t,r=e.resolve(),i=e._gI=r.length;for(let o=0;o<i;o++)(t=U.get(r[o])).status<V?t._gH[e.uri]=(t._gH[e.uri]||0)+1:e._gI--;if(0===e._gI)return void e.onload();let o={};for(let e=0;e<i;e++)(t=B[r[e]]).status<$?t.fetch(o):t.status===F&&t.load();for(let e in o)o.hasOwnProperty(e)&&o[e]()},U.prototype.onload=function(){let e=this;e.status=V,e._gJ&&e._gJ();let t,r,i=e._gH;for(t in i)i.hasOwnProperty(t)&&((r=B[t])._gI-=i[t],0===r._gI&&r.onload());delete e._gH,delete e._gI},U.prototype.fetch=function(e){let t=this,i=t.uri;if(t.status=$,!i||O[i])return void t.load();if(H[i])return void P[i].push(t);H[i]=!0,P[i]=[t];let l=()=>{delete H[i],O[i]=!0,o&&(U.save(uri,o),o=null);let e,t=P[i];for(delete P[i];e=t.shift();)e.load()},s=()=>{((e,t,i,o)=>{let l=A.test(e),a=C.createElement(l?"link":"script");i&&(a.charset=i),c(o)||a.setAttribute("crossorigin",o),R(a,t,l,e),l?(a.rel="stylesheet",a.href=e):(a.async=!0,a.src=e),r=a,E?q.insertBefore(a,E):q.appendChild(a),r=null})(i,l,a.charset,a.crossorigin)};e?e[i]=s:s()},U.prototype.exec=function(){let e=this;if(e.status>=K)return e.exports;e.status=K;let t=e.uri,r=e=>U.get(r.resolve(e)).exec();r.resolve=(e=>S(e,t)),r.async=((e,i)=>(U.use(e,i,t+"__gK_"+u()),r));let i=e.factory,o=h(i)?i(r,e.exports={},e):i;return void 0===o&&(o=e.exports),delete e.factory,e.exports=o,e.status=D,o},U.define=function(e,t,l){let a=arguments.length;1===a?(l=e,e=void 0):2===a&&(l=t,p(e)?(t=e,e=void 0):t=void 0),!p(t)&&h(l)&&(t=[]);let s={id:e,uri:S(e),deps:t,factory:l};if(!s.uri&&C.attachEvent){let e=(()=>{if(r)return r;if(i&&"interactive"===i.readyState)return i;let e=q.getElementsByTagName("script");for(let t=e.length;t--;){let r=e[t];if("interactive"===r.readyState)return i=r}})();e&&(s.uri=e.src)}s.uri?U.save(s.uri,s):o=s},U.save=((e,t)=>{let r=U.get(e);r.status<F&&(r.id=t.id||e,r._gG=t.deps||[],r.factory=t.factory,r.status=F)}),U.get=((e,t)=>B[e]||(B[e]=new U(e,t))),U.use=((t,r,i)=>{let o=U.get(i,p(t)?t:[t]);o._gJ=(()=>{let t=[],i=o.resolve();for(let e=0,r=i.length;e<r;e++)t[e]=B[i[e]].exec();r&&r.apply(e,t),delete o._gJ}),o.load()}),l.use=((e,t)=>{U.use(e,t,a.cwd+"__at_"+u())}),e.define=U.define,a.base=j,a.cwd=I,a.charset="utf-8",l.config=(e=>{for(let t in e){let r=e[t],i=a[t];if(i&&d(i))for(let e in r)i[e]=r[e];else p(i)&&(r=i.concat(r)),a[t]=r}return l})})(this),(e=>{window.define?define("magix5",e):window.Magix=e()})(()=>{let e=0,t=[],r=window,i=document,o=r.setTimeout,l=encodeURIComponent;function a(){}let s,d=JSON.stringify,n=i.head,p=r.performance,h=p.now.bind(p),c="prototype",f=Object[c].toString,u=e=>f.call(e).slice(8,-1),g=e=>"Object"==u(e),b=Array.isArray,x=t=>(t||"_")+e++,m=e=>i.getElementById(e),y=(e,t)=>e.innerHTML=t,_={rootId:x(),wait:a,error(e){throw e}},w=e=>!e||"object"!=typeof e,v=(e,t,r)=>{if(e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},k=e=>{e["\x1ea"]=null},{assign:S,keys:C,hasOwnProperty:I}=Object,z=n.getAttribute,T=(e,t)=>z.call(e,t),j=(e,t,r)=>{t&&!j[e]&&(j[e]=1,r=i.createElement("style"),y(r,t),n.appendChild(r))},q=(e,t,r,i)=>{try{i=b(t)?e.apply(r,t):e.call(r,t)}catch(e){_.error(e)}return i},E=(e,t)=>e&&I.call(e,t),A=(e,t)=>{let r,i;if(w(t))"\x1e"==(r=t+"")[0]&&(t=e[r]);else for(r in t)i=t[r],i=A(e,i),t[r]=i;return t},L=(e,t)=>t.a-e.a;function R(e,t,r){(r=this).a=[],r.b=t||5,r.c=r.b+(e||20)}S(R[c],{get(e){let t=this.a["\x1e"+e];return t&&(t.a++,t=t.c),t},set(e,t){let r=this,i=r.a,o="\x1e"+e,l=i[o],a=r.b;if(!l){if(i.length>=r.c)for(i.sort(L);a--;)(l=i.pop()).a>0&&r.del(l.o);l={d:e},i.push(l),i[o]=l}l.c=t,l.a=1},del(e){e="\x1e"+e;let t=this.a,r=t[e];r&&(r.a=-1,r.c="",t[e]=null)},has(e){return E(this.a,"\x1e"+e)}});let N={bubbles:!0,cancelable:!0},B=[],H=(e,t,r,i,o,l)=>{let a={a:o,b:r,c:t,d:e,e(e){o?q(r,e,l):r(e)}};B.push(a),e.addEventListener(t,a.e,i)},O=(e,t,r,i,o)=>{for(let l,a=B.length;a--;)if((l=B[a]).c==t&&l.a==o&&l.d==e&&l.b===r){B.splice(a,1),e.removeEventListener(t,l.e,i);break}},P=new R,$=(e,t,r)=>(P.has(e)?r=P.get(e):(r=q(Function(`return ${e}`)),t&&P.set(e,r)),r),F=decodeURIComponent,M=new R,V=e=>{let t,r,i,o,l,a,s=M.get(e);if(!s){if(o={},-1==(l=e.indexOf("?"))?(t=e,a=""):(t=e.substring(0,l),a=e.substring(l+1)),a)for(l of a.split("&"))[r,i]=l.split("="),o[F(r)]=F(i||"");M.set(e,s={a:t,b:o})}return{path:s.a,params:S({},s.b)}},K=new R,D=(e,t,r)=>(K.has(e)?r=K.get(e):(r=$(e,null),e.includes("\x1e")?A(t,r):K.set(e,r)),r),U=0,Y=[],G=()=>{let e,t,r,i=h(),l=_.wait;try{for(;;){if(e=Y[U],r=Y[U-1],t=Y[U+1],Y[U]=null,Y[U-1]=null,Y[U+1]=null,Y[U+2]=null,U+=4,!e){l(0),Y.length=U=0;break}if(e!=a&&(b(t)?e.apply(r,t):e.call(r,t)),h()-i>8&&Y.length>U){l(1),o(G);break}}}catch(e){_.error(e),o(G)}},J=(e,t,r,i)=>{if(U||(U=1,o(G)),i)for(let e=Y.length-1;e>=U;e-=4)Y[e]==i&&(Y[e-3]=null,Y[e-2]=a,Y[e-1]=null,Y[e]=null);Y.push(r,e,t,i)},X=e=>e.__esModule||window.Symbol&&"Module"===e[Symbol.toStringTag],W=(e,t)=>{if(e){let r=[];seajs.use(e,(...e)=>{for(let t of e)r.push(X(t)?t.default:t);J(t,r)})}else J(t)},Z=(e,t,r,i)=>(a[c]=t[c],i=new a,S(i,r),i.constructor=e,e[c]=i,e),Q=e=>e;let ee,te,re={fire(e,t){let r,i,o=this,l=o["\x1e"+e],a=0;if(t||(t={}),l)for(r=l.length;a<r;a++)(i=l[a]).a?(i.b=1,q(i.a,t,o),i.b=""):i.b||(l.splice(a--,1),r--);(l=o[`on${e}`])&&q(l,t,o)},on(e,t){let r="\x1e"+e;(this[r]||(this[r]=[])).push({a:t})},off(e,t){let r,i="\x1e"+e,o=this,l=o[i];if(t){if(l)for(r of l)if(r.a==t){r.a="";break}}else o[i]=null,o[`on${e}`]=null}},ie={},oe=(e,t,r,i)=>{t.includes("\x1e")&&(i=ie[e])&&A(i.a,r)},le=(e,t)=>{E(ie,e)||(ie[e]=t)},ae=(e,t,r,i,o,l,a)=>{for(t=e.c,o=e.d;t.length;)[r,a,i]=t.shift(),J(i,(l=o[r])&&q(l,a,o))},se=(e,t)=>{let r,i,o;for(r in e.b)(o=t?(i=ie[r])&&v(i.root,t):1)&&e.unmount(r,1)},de=e=>{let{d:t,root:r}=e;e.c=[],t&&(e.d=0,t.a&&(t.a=0,k(t),se(e),t.fire("destroy"),ot(t,1),r&&e.f&&y(r,e.g))),e.h++},ne=(e,t,r)=>{let i,o,l,a,{id:s,root:d,pId:n}=e;!e.f&&d&&(e.f=1,e.g=d.innerHTML),de(e),d&&t&&(i=V(t),l=i.path,e.path=t,a=i.params,oe(n,t,a),e.i=l,(n=a["\x1e"])&&g(n)?a=n:S(a,r),o=e.h,W(l,t=>{o==e.h&&(t?(ht(t),l=new t(s,d,e,a),e.d=l,ot(l),q(l.init,a,l),J(l.f,a,l),J(()=>{l.g(),l.tmpl||l.h||it(l)})):_.error(Error(`${s} cannot load:${l}`)))}))},pe=e=>e.b||(e.b=x(te));function he(e,t){let r=this,i=pe(e);r.id=i,r.root=e,r.h=1,r.b={},r.pId=t,r.c=[],r.a={},le(i,r)}S(he,{root:()=>ee,all:()=>ie,byId:e=>ie[e],byNode:e=>ie[e.b]}),S(he[c],{mount(e,t,r){let i,o=this,l=o.id,a=o.b,s=pe(e);return(i=ie[s])||(E(a,s)||(o.j=0),a[s]=s,i=new he(e,l)),ne(i,t,r),i},unmount(e,t){let r,i;var o,l,a;e=e?this.b[t?e:e.b]:this.id,(r=ie[e])&&(de(r),i=r.pId,(l=ie[o=e])&&(delete ie[o],(a=l.root).a=0,a.b=0,l.id=l.root=l.pId=l.b=null),(r=ie[i])&&E(r.b,e)&&(delete r.b[e],r.j=0))},children(e){return(e=this).j||(e.j=C(e.b))},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=ie[t.pId];return t},invoke(e,t){let r,i,o=this,l=o.c;return new Promise(a=>{(r=o.d)&&r.h?a((i=r[e])&&q(i,t,r)):l.push([e,t,a])})}});let ce=new R(30,10),fe=/([\w\-]+)\x1e(\x1e)?([^(]+)\(([\s\S]*?)\)/,ue={},ge={},be={},xe={},me={},ye={},_e={capture:!0},we={passive:!1},ve={passive:!1,capture:!0};let ke=(e,r)=>{let i,o,l,a,d,n,p,h,c=[],f=e,u=T(e,"mx5-"+r),g=0;if(u&&((d=ce.get(u))||(d={v:(d=u.match(fe)||t)[1],t:d[2],n:d[3],i:d[4]},ce.set(u,d)),d=S({},d)),d&&!d.v||me[r]){if(!(h=f.c)){for(p=[f];f!=s&&(f=f.parentNode);){if(ie[o=f.b]||(o=f.c)){h=o;break}p.push(f)}if(h)for(u of p)u.c=h}if(h){f=e.b,ie[f]&&(g=h=f);do{if((i=ie[h])&&(n=i.d)){if(a=(l=n.i)[r])for(f=a.length;f--;)l={r:o=a[f],v:h,n:o},o?!g&&e.matches(o)&&c.push(l):g&&c.unshift(l);if(n.tmpl&&!g)break;g=0}}while(i&&(h=i.pId))}}return d&&c.push(d),c},Se=e=>{let t,r,i,o,l,a,s,{target:d,type:n}=e,p=[];for(;d&&1==d.nodeType&&!(e.cancelBubble||(r=d.d)&&r[n]);){if(r=1,p.push(d),(t=ke(d,n)).length)for(a of(p.length=0,t)){let{v:t,n:p,i:h,t:c}=a;if(!(o=(i=ie[t])&&i.d)){0;break}o.h&&o.a&&((a=o[l=p+"\x1e"+n])&&(e.eventTarget=d,s=h?D(h,i.a):ye,e.params=s,q(a,e,o)),c||(d=o.root,r=0))}r&&((o=(i=ie[d.b])&&i.d)&&o.j[n]&&(p.length=0),d=d.parentNode)}for(d of p)(r=d.d||(d.d={}))[n]=1},Ce=(e,t,r,i)=>{let o=0|ue[e],l=0|be[e],a=0|xe[e],d=r?-1:1,n=r?O:H;4&i&&(l+=d,be[e]=l),8&i&&(a+=d,xe[e]=a);let p,h=ge[e];l&&a?p=ve:l?p=we:a&&(p=_e),o&&r!==o?p!=h&&(O(s,e,Se,h),H(s,e,Se,p)):n(s,e,Se,r?h:p),ge[e]=p,ue[e]=o+d,t&&(me[e]=(0|me[e])+d)};let Ie={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},ze=/[&<>"'\`]/g,Te=e=>null==e?"":""+e,je=e=>Ie[e],qe=e=>Te(e).replace(ze,je),Ee={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Ae=e=>Ee[e],Le=/[!')(*]/g,Re=e=>l(Te(e)).replace(Le,Ae),Ne=/[\\'"]/g,Be=e=>Te(e).replace(Ne,"\\$&"),He=(e,t,r)=>(e[r]=t,r),Oe=(e,r,i)=>{if(e.a&&(i=e.tmpl)){let r,o=e.k,l=e.id,a=ie[l],s={a:[],b:0},d=e.d,n=a.a;e.l=0,e.k={},r=i(d,$e,l,Te,Re,n,He,Be,b);let p=()=>{if(e.a)for(r of((i=s.c||!e.h)&&it(e),s.a))J(r.g,t,r,"\x1e"+r.id)},h=()=>{if(e.m=r,e.n>1)e.n=1,p(),Oe(e);else{for(r of(e.n=0,p(),o=e.o))r();o.length=0}};J(We,[e.root,e.m,r,s,a,o,e,h])}},Pe={},$e=(e,t,r,i,o)=>{let l;if(e){t=t||Pe;let a,s,d,n,p,h="",c={},f=0,u="<"+e,g="",b="",x=[],m=0;if(r)for(n of r){if(d=n.a,n.b==Me){if(!d)continue;d=qe(d)}b+=d,p&&n.b==Me&&p.b==Me?p.a+=n.a:(n.d&&(c[n.d]=(c[n.d]||0)+1,f++),a=a||n.e,p=n,x.push(n))}for(s in i=i||Pe,t)!1!==(d=t[s])&&null!=d?(!0===d&&(t[s]=d=i[s]?d:""),"id"==s||"mx5-key"==s?h=d:"_"!=s||h?"mx5-view"==s&&d&&(m=1,h||(h=e+"\x1e"+V(d).path)):h=d,"value"==s&&"textarea"==e?(b=d,g+=d):E(Fe,s)||(u+=` ${s}="${d&&qe(d)}"`)):i[s]||delete t[s];g+=u,l={a:u+=o?"/>":`>${b}</${e}>`,c:b,d:h,b:e,f:m,e:a||t.$,g:i,h:g,i:t,j:x,k:c,l:f,m:o}}else l={b:t?"\x1e":Me,a:r+""};return l},Fe={_:1,$:1,"mx5-key":1};let Me=e;let Ve="http://www.w3.org/",Ke={svg:`${Ve}2000/svg`,math:`${Ve}1998/Math/MathML`},De=(e,t,r)=>{let i,o,l,a=0,s=r.g,d=t.g,n=r.i,p=t.i;if(t)for(i in p)E(n,i)||(a=1,(l=d[i])?e[l]="":e.removeAttribute(i));for(i in n)E(Fe,i)||(o=n[i],(l=s[i])?t&&e[l]==o||(a=1,e[l]=o):t&&p[i]==o||(a=1,e.setAttribute(i,o)));return a},Ue=(e,t)=>{let r,o=e.b;return o==Me?r=i.createTextNode(e.a):(r=i.createElementNS(Ke[o]||t.namespaceURI,o),De(r,0,e),y(r,e.c)),r},Ye=(e,t,r,i,o)=>{let l,a,s,d={};for(l=i;l>=r;l--,o--)(s=(a=e[l]).d)&&(a=d[s]||(d[s]=[])).push(t[o]);return d},Ge=(e,t)=>e.d&&t.d==e.d||!e.d&&!t.d&&e.b==t.b||"\x1e"==t.b,Je=(e,t,r,i)=>{r&&((i=ie.b)?i.unmount():se(t,e))},Xe=(e,t,r,i,o)=>{Je(e,r,1==e.nodeType),t.removeChild(e),--i.b||J(o)},We=(e,t,r,i,o,l,a,s)=>{if(a.a)if(t){if(t.e||t.c!=r.c){let d,n,p,h,c,f=t.j,u=r.j,g=r.k,b=r.l,x=t.l,m=e.childNodes,_=0,w=f.length-1,v=0,k=u.length-1;0;let S,C=f[_],I=f[w],z=u[v],T=u[k],j=_,q=w;for(;_<=w&&v<=k;)if("\x1e"!=z.b&&"\x1e"!=T.b||(q=-1),C)if(I)if(Ge(C,z))i.b++,J(Ze,[m[j],e,C,z,i,o,l,a,s]),g[C.d]&&(g[C.d]--,b--,(h=c&&c[C.d])&&--c[C.d]),j++,C=f[++_],z=u[++v];else if(Ge(I,T))i.b++,J(Ze,[m[q],e,I,T,i,o,l,a,s]),g[I.d]&&(g[I.d]--,b--),q--,I=f[--w],T=u[--k];else if(Ge(C,T))n=m[j],e.insertBefore(n,m[q+1]),i.b++,J(Ze,[n,e,C,T,i,o,l,a,s]),g[C.d]&&(g[C.d]--,b--),q--,C=f[++_],T=u[--k];else if(Ge(z,I))n=m[q],e.insertBefore(n,m[j++]),i.b++,J(Ze,[n,e,I,z,i,o,l,a,s]),g[I.d]&&(g[I.d]--,b--),I=f[--w],z=u[++v];else{if(!c&&b>0&&x>0&&(c=Ye(f,m,_,w,q)),S=m[j],(h=c&&c[z.d])&&(h=h.pop())){if(p=C,h!=S){for(n=_+1,d=j+1;n<=w;n++)if((p=f[n])&&m[d++]==h){f[n]=null;break}_--,e.insertBefore(h,S)}g[p.d]&&g[p.d]--,i.b++,J(Ze,[h,e,p,z,i,o,l,a,s])}else c&&c[C.d]&&g[C.d]||ie[S.b]&&!z.f?(i.c=1,e.insertBefore(Ue(z,e),S),_--,q++):(i.b++,J(Ze,[S,e,C,z,i,o,l,a,s]));++j,C=f[++_],z=u[++v]}else I=f[--w];else C=f[++_];for(d=v,n=1;d<=k;d++,n++){if(p=u[d],i.c=1,"\x1e"==p.b){i.c=1,y(e,p.a);break}e.insertBefore(Ue(p,e),m[q+n])}for(d=j;d<=q;d++)i.c=1,i.b++,J(Xe,[m[d],e,o,i,s])}}else i.c=1,y(e,r.c);i.b||J(s)},Ze=(e,t,r,i,o,l,a,s,d)=>{if(s.a){0;let n=r.i,p=i.i;if(r.e||r.a!=i.a)if("\x1e"==i.b)o.c=1,y(t,i.a);else if(r.b==i.b){if(r.b==Me)o.c=1,e.nodeValue=i.a;else if(!n._||n._!=p._){let t,h,c,f,u,g,b,x=p["mx5-view"],m=i.c,y=r.h!=i.h,_=ie[e.b],w=x&&V(x);if(y&&(y=De(e,r,i))&&(o.c=1),x&&_&&_.i==w.path&&(f=_.d)){if(g=m!=r.c,b=x!=_.path,c=n.$,!g&&!b&&c)for(c of u=c.split(","))if("#"==c||E(a,c)){b=1;break}(b||g)&&(c=f.f,u=w.params,oe(_.pId,x,u),_.path=x,_.g=m,!1!==q(c,u,f)&&o.a.push(f),t=!f.tmpl)}else t=1,h=_;h&&(o.c=1,_.unmount()),t&&!i.m&&We(e,r,i,o,l,a,s,d)}}else o.c=1,Je(e,l,1),t.replaceChild(Ue(i,t),e)}--o.b||J(d)},Qe={},et=S({get:e=>e?Qe[e]:Qe,set(e){S(Qe,e)}},re),tt=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,rt=(e,t,r)=>(e.a?r=e:((r=function(e,t){for(t of r.a)q(t,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),it=e=>{let t,r;e.a&&(r=e.h,e.h=1,((e,t,r,i)=>{for(r of(t=t||e.root).querySelectorAll(`[mx5-view][mx5-owner="${e.id}"]`))r.a||(r.a=1,e.mount(r,T(r,"mx5-view")))})(t=e.owner),r||J(ae,t))},ot=(e,t)=>{let r,{j:i,i:o,p:l,id:a}=e;for(r in i)Ce(r,o[r],t,i[r]);for(r of(i=t?O:H,l))i(r.a,r.b,r.c,r.d,a,e)},lt={win:r,doc:i};function at(...e){return S(this,...e),this}let st=(e,t,r)=>{let i,o,l,a,s={};for(o of e)for(i in o)l=o[i],a=s[i],"ctor"!=i?(tt.test(i)&&(a?l=rt(a,l):l.b=1),s[i]=l):r.push(l);for(i in s)E(t,i)||(t[i]=s[i])};function dt(...e){let t=this.a||(this.a=[]);return st(e,this[c],t),this}let nt=e=>(function(...t){return q(e,t,this)}),pt=(e,t,r,i)=>{if(e)for(i of e)q(i,t,r)};let ht=e=>{if(!e["\x1e"]){e["\x1e"]=1;let t,r,i,o,l,a,s,d,n,p,h,f=e[c],u={},g=[],b={};for(s in f)if(t=f[s],r=s.match(tt))for(d of([,a,i,o,h]=r,p=h?$(h):ye,o=o.split(","))){if(l=lt[i],n=1,!1===p.passive&&(n|=4),p.capture&&(n|=8),a){if(l){g.push({c:t,a:l,b:d,d:p});continue}n=2,(l=b[d])||(l=b[d]=[]),l[i]||(l[i]=1,l.push(i))}u[d]|=n,(l=f[d=i+"\x1e"+d])?l.b&&(t.b?f[d]=rt(t,l):E(f,s)&&(f[d]=t)):f[d]=t}f.g=f.render=nt(f.render),f.j=u,f.p=g,f.i=b,f.f=f.assign}};function ct(e,t,r,i,o){(o=this).root=t,o.owner=r,o.id=e,o.a=1,o.l=1,o.d={},o.k={},o.n=0,o.o=[],pt(ct.a,i,o)}function ft(){this.id=x("b"),this.a={}}S(ct,{merge:dt,extend:function e(t){let r=this,i=(t=t||{}).ctor;function o(e,t,l,a,s){r.call(s=this,e,t,l,a),i&&q(i,a,s),pt(o.a,a,s)}return o.merge=dt,o.extend=e,o.static=at,Z(o,r,t)}}),S(ct[c],re,{init:a,render:a,assign:a,get(e,t){return t=this.d,e&&(t=t[e]),t},set(e,t){let r,i,o,l=this,a=l.d,s=l.k,d=l.l;for(o in e)r=e[o],i=a[o],w(r)&&i==r||E(t,o)||(s[o]=1,d=1),a[o]=r;return l.l=d,l},digest(e,t){return e=this.set(e,t),new Promise(t=>{e.l?(e.n++,e.o.push(t),1==e.n&&Oe(e,1)):e.n?e.o.push(t):t()})},finale(){let e=this;return new Promise(t=>{e.n?e.o.push(t):t()})}}),S(ft[c],{get(e,t){let r,i=this.a;if(e){let t,r=b(e)?e.slice():(e+"").split(".");for(;(t=r.shift())&&i;)i=i[t];t&&(i=void 0)}return void 0!==t&&(r=u(t))!=u(i)&&(i=t),i},set(e){S(this.a,e)}});let ut=(e,t,r)=>i=>{if(r=e[t]){delete e[t];for(let e of r)q(e,i,r.a)}},gt=(e,t,r,i,o)=>{if(e.a)return e;if(e.b)return e.enqueue(gt.bind(e,e,t,r,i,o));e.b=1,b(t)||(t=[t]);let l=e.constructor,a=0,s=l.d,d=((e,t,r,i,o,l)=>{let a=[],s=null,d=0;return(t,n,p)=>{let c;d++;let f,u=t.b,g=u.a;if(a[n+1]=t,p?(s=p,c=1):l.has(g)||(g&&l.set(g,t),u.b=h(),(f=u.c)&&q(f,t,t),c=1),!r.a){let l=d==i;l&&(r.b=0,2==o&&(a[0]=s,q(e,a,r))),1==o&&q(e,[p||null,t,l,n],r)}}})(r,0,e,t.length,i,l.c);for(let e of t)if(e){let t,[r,i]=l.get(e,o),n=r.b.a,p=d.bind(r,r,a++);n&&s[n]?s[n].push(p):i?(n&&((t=[p]).a=r,s[n]=t,p=ut(s,n)),l.e(r,p)):p()}return e};function bt(){this.id=x("s"),this.f=[]}S(bt[c],{all(e,t){return gt(this,e,t,2)},save(e,t){return gt(this,e,t,2,1)},one(e,t){return gt(this,e,t,1)},enqueue(e){let t=this;return t.a||(t.f.push(e),t.dequeue(t.g)),t},dequeue(...e){let t,r=this;r.b||r.a||(r.b=1,o(()=>{r.b=0,r.a||(t=r.f.shift())&&q(t,r.g=e)}))},destroy(e){(e=this).a=1,e.f=0}});let xt=(e,t,r)=>[d(t),d(e)].join("\x1e"),mt=S({add(e){let t,r=this.h;for(t of(b(e)||(e=[e]),e))if(t){let{name:e,cache:i}=t;t.cache=0|i,r[e]=t}},create(e){let t=this.meta(e),r=0|e.cache||t.cache,i=new ft;i.set(t),i.b={c:t.after,a:r&&xt(t,e)},g(e)&&i.set(e);let o=t.before;return o&&q(o,i,i),i},meta(e){return this.h[e.name||e]||e},get(e,t){let r,i,o=this;return t||(r=o.cached(e)),r||(r=o.create(e),i=1),[r,i]},cached(e){let t,r,i=this,o=i.c,l=i.meta(e),a=0|e.cache||l.cache;if(a&&(r=xt(l,e)),r){let e=i.d[r];e?t=e.a:(t=o.get(r))&&h()-t.b.b>a&&(o.del(r),t=0)}return t}},re);bt.extend=((e,t,r)=>{function i(){bt.call(this)}return i.e=e,i.c=new R(t,r),i.d={},i.h={},S(i,mt),Z(i,bt)});let yt=0,_t={config:(e,t)=>(t=_,e&&(t=g(e)?S(t,e):t[e]),t),boot(e){yt||(yt=1,S(_,e),ne(((e,t)=>(ee||(s=i.body,e=te=_.rootId,(t=m(e))||(t=s),ee=new he(t)),ee))(),_.defaultView))},unboot(){yt&&ee&&(ee.unmount(),ee=null)},toMap:(e,t)=>{let r,i={};if(e)for(r of e)i[t&&r?r[t]:r]=t?r:1+(0|i[r]);return i},toTry:q,toUrl:(e,t,r)=>{let i,o,a,s=[];for(o in t)((i=t[o]+"")||E(r,o))&&(i=l(i),s.push(a=o+"="+i));return a&&(e+=(e&&(e.includes("?")?"&":"?"))+s.join("&")),e},parseUrl:V,guid:x,use:W,dispatch:(e,t,r)=>{let i=new Event(t,N);S(i,r),e.dispatchEvent(i)},guard:Q,type:u,has:E,inside:v,applyStyle:j,Cache:R,View:ct,Vframe:he,State:et,Service:bt,Event:re,mark:(e,t,r,i,o)=>(null!==e[o="\x1ea"]&&(r=e[o]||(e[o]={}),E(r,t)||(r[t]=0),i=++r[t]),r=>(r=e[o],r&&i===r[t])),unmark:k,node:m,task:J,taskFinale:()=>new Promise(e=>{J(e)})};return _t.default=_t,_t});let designer=e=>{let t=document.getElementById("boot").src.replace(/\/[^\/]+$/,"/");seajs.config({paths:{display:t+"display",elements:t+"elements",i18n:t+"i18n"},alias:{magix:"magix5"}}),seajs.use(["magix5","i18n/index"],(t,r)=>{t.applyStyle("rd-_",'body,h5,input,p,textarea,ul{margin:0;padding:0}ul{list-style-type:none;list-style-image:none}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.5}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h5{font-size:14px}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a:focus,button:focus,input:focus,textarea,textarea:focus{outline:none;resize:none}a{color:#fa742b;text-decoration:none}a:focus,a:hover{color:#bd361b}a:active,a:focus,a:hover,a:visited{outline:0;text-decoration:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}.rd-_{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;white-space:nowrap;padding:4px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-_:focus,.rd-_:hover{background-color:#a0a0a0;color:#333}.rd-a{background-color:#fa742b;color:#fff}.rd-a:focus,.rd-a:hover{background-color:#bd361b;color:#fff}.rd-_[disabled]{background-color:#f5f5f5;color:#999}.rd-_[disabled]:hover{border-color:#e6e6e6;color:#999}.rd-b{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143;background:#fff}.rd-c{padding:18px 25px}.rd-d{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6;background:#fff}.rd-e{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.rd-e:after,.rd-e:before{content:""}.rd-e:after,.rd-e:before,.rd-f{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:rd-_ 1s ease-in-out infinite both;animation:rd-_ 1s ease-in-out infinite both}.rd-e:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.rd-f{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}::-moz-placeholder{color:#999}:-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(243,123,99,.6)}::selection{background-color:rgba(243,123,99,.6)}.rd-g,.rd-h{caret-color:#fa742b;display:inline-block;height:22px;padding:3px 4px;border-radius:2px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none;transition:border-color .25s}.rd-g:hover,.rd-h:hover{border-color:#ccc}.rd-g:focus,.rd-h:focus,.rd-i,.rd-i:hover{border-color:#fa742b!important}.rd-h{height:auto}.rd-g[disabled],.rd-h[disabled]{background-color:#f5f5f5}.rd-g[disabled]:hover,.rd-h[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}body{min-width:1400px}@font-face{font-family:rd-_;src:url(//at.alicdn.com/t/font_890516_uur53b5ypv.eot);src:url(//at.alicdn.com/t/font_890516_uur53b5ypv.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_890516_uur53b5ypv.woff2) format("woff2"),url(//at.alicdn.com/t/font_890516_uur53b5ypv.woff) format("woff"),url(//at.alicdn.com/t/font_890516_uur53b5ypv.ttf) format("truetype"),url(//at.alicdn.com/t/font_890516_uur53b5ypv.svg#iconfont) format("svg")}.rd-j{font-family:rd-_;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rd-k{font-size:12px}.rd-l{margin-right:2px}.rd-m{transform:rotate(180deg)}.rd-n{transform:rotate(90deg)}.rd-o{transform:rotate(270deg)}.rd-p{margin-right:10px}.rd-q{margin-left:5px}.rd-r{margin-left:10px}.rd-s{width:100%}.rd-t{height:100%}.rd-u{z-index:1}.rd-v{text-align:right}.rd-w{text-align:center}.rd-x{float:left}.rd-y{float:right}.rd-z{cursor:pointer}.rd-A{position:absolute}.rd-B{position:relative}.rd-C{pointer-events:none}.rd-D{pointer-events:all}.rd-E{margin:30px 0}.rd-F{font-size:16px}html .rd-G{display:none}.rd-H:after,.rd-H:before{content:" ";display:table}.rd-H:after{clear:both}.rd-I{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-J::-webkit-scrollbar,.rd-J::-webkit-scrollbar-corner{height:4px;width:4px;background:#edeef3}.rd-J::-webkit-scrollbar-thumb{background:#fa742b;border-radius:2px}.rd-J::-webkit-scrollbar-thumb:hover{background:#e64e30}.rd-K{scroll-behavior:smooth}.rd-K::-webkit-scrollbar,.rd-K::-webkit-scrollbar-corner{height:2px;width:2px;background:#fafafa}.rd-L{white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.rd-M{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.rd-N{display:flex}.rd-O{align-items:center}.rd-P{transform:scaleX(-1)}.rd-Q{margin-left:150px}.rd-R{position:-webkit-sticky;position:sticky;top:0}.rd-S{text-align:center}.rd-T{margin-bottom:4px}.rd-U{margin-top:4px}.rd-V{width:140px}.rd-W{width:220px}.rd-X{height:100px}.rd-Y{justify-content:space-between}.rd-Z{justify-content:center}.rd-0{flex-wrap:wrap}.rd-1{cursor:pointer}.rd-2{border-collapse:collapse}.rd-3{border:1px solid #000;padding:0;word-break:break-all}.rd-4{overflow:hidden;white-space:pre}.rd-5{border:2px solid #fa742b}.rd-6{border-right:6px solid #fa742b;right:-4px}.rd-6,.rd-7{pointer-events:all}.rd-7{border-bottom:6px solid #fa742b;bottom:-4px}.rd-8{left:-1px;top:-1px;bottom:-1px;right:-1px;pointer-events:none;z-index:1}.rd-9{box-shadow:inset 2px 2px 10px rgba(0,0,0,.2);background-color:rgba(250,116,43,.06274509803921569);left:0;top:0;bottom:0;right:0}.rd-a_{width:80px;text-align:right}.rd-aa{background:rgba(250,116,43,.2)}.rd-ab{align-items:flex-start}.rd-ac{display:flex;align-items:center;cursor:pointer}.rd-ad{visibility:hidden;position:absolute}.rd-ae{width:32px;height:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;border-radius:22px;background:#ccc}.rd-ae:before{content:"";width:12px;height:12px;position:absolute;left:0;margin:2px;border-radius:50%;background:#fff;transition:all .25s}.rd-ad:checked+.rd-ae{background:#fa742b}.rd-ad:checked+.rd-ae:before{left:100%;margin-left:-14px}.rd-ad:disabled+.rd-ae{background:#e6e6e6;cursor:not-allowed}.rd-af{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-af:hover{background:#ccc}.rd-ag,.rd-ag:hover{background:#fa742b;color:#fff}.rd-ah,.rd-ah .rd-af{cursor:not-allowed;opacity:.7}.rd-ah .rd-af,.rd-ah .rd-af:hover{background:#e9e9e9}.rd-ah .rd-ag,.rd-ah .rd-ag:hover{background:#fb955d}.rd-ai{color:#999}.rd-aj{color:#666}.rd-ak{overflow:hidden}.rd-al{overflow:visible}.rd-am{font-size:10px}.rd-an{right:2px}.rd-ao{top:2px}.rd-ap{bottom:2px}.rd-aq{position:absolute;border:1px dashed #fa742b;display:none;pointer-events:none;z-index:2}.rd-ar{max-height:100%}.rd-as{border:1px dotted #999}.rd-at{max-width:100%}.rd-au{max-height:100%}');let i=navigator.language.toLowerCase();try{let e=window.localStorage;e&&(i=e.getItem("l.lang")||i)}catch(e){}t.config(e),t.config({lang:i}),document.title=r("E");let o=/(?:\r\n|\r|\n)/g,l={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},a=/[&<>"'\`]/g,s=e=>l[e],d=e=>(e+"").replace(a,s).replace(o,"<br/>");t.View.merge({ctor(){this.set({textReturn:d,i18n:r})}}),t.boot({defaultPath:"/index",defaultView:"printer/index",rootId:"app",error(e){setTimeout(()=>{throw e},0)}})})};define("i18n/index",["magix","./zh-cn"],(e,t,r)=>{const i=e("magix"),o=e("./zh-cn"),l={"zh-cn":o,zh:o},a=i.has,s=/\{(\d+)\}/g;r.exports=((e,...t)=>{let r=(i.config("lang")||navigator.language).toLowerCase();a(l,r)||(r="zh-cn");let o=l[r],d=a(o,e)?o[e]:e;return t.length&&(d=d.replace(s,(e,r,i)=>(r|=0,t.length>r?(i=t[r],a(o,i)?o[i]:i):e))),d})}),define("i18n/zh-cn",[],(e,t,r)=>{r.exports={E:"\u4e0d\u4e8c\u638c\u67dc\u6253\u5370\u8bbe\u8ba1\u5668",bF:"\u63d0\u793a",bG:"\u786e\u5b9a",bH:"\u53d6\u6d88",S:"\u653e\u5927(Ctrl+\u52a0\u53f7)",R:"\u7f29\u5c0f(Ctrl+\u51cf\u53f7)",_:"\u5220\u9664\u8f85\u52a9\u7ebf",a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",J:"\u64a4\u9500(Ctrl+Z)",K:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",b7:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",b8:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",b9:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",c_:"\u5143\u7d20",ca:"\u5c5e\u6027",cb:"\u6570\u636e\u6e90",cc:"\u6982\u89c8\u56fe",Q:"\u6253\u5f00{0}\u9762\u677f(\u6570\u5b57\u952e{1})",P:"\u5173\u95ed{0}\u9762\u677f(\u6570\u5b57\u952e{1})",cd:"\u5c55\u5f00{0}\u9762\u677f(Shift+\u6570\u5b57\u952e{1})",ce:"\u6298\u53e0{0}\u9762\u677f(Shift+\u6570\u5b57\u952e{1})",W:"\u6253\u5f00\u6240\u6709\u9762\u677f(Shift+Z)",V:"\u5173\u95ed\u6240\u6709\u9762\u677f(Shift+Z)",aO:"\u6309\u4e0b\u62d6\u52a8\u65cb\u8f6c\u5143\u7d20",aE:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6",aF:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u9ad8\u5ea6",aP:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6\u548c\u9ad8\u5ea6",a0:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u8c03\u6574\u70b9",cf:"\u7c7b\u578b\uff1a",Y:"X\u5750\u6807\uff1a",Z:"Y\u5750\u6807\uff1a",a_:"\u5bbd\uff1a",a3:"\u7f16\u8f91\u533a\uff1a",ah:"\u7ebf\u6761\u5bbd\uff1a",aa:"\u9ad8\uff1a",ap:"\u65cb\u8f6c\u89d2\u5ea6\uff1a",aU:"\u6c34\u5e73\u955c\u50cf\uff1a",aT:"\u5782\u76f4\u955c\u50cf\uff1a",b_:"\u80cc\u666f\u989c\u8272\uff1a",bp:"\u6587\u5b57\u989c\u8272\uff1a",bm:"\u5b57\u53f7\uff1a",bn:"\u5b57\u4f53\uff1a",a6:"\u7f51\u683c\uff1a",bJ:"\u6587\u672c\uff1a",a8:"\u7f51\u683c\u9ad8\uff1a",a7:"\u7f51\u683c\u5bbd\uff1a",a9:"\u62d6\u52a8\u5438\u9644\uff1a",a2:"\u7eb8\u5f20\u5c3a\u5bf8\uff1a",ba:"\u80cc\u666f\u56fe\u7247\uff1a",aZ:"\u989c\u8272\uff1a",ag:"\u7ebf\u6761\u989c\u8272\uff1a",bb:"\u5e73\u94fa\u65b9\u5f0f\uff1a",bc:"\u62c9\u4f38\u94fa\u6ee1",bd:"\u539f\u59cb\u5c3a\u5bf8",be:"\u6a2a\u5411\u5e73\u94fa",bf:"\u5782\u76f4\u5e73\u94fa",bg:"\u53cc\u5411\u5e73\u94fa",ad:"\u7ed1\u5b9a\u5b57\u6bb5\uff1a",ak:"\u5b98\u65b9\u7f51\u7ad9\uff1a",an:"\u9501\u5b9a\u7f16\u8f91\uff1a",am:"\u5143\u7d20\u540d\u79f0\uff1a",ab:"\u900f\u660e\u5ea6\uff1a",ae:"\u7f16\u7801\u683c\u5f0f\uff1a",af:"\u663e\u793a\u6587\u672c\uff1a",bo:"\u5b57\u95f4\u8ddd\uff1a",ac:"\u5185\u5bb9\uff1a",bq:"\u6837\u5f0f\uff1a",br:"\u6392\u5217\uff1a",aX:"\u957f\uff1a",aR:"\u56fe\u7247\uff1a",av:"\u8fb9\u6846\u989c\u8272\uff1a",aw:"\u586b\u5145\u989c\u8272\uff1a",aY:"\u7ebf\u7c7b\u578b\uff1a",ar:"\u8fb9\u6846\u7c7b\u578b\uff1a",aq:"\u8fb9\u6846\u5bbd\u5ea6\uff1a",bu:"\u5706\u89d2\uff1a",as:"\u5b9e\u7ebf",au:"\u865a\u7ebf",at:"\u70b9\u7ebf",bh:"\u56fe\u7247\u5bbd\uff1a",bi:"\u56fe\u7247\u9ad8\uff1a",aS:"\u8fd8\u539f\u5c3a\u5bf8\uff1a",bj:"\u6c34\u5e73(%)\uff1a",bk:"\u5782\u76f4(%)\uff1a",al:"\u5e2e\u52a9\uff1a",aD:"\u683c\u5b50\u64cd\u4f5c\uff1a",aB:"\u683c\u5b50\u5bbd\u9ad8\uff1a",bI:"\u683c\u5b50\u80cc\u666f\uff1a",aH:"\u7559\u767d\uff1a",cg:"\u6700\u5927\u5bbd\u5ea6\uff1a",ch:"\u6700\u5927\u9ad8\u5ea6\uff1a",ai:"\u6a2a\u5411\u5145\u6ee1\uff1a",aj:"\u7eb5\u5411\u5145\u6ee1\uff1a",aL:"\u9690\u85cf\u5408\u8ba1\uff1a",aM:"\u9690\u85cf\u5e95\uff1a",aK:"\u9690\u85cf\u5934\uff1a",aC:"\u8fb9\u6846\u663e\u793a\uff1a",ay:"\u8fb9\u6846\u884c\u4e3a\uff1a",az:"\u5408\u5e76",aA:"\u5206\u79bb",a4:"\u6c34\u5e73\u504f\u79fb\uff1a",a5:"\u5782\u76f4\u504f\u79fb\uff1a",aJ:"\u672b\u5c3e\u663e\u5e95\uff1a",aI:"\u521d\u59cb\u663e\u5934\uff1a",j:"\u5168\u9009",m:"\u7c98\u8d34",k:"\u590d\u5236",l:"\u526a\u5207",r:"\u5220\u9664",L:"\u7ec4\u5408\u9009\u4e2d\u5143\u7d20",M:"\u53d6\u6d88\u7ec4\u5408\u5143\u7d20",N:"\u9501\u5b9a\u7f16\u8f91",O:"\u89e3\u9501\u7f16\u8f91",y:"\u7ec4\u5408",z:"\u53d6\u6d88\u7ec4\u5408",n:"\u4e0a\u79fb\u4e00\u5c42",p:"\u79fb\u81f3\u9876\u5c42",o:"\u4e0b\u79fb\u4e00\u5c42",q:"\u79fb\u81f3\u5e95\u5c42",A:"\u540c\u6b65\u5bbd\u4f5c\u4e3a\u9ad8",B:"\u540c\u6b65\u9ad8\u4f5c\u4e3a\u5bbd",C:"\u540c\u6b65\u5bbd",D:"\u540c\u6b65\u9ad8",s:"\u5de6\u5bf9\u9f50",t:"\u53f3\u5bf9\u9f50",v:"\u4e0a\u5bf9\u9f50",w:"\u4e0b\u5bf9\u9f50",x:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",u:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50",b3:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",b1:"\u6e05\u9664\u56fe\u7247",b2:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",b4:"\u56fe\u7247\u5e93",bD:"\u6e05\u9664\u989c\u8272",bv:"\u6587\u672c",a1:"\u7f16\u8f91\u533a",aW:"\u76f4\u7ebf",aG:"\u6570\u636e\u8868\u683c",bs:"\u4e8c\u7ef4\u7801",bt:"\u77e9\u5f62",aQ:"\u56fe\u7247",ao:"\u5706\u5f62",aN:"\u8868\u683c\u5bb9\u5668",ax:"\u5355\u5143\u683c",X:"\u6761\u5f62\u7801",bl:"\u9875\u7801\u5668",aV:"\u8bf7\u9009\u62e9\u56fe\u7247",bX:"\u52a0\u7c97",bY:"\u659c\u4f53",bZ:"\u4e0b\u5212\u7ebf",b0:"\u5220\u9664\u7ebf",bx:"\u6c34\u5e73\u5c45\u5de6",by:"\u6c34\u5e73\u5c45\u4e2d",bz:"\u6c34\u5e73\u5c45\u53f3",bA:"\u5782\u76f4\u5c45\u4e0a",bB:"\u5782\u76f4\u5c45\u4e2d",bC:"\u5782\u76f4\u5c45\u4e0b",bW:"\u62d6\u52a8\u6570\u636e\u6e90\u5b57\u6bb5\u5230\u8fd9\u91cc",bK:"\u4e0a\u65b9\u6dfb\u52a0\u884c",bL:"\u4e0b\u65b9\u6dfb\u52a0\u884c",bM:"\u5de6\u4fa7\u6dfb\u52a0\u5217",bN:"\u53f3\u4fa7\u6dfb\u52a0\u5217",bO:"\u5220\u9664\u5f53\u524d\u884c",bP:"\u5220\u9664\u5f53\u524d\u5217",bQ:"\u6c34\u5e73\u62c6\u5206\u5355\u5143\u683c",bR:"\u5782\u76f4\u62c6\u5206\u5355\u5143\u683c",bS:"\u5411\u5de6\u5408\u5e76\u5355\u5143\u683c",bU:"\u5411\u4e0a\u5408\u5e76\u5355\u5143\u683c",bT:"\u5411\u53f3\u5408\u5e76\u5355\u5143\u683c",bV:"\u5411\u4e0b\u5408\u5e76\u5355\u5143\u683c",bE:"\u786e\u5b9a",b6:"\u70b9\u51fb\u663e\u793a{0}\u8fb9\u6846",b5:"\u70b9\u51fb\u9690\u85cf{0}\u8fb9\u6846",ci:"\u539f\u59cb\u56fe\u7247\u5bbd\u9ad8",bw:"\u8bf7\u8f93\u5165\u5185\u5bb9",T:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u5bbd\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u5bbd\u5ea6)\u540c\u6b65\u5bbd\u5ea6",U:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u9ad8\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u9ad8\u5ea6)\u540c\u6b65\u9ad8\u5ea6",cj:"\u8bf7\u5728\u4e0a\u65b9\u9009\u62e9\u6570\u636e\u6e90",ck:"\u8bf7\u5148\u9009\u4e2d\u652f\u6301\u6570\u636e\u7ed1\u5b9a\u7684\u7ec4\u4ef6",b:"\u5b8b\u4f53",c:"\u9ed1\u4f53",f:"\u6977\u4f53",d:"\u5fae\u8f6f\u96c5\u9ed1",e:"\u5fae\u8f6f\u6b63\u9ed1\u4f53",g:"\u96b6\u4e66",h:"\u5e7c\u5706",G:"\u677e\u5f00\u653e\u5728\u7f16\u8f91\u533a",I:"\u677e\u5f00\u653e\u5728\u683c\u5b50\u91cc",H:"\u4e0d\u80fd\u653e\u7f6e",i:"\u4fdd\u5b58\u5185\u5bb9",cl:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",F:"\u7cfb\u7edf\u6b63\u5fd9..."}}),define("designer/service",["magix"],(e,t,r)=>{const i=e("magix");let o=i.Service.extend((e,t)=>{let r=e.get("_bQ")||"GET",o=e.get("_bo"),l=e.get("_bn"),a=e.get("url"),s=i.config("version")||Date.now();o||(o={}),o.v=s;let d={method:r,credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded"}};o&&(a=i.toUrl(a,o)),l&&(d.body=l),fetch(a,d).then(e=>{if(e.ok)return e.json();throw new Error("Network response error")}).then(r=>{1!=r.status?t({msg:r.message}):(e.set({data:r.data}),t())}).catch(e=>{t({msg:e.message})})});o.add([{name:"_bR",url:i.config("getImageUrl"),cache:18e5},{name:"_bS",url:i.config("getFieldUrl"),cache:18e5},{name:"_bT",cache:18e5},{name:"_ar",url:i.config("getTemplateUrl"),cache:18e5},{name:"_bm",url:i.config("saveContentUrl"),_bQ:"POST"},{name:"_bq",url:i.config("getContentUrl")},{name:"_bU",_bQ:"post"}]),r.exports={fetch:(e,t)=>(new o).all(e,t),save:(e,t)=>(new o).save(e,t)}}),define("designer/transform",["magix","./const"],(e,t,r)=>{const i=e("magix"),o=e("./const");let{sqrt:l,round:a,pow:s,atan:d,PI:n,sin:p,cos:h,min:c,max:f,atan2:u,tan:g,abs:b}=Math,x=n/180,m={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7},y={0:1,2:1,4:1,6:1,1:2,5:2,3:3,7:3};r.exports={_cP({x:e,y:t}){let r=i.node("s_canvas").getBoundingClientRect();return{x:e-=r.left,y:t-=r.top}},_dF(e,{x:t,y:r,f:i}){let o=e;if(i)for(;o.parentNode&&"hod"!=o.dataset.as;)o=o.parentNode;let l=o.getBoundingClientRect();return{x:t-=l.left,y:r-=l.top}},_cS({x:e,y:t}){let r=i.node("s_canvas").getBoundingClientRect();return{x:e+=r.left,y:t+=r.top}},_dG(e,t){let r=e/i.State.get("_e");return 1!==t?r=o._b(r):r|=0,r},_dH(e){let t=i.State.get("_e");return o._1(e*t)},_c2({x:e,y:t,width:r,height:i},o){let u=l(s(r,2)+s(i,2))/2,g=r?a(180*d(i/r)/n):0,b=180-o-g,m=g-o,y=90-o,_=o,w=r/2,v=i/2,k=e+w,S=t+v,C={x:k+u*h(b*x),y:S-u*p(b*x)},I={x:k+v*h(y*x),y:S-v*p(y*x)},z={x:k+u*h(m*x),y:S-u*p(m*x)},T={x:k+w*h(_*x),y:S+w*p(_*x)},j={x:k-u*h(b*x),y:S+u*p(b*x)},q={x:k-v*p(_*x),y:S+v*h(_*x)},E={x:k-u*h(m*x),y:S+u*p(m*x)},A={x:k-w*h(_*x),y:S-w*p(_*x)},L=c(C.x,z.x,j.x,E.x),R=f(C.x,z.x,j.x,E.x),N=c(C.y,z.y,j.y,E.y),B=f(C.y,z.y,j.y,E.y);return{point:[C,I,z,T,j,q,E,A],width:R-L,height:B-N,left:L,right:R,top:N,bottom:B}},_dN(e,t){let r={},i={},o=m[t],l=0;i=e[o];let a=o-4;return a<0&&(a=o+4),r=e.slice(a,a+1)[0],{_dI:o,_dJ:y[o],_dK:i,_dL:l=a,_dM:r}},_dO(e,t){let{x:r,y:i,width:o,height:l,scale:a}=e,s={x:0,y:0},d=o*(a.x-1),n=l*(a.y-1),p=o+d,h=l+n,c=r-d/2,f=i-n/2;if(t){let e=[{x:r,y:i},{x:r+o,y:i},{x:r+o,y:i+l},{x:r,y:i+l}],a=[{x:c,y:f},{x:c+p,y:f},{x:c+p,y:f+h},{x:c,y:f+h}];s.x=e[t].x-a[t].x,s.y=e[t].y-a[t].y}return{x:c+s.x,y:f+s.y,width:p,height:h}},_dP(e,t,r,i){let o=this._dO({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),l=o.width,a=o.height,s=this._c2(o,e.rotate),d=r.point[i].x-s.point[i].x+s.left,n=r.point[i].y-s.point[i].y+s.top;return{left:d+s.width/2-l/2,top:n+s.height/2-a/2,width:l,height:a}},_cL({x:e,y:t,width:r,height:i,rotate:o}){let l={x:e+r/2,y:t+i/2},a={x:e,y:t},s=this._dQ(a,l);return this._dR(a,l,s+o)},_dQ:(e,t)=>(360+180*u(e.y-t.y,e.x-t.x)/n)%360,_dR(e,t,r){let i=l(s(e.x-t.x,2)+s(e.y-t.y,2));return{x:t.x+i*h(r*x),y:t.y+i*p(r*x)}},_dS(e,t,r){let i=g(r*x);return{k:i,b:t-e*i}},_dT(e,t,r,i){let o=(i-t)/(r-e);return{k:o,b:t-e*o}},_dU:(e,t)=>l(s(e.x-t.x,2)+s(e.y-t.y,2)),_c7(e,t){let[r,i]=e,[o,l]=t,a=((i.x-r.x)*(o.y-r.y)-(i.y-r.y)*(o.x-r.x))*((i.x-r.x)*(l.y-r.y)-(i.y-r.y)*(l.x-r.x)),s=((l.x-o.x)*(r.y-o.y)-(l.y-o.y)*(r.x-o.x))*((l.x-o.x)*(i.y-o.y)-(l.y-o.y)*(i.x-o.x));return a<0&&s<0},_dV:(e,t,r)=>(e.x=a(e.x),e.y=a(e.y),t.x=a(t.x),t.y=a(t.y),r.x=a(r.x),r.y=a(r.y),(e.x-t.x)*(r.y-t.y)==(r.x-t.x)*(e.y-t.y)&&c(t.x,r.x)<=e.x&&e.x<=f(t.x,r.x)&&c(t.y,r.y)<=e.y&&e.y<=f(t.y,r.y)),_c1(e,t){var r=e.width/2,i=e.height/2,o=t.width/2,l=t.height/2,a=e.x+r,s=e.y+i,d=t.x+o,n=t.y+l;return b(d-a)<=r+o&&b(n-s)<=i+l},_dW:(e,t)=>a(e.x)==a(t.x)&&a(e.y)==a(t.y)}}),define("elements/circle/printer",["magix"],(e,t,r)=>{const i=e("magix");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,l=[],{props:a}=e;return o="z-index:1;position:absolute;border-radius:50%;left:"+i(a.x)+"px;top:"+i(a.y)+"px;",a.borderwidth&&(o+="border:"+i(a.borderwidth)+"px "+i(a.bordertype)+" "+i(a.bordercolor)+";"),a.fillcolor&&(o+="background:"+i(a.fillcolor)+";"),o+="height:"+i(a.height)+"px;opacity:"+i(a.alpha)+";width:"+i(a.width)+"px;transform:rotate("+i(a.rotate)+"deg)",l.push(t("div",{style:o})),t(r,0,l)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/barcode/printer",["magix","../provider/barcode"],(e,t,r)=>{let i={style:"display:flex;align-items:center;justify-content:center;height:100%"};const o=e("magix"),l=e("../provider/barcode");r.exports=o.View.extend({tmpl:(e,t,r,o)=>{let l,a,s,d,n=[],{props:p,text:h,error:c}=e;return l=[],h&&!c||(d="",s=[t(0,0,d+=c?" "+o(c)+" ":" \u8bf7\u8f93\u5165\u6761\u5f62\u7801\u5185\u5bb9 ")],a=[t("div",i,s)],l.push(...a)),l.push(t("img",{id:r+"_bar",style:"width:100%;height:100%"},0,0,1)),n.push(t("div",{style:"position:absolute;z-index:1;left:"+o(p.x)+"px;top:"+o(p.y)+"px;height:"+o(p.fillY?"100%":p.height+"px")+";opacity:"+o(p.alpha)+";width:"+o(p.fillX?"100%":p.width+"px")+";transform:rotate("+o(p.rotate)+"deg);overflow:hidden"},l)),t(r,0,n)},assign(e){let{text:t,bind:r}=e.props;if(r.url){let e=r.fields[0];if(r._tip)t=r._tip;else if(r._data){let i=r._data;Array.isArray(i)&&(i=i[0]),t=i[e.id]}else t=`[bind:${e.id}]`}this.set(e),this.set({text:t})},async render(){let e=o.mark(this,"_f");await this.digest({error:null});try{if(await l._dZ(),e()){let{linewidth:e,height:t,format:r,showText:i,color:o}=this.get("props"),l=this.get("text");!l||l==this._d2&&r==this._d3&&i==this._d4&&e==this._d5&&o==this._d6||(JsBarcode(`#${this.id}_bar`,l,{height:t,lineColor:this._d6=o,width:this._d5=e,format:this._d3=r,displayValue:this._d4=i}),this._d2=l)}}catch(t){e()&&this.digest({error:t})}}})}),define("elements/data-celltable/printer",["magix","../subs/barcode","../subs/qrcode"],(e,t,r)=>{e("../subs/barcode"),e("../subs/qrcode");let i={class:"rd-L"};const o=e("magix");r.exports=o.View.extend({tmpl:(e,t,r,o,l)=>{let a,s,d,n,p,h,c,f,u,g,b,x,m,y,_=[],{props:w}=e;s="";let v=w.borderwidth,k=w.bordertype,S=w.bordercolor,C=w.borderdeed,I=w.rows,z=w.bind;s+=" ";let T=Math.max(1,v);s+=" ";let j=("collapse"==C?1:2)*T;n=[];for(let e=I.length,a=0;a<e;a+=1){h=[];for(let e=I[a].cols,d=e.length,n=0;n<d;n+=1){let a=e[n];if(f=[],z._tip)u=[t(0,0,o(z._tip))],f.push(...u);else{u=[],s="";let e=a.paddingTop,d=a.paddingBottom,n=a.paddingLeft,p=a.paddingRight;s+=" ";let h,c=a.width-j,_=a.height-j;e>_&&(e=_),e+d>_&&(d=_-e),n>c&&(n=c),n+p>c&&(p=c-n),g=[],"text"==a.type?(x=[],(h=a.bindKey?z._data&&z._data[a.bindKey]:a.textContent)&&(y=[t(0,1,o(h))],m=[t("div",i,y)],x.push(...m)),g.push(...x)):"image"==a.type?(x=[],(h=a.bindKey?z._data&&z._data[a.bindKey]:a.imageContent)&&(b="",(a.imageRotateX||a.imageRotateY)&&(b+=";transform:",a.imageRotateX&&(b+="rotateX(180deg)"),a.imageRotateY&&(b+=" rotateY(180deg)")),m=[t("img",{class:"rd-at rd-au",src:o(h),style:b},0,0,1)],x.push(...m)),g.push(...x)):"barcode"==a.type?(x=[],(h=a.bindKey?z._data&&z._data[a.bindKey]:a.barcodeContent)&&(m=[t("div",{"mx5-owner":r,class:"rd-N",style:"height:"+o(_-e-d)+"px;align-items:"+o(a.vpos),"mx5-view":"elements/subs/barcode?lineColor="+l(a.barcodeColor)+"&lineWidth="+l(a.barcodeLineWidth)+"&showText="+l(a.barcodeShowText)+"&format="+l(a.barcodeFormat)+"&value="+l(h)})],x.push(...m)),g.push(...x)):"qrcode"==a.type?(x=[],(h=a.bindKey?z._data&&z._data[a.bindKey]:a.qrcodeContent)&&(m=[t("div",{"mx5-owner":r,style:"height:"+o(_-e-d)+"px","mx5-view":"elements/subs/qrcode?vpos="+l(a.vpos)+"&value="+l(h)})],x.push(...m)),g.push(...x)):a.bindKey&&(x=[t(0,0,"[\u672a\u6307\u5b9a\u6570\u636e\u5904\u7406\u65b9\u5f0f]"+o(h))],g.push(...x)),b="padding:"+o(e)+"px "+o(p)+"px "+o(d)+"px "+o(n)+"px;width:"+o(c)+"px;height:"+o(_)+"px;align-items:"+o(a.vpos)+";justify-content:"+o(a.hpos)+";opacity:"+o(a.alpha)+";",a.background&&(b+="background:"+o(a.background)),"text"==a.type&&(b+="color:"+o(a.textForecolor)+";letter-spacing:"+o(a.textLetterspacing)+"px;",a.textStyleBold&&(b+="font-weight:bold;"),a.textStyleItalic&&(b+="font-style:italic;"),(a.textStyleUnderline||a.textStyleStrike)&&(b+="text-decoration:",a.textStyleStrike?b+="line-through":b+="underline",b+=";"),b+="font-family:"+o(a.textFontfamily)+";font-size:"+o(a.textFontsize)+"px;"),u.push(t("div",{class:"rd-N rd-ak rd-s rd-t",style:b},g)),f.push(...u)}c=[t("td",{class:"rd-3",colspan:1!=a.colspan&&o(a.colspan),rowspan:1!=a.rowspan&&o(a.rowspan),style:"position:relative;width:"+o(a.width)+"px;height:"+o(a.height)+"px;border-left:"+o(v?k:"dotted")+" "+o(T)+"px "+o(v&&a.bLeft?S:"#0000")+";border-top:"+o(v?k:"dotted")+" "+o(T)+"px "+o(v&&a.bTop?S:"#0000")+";border-right:"+o(v?k:"dotted")+" "+o(T)+"px "+o(v&&a.bRight?S:"#0000")+";border-bottom:"+o(v?k:"dotted")+" "+o(T)+"px "+o(v&&a.bBottom?S:"#0000")},f)],h.push(...c)}p=[t("tr",0,h)],n.push(...p)}return d=[t("tbody",0,n)],a=[t("table",{class:"rd-2 rd-s",style:"border-collapse:"+o(C)},d)],_.push(t("div",{style:"z-index:1;position:absolute;left:"+o(w.x)+"px;top:"+o(w.y)+"px;opacity:"+o(w.alpha)+";width:"+o(w.width)+"px;height:"+o(w.height)+"px"},a)),t(r,0,_)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/hod-table/printer",["magix"],(e,t,r)=>{let i={class:"rd-B rd-ak rd-s rd-t"};const o=e("magix");r.exports=o.View.extend({tmpl:(e,t,r,o,l,a,s)=>{let d,n,p,h,c,f,u,g,b,x,m=[],{props:y}=e;n="";let _=y.borderwidth,w=y.bordertype,v=y.bordercolor,k=y.borderdeed,S=y.rows;n+=" ";let C=Math.max(1,_);h=[];for(let e=S.length,l=0;l<e;l+=1){f=[];for(let e=S[l].cols,d=e.length,n=0;n<d;n+=1){let d=e[n];b=[];for(let e=d.elements,i=e.length,p=0;p<i;p+=1){let i=e[p];x=[t("div",{"mx5-owner":r,$:"props",id:o(i.id),"mx5-view":"elements/"+o(i.type)+"/printer?props="+s(a,i.props,"\x1ed."+l+".e."+n+".a."+p+".f")})],b.push(...x)}g=[t("div",i,b)],u=[t("td",{class:"rd-3",colspan:1!=d.colspan&&o(d.colspan),rowspan:1!=d.rowspan&&o(d.rowspan),style:"position:relative;width:"+o(d.width)+"px;height:"+o(d.height)+"px;border-left:"+o(_?w:"dotted")+" "+o(C)+"px "+o(_&&d.bLeft?v:"#0000")+";border-top:"+o(_?w:"dotted")+" "+o(C)+"px "+o(_&&d.bTop?v:"#0000")+";border-right:"+o(_?w:"dotted")+" "+o(C)+"px "+o(_&&d.bRight?v:"#0000")+";border-bottom:"+o(_?w:"dotted")+" "+o(C)+"px "+o(_&&d.bBottom?v:"#0000")},g)],f.push(...u)}c=[t("tr",0,f)],h.push(...c)}return p=[t("tbody",0,h)],d=[t("table",{class:"rd-2 rd-s",style:"border-collapse:"+o(k)},p)],m.push(t("div",{style:"z-index:1;position:absolute;left:"+o(y.x)+"px;top:"+o(y.y)+"px;opacity:"+o(y.alpha)+";width:"+o(y.width)+"px;height:"+o(y.height)+"px"},d)),t(r,0,m)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/image/printer",["magix"],(e,t,r)=>{let i={style:"display:flex;align-items:center;justify-content:center;height:100%"};const o=e("magix");r.exports=o.View.extend({tmpl:(e,t,r,o)=>{let l,a,s,d,n=[],{props:p,image:h,text:c}=e;return l=[],h?(s="width:100%;height:100%",(p.rotateX||p.rotateY)&&(s+=";transform:",p.rotateX&&(s+="rotateX(180deg)"),p.rotateY&&(s+=" rotateY(180deg)")),a=[t("img",{src:o(h),style:s},0,0,1)],l.push(...a)):(d=[t(0,0,o(c))],a=[t("div",i,d)],l.push(...a)),n.push(t("div",{style:"position:absolute;z-index:1;left:"+o(p.x)+"px;top:"+o(p.y)+"px;height:"+o(p.fillY?"100%":p.height+"px")+";opacity:"+o(p.alpha)+";width:"+o(p.fillX?"100%":p.width+"px")+";transform:rotate("+o(p.rotate)+"deg);overflow:hidden"},l)),t(r,0,n)},assign(e){this.set(e);let{image:t,bind:r}=e.props,i="";if(r.url){let e=r.fields[0];if(r._tip)i=r._tip;else if(r._data){let i=r._data;Array.isArray(i)&&(i=i[0]),t=i[e.id]}else i=`[\u7ed1\u5b9a:${e.name}]`}this.set({text:i,image:t})},render(){this.digest()}})}),define("elements/line/printer",["magix"],(e,t,r)=>{const i=e("magix");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o=[],{props:l}=e;return o.push(t("div",{style:"z-index:1;position:absolute;left:"+i(l.x)+"px;top:"+i(l.y)+"px;border-top:"+i(l.height)+"px "+i(l.linetype)+" "+i(l.color)+";opacity:"+i(l.alpha)+";width:"+i(l.width)+"px;transform:rotate("+i(l.rotate)+"deg)"})),t(r,0,o)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/pager/printer",["magix"],(e,t,r)=>{const i=e("magix");let o=/\$\{([a-zA-z0-9_]+)\}/g;r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,l,a=[],{props:s,textReturn:d,text:n}=e;return l=[t(0,1,i(d(n)))],o="left:"+i(s.x)+"px;top:"+i(s.y)+"px;display:flex;color:"+i(s.forecolor)+";",s.background&&(o+="background:"+i(s.background)+";"),o+="font-size:"+i(s.fontsize)+"px;height:"+i(s.height)+"px;letter-spacing:"+i(s.letterspacing)+"px;opacity:"+i(s.alpha)+";",s.styleBold&&(o+="font-weight:bold;"),s.styleItalic&&(o+="font-style:italic;"),(s.styleUnderline||s.styleStrike)&&(o+="text-decoration:",s.styleStrike?o+="line-through":o+="underline",o+=";"),o+="align-items:"+i(s.vpos)+";justify-content:"+i(s.hpos)+";overflow:hidden;width:"+i(s.width)+"px;transform:rotate("+i(s.rotate)+"deg);font-family:"+i(s.fontfamily),a.push(t("div",{class:"rd-A rd-u",style:o},l)),t(r,0,a)},assign(e){this.set(e);let{props:t}=e,{text:r,ext:l}=t;null==l._totalPage&&(l._totalPage="Y"),null==l._currentPage&&(l._currentPage="X"),r=r.replace(o,(e,t)=>i.has(l,"_"+t)?l["_"+t]:e),this.set({text:r})},render(){this.digest()}})}),define("elements/provider/barcode",[],(e,t,r)=>{let i=[],o=1,l="can not load barcode library";r.exports={_dY:[{value:"CODE128",text:"CODE128"},{value:"CODE128A",text:"CODE128A"},{value:"CODE128B",text:"CODE128B"},{value:"CODE128C",text:"CODE128C"},{value:"CODE39",text:"CODE39"},{value:"EAN2",text:"EAN2"},{value:"EAN5",text:"EAN5"},{value:"EAN8",text:"EAN8"},{value:"EAN13",text:"EAN13"},{value:"ITF",text:"ITF"},{value:"ITF14",text:"ITF14"},{value:"MSI",text:"MSI"},{value:"MSI10",text:"MSI10"},{value:"MSI11",text:"MSI11"},{value:"MSI1010",text:"MSI1010"},{value:"MSI1110",text:"MSI1110"},{value:"UPC",text:"UPC"},{value:"UPCE",text:"UPCE"},{value:"upce",text:"UPC-E"},{value:"codabar",text:"codabar"},{value:"pharmacode",text:"pharmacode"},{value:"GenericBarcode",text:"GenericBarcode"}],_dZ:()=>new Promise((e,t)=>{if(2&o)window.JsBarcode?e():t(l);else if(4&o)i.push([e,t]);else{o|=4,i.push([e,t]);let r=document.createElement("script");r.src="//cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js",r.onload=r.onerror=(()=>{document.head.removeChild(r),o|=2;for(let[e,t]of i)window.JsBarcode?e():t(l);i.length=0}),document.head.appendChild(r)}})}}),define("elements/provider/bindata",[],(e,t,r)=>{let i={};r.exports=((e,t)=>new Promise(r=>{let o=i[t];o||(o=i[t]={}),o._eF?r(o):o._eG?o._eG.push(r):(o._eG=[r],e.fetch({name:"_bT",url:t},(e,t)=>{let r=t.get("data");o._d1=r,o._eF=1,o._d0=null==e?void 0:e.msg;for(let e of o._eG)e(o);delete o._eG}))}))}),define("elements/provider/celltable",[],(e,t,r)=>{r.exports={text:{textLetterspacing:0,textForecolor:"#000000",textFontsize:14,textFontfamily:"Microsoft YaHei",textStyleBold:!1,textStyleUnderline:!1,textStyleItalic:!1,textStyleStrike:!1,textContent:""},image:{imageContent:""},barcode:{barcodeLineWidth:2,barcodeColor:"#000000",barcodeFormat:"code128",barcodeShowText:!0,barcodeContent:""},qrcode:{qrcodeContent:""}}}),define("elements/provider/qrcode",[],(e,t,r)=>{let i=[],o=1;r.exports=(()=>new Promise((e,t)=>{if(2&o)window.QRCode?e():t("can not load qrcode library");else if(4&o)i.push([e,t]);else{o|=4,i.push([e,t]);let r=document.createElement("script");r.src="//unpkg.com/@keeex/qrcodejs-kx@1.0.2/qrcode.min.js",r.onload=r.onerror=(()=>{document.head.removeChild(r),o|=2;for(let[e,t]of i)window.QRCode?e():t("can not load qrcode library");i.length=0}),document.head.appendChild(r)}}))}),define("elements/provider/table",[],(e,t,r)=>{r.exports={_eb(e,t){if(!t||null==e._ec||null==e._ed){let t=0,r=0,i={},o={},{rows:l}=e,a=0,s=0,d=0;for(let e of l){r=0,d=0;for(let l of e.cols){for(;i[r]&&o[r]&&t<o[r];)r+=i[r];l._cA=d++,l._cz=t,l._eH=t,l._es=r,l.rowspan?(o[r]=l.rowspan+t,l._eI=t+l.rowspan-1):l._eI=t,l.colspan&&(i[r]=l.colspan,r+=l.colspan-1),l._et=r++,r>a&&(a=r)}++t>s&&(s=t)}e._ec=s,e._ed=a}return e},_eJ(e,t){let r,{focusCol:i,focusRow:o,rows:l}=e,a=0,s=0;if("left"==t)r=[[o,i-1],[o,i]],s=1;else if("right"==t)r=[[o,i],[o,i+1]],s=1;else{a=1;let e=l[o].cols[i],s=e._eI+1,d=e._et,n=0;for(let a=0;a<=s;a++){for(let s=0;s<=d;s++){let d=l[a];if(d){let l=d.cols[s];if(l&&l!=e){let s=l._cA;if(l._es==e._es&&l._et==e._et)if(l._eI+1==e._eH){if("top"==t){r=[[a,s],[o,i]],n=1;break}}else if(e._eI+1==l._eH&&"bottom"==t){r=[[o,i],[a,s]],n=1;break}}}}if(n)break}}let[d,n]=r;e.focusRow=d[0],e.focusCol=d[1];let p=0,h=0,c=-1,f=-1;for(let e of r){let t=l[e[0]].cols[e[1]],r=t._eI;r>c&&(c=r);let i=t._et;i>f&&(f=i)}let u=l[d[0]].cols[d[1]],g=l[n[0]].cols[n[1]];h=c-u._eH+1,p=f-u._es+1,s&&(u.width+=g.width),a&&(u.height+=g.height),Array.isArray(u.elements)?u.elements.push(...g.elements):!u.bindKey&&g.bindKey&&(u.bindKey=g.bindKey,u.bindName=g.bindName,u.type=g.type),u.colspan=p,u.rowspan=h;for(let e=r.length-1;e>0;e--){let t=r[e];l[t[0]].cols.splice(t[1],1)}let b=e._ec,x=e=>{let t=b;for(let r of l)for(let i of r.cols){let r=i._eH+i.rowspan-1;if(i._eH<=e&&r>=e){let i=r-e;i<t&&(t=i)}}return t};for(let e=b;e--;){l[e].cols.length||(l.splice(e,1),b--)}for(let e=0;e<b;e++){let t=x(e);if(t>0){for(let r=0;r<=e;r++){let i=l[r];for(let r of i.cols){let i=r._eH+r.rowspan-1;r._eH<=e&&i>=e&&(r.rowspan-=t)}}break}}let m=e._ed,y=e=>{let t=m;for(let r of l)for(let i of r.cols){let r=i._es+i.colspan-1;if(i._es<=e&&r>=e){let i=r-e;i<t&&(t=i)}}return t};for(let e=0;e<m;e++){let t=y(e);if(t>0){for(let r of l)for(let i of r.cols){let r=i._es+i.colspan-1;i._es<=e&&r>=e&&(i.colspan-=t)}break}}return e},_eK(e,t,r,i,o){let{focusRow:l,focusCol:a,rows:s}=e,d=s[l].cols[a],n=s[l],p=this._ee(e);if(t){let e,t;if(d.colspan>1){let r=d.colspan/2|0,i=d.colspan-r,o=0,l=d._et;for(let e=l-r+1;e<=l;e++)o+=p._ef[e];d.colspan=i,d.width-=o,e=r,t=o}else{let r=d.width,o=r/2;o<i&&(o=i),d.width=o,t=o,e=1;let l=2*o-r;for(let e of s)for(let t of e.cols)t!=d&&t._es<=d._es&&t._et>=d._et&&(t.colspan++,t.width+=l)}let o={...r,elements:[],colspan:e,rowspan:d.rowspan,width:t,height:d.height};n.cols.splice(a+1,0,o)}else{let e,t;if(d.rowspan>1){let r=d.rowspan/2|0,i=d.rowspan-r,o=0,l=d._eI;for(let e=l-r+1;e<=l;e++)o+=p._eg[e];d.rowspan=i,d.height-=o,e=r,t=o,n=s[d._eH+i];let h=0;for(let e of n.cols){if(e._es>d._es){a=h;break}h++}}else{let r=d.height,i=r/2;i<o&&(i=o),d.height=i,t=i,e=1;let l=2*i-r;for(let e of s)for(let t of e.cols)t!=d&&t._eH<=d._eH&&t._eI>=d._eI&&(t.rowspan++,t.height+=l);s.splice(d._eI+1,0,n={cols:[]})}let i={...r,elements:[],colspan:d.colspan,rowspan:e,width:d.width,height:t};n.cols.splice(a,0,i)}},_eL(e,t,r,i){let o={},{rows:l,_ed:a}=e,s=this._ee(e);for(let e=0;e<t;e++){let r=l[e];for(let e of r.cols)if(e._eI>=t){e.rowspan++,e.height+=i;let t=e._es,r=t+e.colspan;for(let e=t;e<r;e++)o[e]=1}}let d={cols:[]};for(let e=0;e<a;e++)if(!o[e]){let t={...r,elements:[],width:s._ef[e],height:i,rowspan:1,colspan:1};d.cols.push(t)}return l.splice(t,0,d),e},_eM(e,t,r,i){let{rows:o}=e,l=[],a=0,s=this._ee(e);for(let e of o){let o=e.cols.length,d=o;for(let r=0;r<o;r++){let o=e.cols[r];if(o.rowspan>1&&l.push(o),o._es<t&&o._et>=t){o.colspan++,o.width+=i,d=-1;break}if(o._es>=t){d=r;break}}for(let e of l)if(e._es<t&&e._et>=t&&e._eH<a&&e._eI>=a){d=-1;break}if(-1!=d){let t={...r,elements:[],height:s._eg[a],width:i,rowspan:1,colspan:1};e.cols.splice(d,0,t)}a++}return e},_eN(e){let{rows:t,focusRow:r,focusCol:i}=e,o=t[r].cols[i],l=[o._eH,o._eI],a={},s=0,d=l[1]-l[0]+1,n=t[l[1]+1],p=d/2;for(let e=l[1];e>=0;e--){let r=t[e],i=0;for(let e=r.cols.length;e--;){let t=r.cols[e],o=t._es,n=t._eI,h=t._eH,c=n-h+1;if(1==c&&(i=t.height),c>1){let f=c/2;if(Math.abs(l[0]+p-h-f)<p+f){if(l[0]==t._eH&&t._eI-t._eH>=d&&(a[o]=t,s=1),!i)for(let t=e;t--;){let e=r.cols[t];if(0==e._eI-e._eH){i=e.height;break}}let p=Math.min(n,l[1])-Math.max(l[0],h)+1;t.rowspan-=p,t.height-=i*p}}}e<=l[1]&&e>=l[0]&&t.splice(e,1)}if(s){let t=e._ed;if(n)for(let e=t,r=n.cols.length;e--;){let t=a[e];if(t){let i=0;for(let t=r;t--;){if(n.cols[t]._es<e){r=t,i=t+1;break}}n.cols.splice(i,0,t)}}}return e},_eO(e,t){let{focusRow:r,focusCol:i,rows:o}=e,l=o[r].cols[i],a=[l._es,l._et],s=(a[1]-a[0]+1)/2;for(let e of o)for(let r=e.cols.length;r--;){let i=e.cols[r],o=i._es,l=i._et;if(o>=a[0]&&l<=a[1])e.cols.splice(r,1);else if(i.colspan>1){let e=(l-o+1)/2;if(Math.abs(a[0]+s-o-e)<s+e){let e=Math.min(l,a[1])-Math.max(a[0],o)+1;i.colspan-=e,i.width-=t*e}}}return e},_ee(e,t){let r=[],i=[],{rows:o}=e,l=!1,a=!1;for(let e of o)for(let o of e.cols){if(1==o.colspan){let e=o._es;(null==r[e]||!l&&o.width>r[e]||t==o)&&(l=l||t==o,r[e]=o.width)}if(1==o.rowspan){let e=o._eH;(null==i[e]||!a&&o.height>i[e]||t==o)&&(a=a||t==o,i[e]=o.height)}}for(let e of o)for(let o of e.cols){if(o.colspan>1){let e=0,i=0,l=o._es,a=l+o.colspan;for(let t=l;t<a;t++)null!=r[t]&&r[t]>=0&&(e+=r[t],i++);if(i<o.colspan){let t=Math.max(o.width-e,0)/(o.colspan-i);for(let e=l;e<a;e++)(null==r[e]||r[e]<0)&&(r[e]=t)}else if(e<o.width&&(!t||t==o)||e>o.width&&t&&t==o)for(let t=l;t<a;t++)r[t]=e>0?r[t]/e*o.width:o.width/o.colspan}if(o.rowspan>1){let e=0,r=0,l=o._eH,a=l+o.rowspan;for(let t=l;t<a;t++)null!=i[t]&&i[t]>=0&&(e+=i[t],r++);if(r<o.rowspan){let t=Math.max(0,o.height-e)/(o.rowspan-r);for(let e=l;e<a;e++)(null==i[e]||i[e]<0)&&(i[e]=t)}else if(e<o.height&&(!t||t==o)||e>o.height&&t&&o==t)for(let t=l;t<a;t++)i[t]=e>0?i[t]/e*o.height:o.height/o.rowspan}}return{_ef:r,_eg:i}},_em(e,t){let r=this._ee(e,t),{rows:i}=e;for(let e of i)for(let t of e.cols){let e=t.rowspan||1,i=t.colspan||1,o=t._es,l=t._eH,a=0,s=0;for(let e=o+i-1;e>=o;e--)a+=r._ef[e];for(let t=l+e-1;t>=l;t--)s+=r._eg[t];t.width=a,t.height=s}}}}),define("elements/qrcode/printer",["magix","../provider/qrcode"],(e,t,r)=>{let i={style:"display:flex;align-items:center;justify-content:center;height:100%"};const o=e("magix"),l=e("../provider/qrcode");r.exports=o.View.extend({tmpl:(e,t,r,o)=>{let l,a,s,d,n=[],{props:p,text:h,error:c}=e;return l=[],h&&!c||(d="",s=[t(0,0,d+=c?" "+o(c)+" ":" \u8bf7\u8f93\u5165\u4e8c\u7ef4\u7801\u5185\u5bb9 ")],a=[t("div",i,s)],l.push(...a)),l.push(t("div",{id:r+"_qr",class:"rd-N rd-O rd-Z rd-s rd-t"})),n.push(t("div",{style:"position:absolute;z-index:1;left:"+o(p.x)+"px;top:"+o(p.y)+"px;height:"+o(p.fillY?"100%":p.height+"px")+";opacity:"+o(p.alpha)+";width:"+o(p.fillX?"100%":p.width+"px")+";transform:rotate("+o(p.rotate)+"deg);overflow:hidden"},l)),t(r,0,n)},assign(e){let{text:t,bind:r}=e.props;if(r.url){let e=r.fields[0];if(r._tip)t=r._tip;else if(r._data){let i=r._data;Array.isArray(i)&&(i=i[0]),t=i[e.id]}else t=`[\u7ed1\u5b9a:${e.name}]`}this.set(e),this.set({text:t})},async render(){let e=o.mark(this,"_f");await this.digest({error:null});try{if(await l(),e()){let e=this._eP;if(!e){let t=o.node(`${this.id}_qr`);e=new QRCode(t,{width:512,height:512}),this._eP=e}let t=this.get("text");if(t&&t!=this._d2){e.makeCode(this._d2=t),this.root.querySelector("img").classList.add("rd-ar")}}}catch(t){e()&&this.digest({error:t})}}})}),define("elements/rect/printer",["magix"],(e,t,r)=>{const i=e("magix");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,l=[],{props:a}=e;return o="z-index:1;position:absolute;left:"+i(a.x)+"px;top:"+i(a.y)+"px;",a.borderwidth&&(o+="border:"+i(a.borderwidth)+"px "+i(a.bordertype)+" "+i(a.bordercolor)+";"),a.fillcolor&&(o+="background:"+i(a.fillcolor)+";"),o+="height:"+i(a.height)+"px;opacity:"+i(a.alpha)+";width:"+i(a.width)+"px;transform:rotate("+i(a.rotate)+"deg);",a.radius&&(o+="border-radius:"+i(a.radius)+"px;"),l.push(t("div",{style:o})),t(r,0,l)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/subs/qrcode",["magix","../provider/qrcode"],(e,t,r)=>{const i=e("magix"),o=e("../provider/qrcode");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,l=[],{msg:a,vpos:s}=e;return a?(o=[t(0,0,i(a))],l.push(...o)):(o=[t("div",{id:r+"_qr",class:"rd-N rd-t",style:"align-items:"+i(s)})],l.push(...o)),t(r,0,l)},assign(e){this.set(e)},async render(){let e=i.mark(this,"_f");await this.digest({msg:null});try{if(await o(),e()){let{value:e}=this.get(),t=this._eP;if(!t){let e=i.node(`${this.id}_qr`);t=new QRCode(e),this._eP=t}t.makeCode(e+"");let r=this.root.querySelector("img");r.classList.add("rd-at"),r.classList.add("rd-au")}}catch(t){e()&&this.digest({msg:t})}}})}),define("elements/subs/barcode",["magix","../provider/barcode"],(e,t,r)=>{const i=e("magix"),o=e("../provider/barcode");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,l=[],{msg:a}=e;return a?(o=[t(0,0,i(a))],l.push(...o)):(o=[t("img",{id:r+"_bar",class:"rd-at rd-au"},0,0,1)],l.push(...o)),t(r,0,l)},assign(e){this.set(e)},async render(){let e=i.mark(this,"_f");await this.digest({msg:null});try{if(await o._dZ(),e()){let{value:e,lineWidth:t,format:r,showText:i,lineColor:o}=this.get();JsBarcode(`#${this.id}_bar`,e,{lineColor:o,width:+t,format:r,displayValue:"true"==i})}}catch(t){e()&&this.digest({msg:t})}}})}),define("elements/data-dtable/printer",["magix","../subs/barcode","../subs/qrcode"],(e,t,r)=>{e("../subs/barcode"),e("../subs/qrcode");let i={class:"rd-L"};const o=e("magix");r.exports=o.View.extend({tmpl:(e,t,r,o,l,a,s)=>{let d,n,p,h,c,f,u,g,b,x,m,y,_,w,v,k,S,C,I,z=[],{props:T}=e;n="",n+=" ";let j=Math.max;n+=" ";let q=T.borderwidth,E=T.bordertype,A=T.bordercolor,L=T.borderdeed,R=T.rows,N=T.bind;n+=" ";let B=j(1,q);n+=" ";let H=("collapse"==L?1:2)*B;h=[];for(let e=R.length,d=0;d<e;d+=1){let e=R[d];if(c=[],e.label&&N._data&&N._data.length||!e.data&&!C&&N._showHead||I&&!T.hideFoot&&N._showFoot){u=[];for(let i=e.cols,p=i.length,h=0;h<p;h+=1){let e=i[h];if(b=[],N._tip)x=[t(0,0,o(N._tip))],b.push(...x);else{if(x=[],e.elements&&e.elements.length){m=[];for(let i=e.elements,l=i.length,n=0;n<l;n+=1){let e=i[n];y=[t("div",{"mx5-owner":r,$:"props",id:o(e.id),"mx5-view":"elements/"+o(e.type)+"/printer?props="+s(a,e.props,"\x1ed."+d+".e."+h+".a."+n+".f")})],m.push(...y)}x.push(...m)}else{m=[],n="";let i=e.paddingTop,a=e.paddingBottom,s=e.paddingLeft,d=e.paddingRight;n+=" ";let p=e.width-H,h=e.height-H;i>h&&(i=h),i+a>h&&(a=h-i),s>p&&(s=p),s+d>p&&(d=p-s),y=[],"text"==e.type?(w=[],e.textContent&&(k=[t(0,1,o(e.textContent))],v=[t("div",0,k)],w.push(...v)),y.push(...w)):"image"==e.type?(w=[],e.imageContent&&(_="",(e.imageRotateX||e.imageRotateY)&&(_+=";transform:",e.imageRotateX&&(_+="rotateX(180deg)"),e.imageRotateY&&(_+=" rotateY(180deg)")),v=[t("img",{class:"rd-at rd-au",src:o(e.imageContent),style:_},0,0,1)],w.push(...v)),y.push(...w)):"barcode"==e.type?(w=[],e.barcodeContent&&(v=[t("div",{"mx5-owner":r,class:"rd-N",style:"height:"+o(h-i-a)+"px;align-items:"+o(e.vpos),"mx5-view":"elements/subs/barcode?lineColor="+l(e.barcodeColor)+"&lineWidth="+l(e.barcodeLineWidth)+"&showText="+l(e.barcodeShowText)+"&format="+l(e.barcodeFormat)+"&value="+l(e.barcodeContent)})],w.push(...v)),y.push(...w)):"qrcode"==e.type&&(w=[],e.qrcodeContent&&(v=[t("div",{"mx5-owner":r,style:"height:"+o(h-i-a)+"px","mx5-view":"elements/subs/qrcode?vpos="+l(e.vpos)+"&value="+l(e.qrcodeContent)})],w.push(...v)),y.push(...w)),_="padding:"+o(i)+"px "+o(d)+"px "+o(a)+"px "+o(s)+"px;width:"+o(p)+"px;height:"+o(h)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(_+="background:"+o(e.background)+";"),"text"==e.type&&(_+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(_+="font-weight:bold;"),e.textStyleItalic&&(_+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(_+="text-decoration:",e.textStyleStrike?_+="line-through":_+="underline",_+=";"),_+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px;"),m.push(t("div",{class:"rd-N rd-ak rd-s rd-t",style:_},y)),x.push(...m)}b.push(...x)}g=[t("td",{class:"rd-3 rd-ak",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;height:"+o(e.height)+"px;border-left:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bLeft?A:"#0000")+";border-top:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bTop?A:"#0000")+";border-right:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bRight?A:"#0000")+";border-bottom:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bBottom?A:"#0000")},b)],u.push(...g)}f=[t("tr",0,u)],c.push(...f)}if(e.label&&(C=1),e.data){if(f=[],N._data){u=[];for(let a=N._data,s=a.length,d=0;d<s;d+=1){let s=a[d];b=[];for(let a=e.cols,d=a.length,p=0;p<d;p+=1){let e=a[p];if(m=[],N._tip)y=[t(0,0,o(N._tip))],m.push(...y);else{y=[],n="";let a=e.paddingTop,d=e.paddingBottom,p=e.paddingLeft,h=e.paddingRight;n+=" ";let c,f=e.width-H,u=e.height-H;a>u&&(a=u),a+d>u&&(d=u-a),p>f&&(p=f),p+h>f&&(h=f-p),w=[],"text"==e.type?(v=[],e.bindKey&&(c=s[e.bindKey]),c&&(S=[t(0,1,o(c))],k=[t("div",i,S)],v.push(...k)),w.push(...v)):"image"==e.type?(v=[],e.bindKey&&(c=s[e.bindKey]),c&&(_="",(e.imageRotateX||e.imageRotateY)&&(_+=";transform:",e.imageRotateX&&(_+="rotateX(180deg)"),e.imageRotateY&&(_+=" rotateY(180deg)")),k=[t("img",{class:"rd-at rd-au",src:o(c),style:_},0,0,1)],v.push(...k)),w.push(...v)):"barcode"==e.type?(v=[],e.bindKey&&(c=s[e.bindKey]),c&&(k=[t("div",{"mx5-owner":r,class:"rd-N",style:"height:"+o(u-a-d)+"px;align-items:"+o(e.vpos),"mx5-view":"elements/subs/barcode?lineColor="+l(e.barcodeColor)+"&lineWidth="+l(e.barcodeLineWidth)+"&showText="+l(e.barcodeShowText)+"&format="+l(e.barcodeFormat)+"&value="+l(c)})],v.push(...k)),w.push(...v)):"qrcode"==e.type?(v=[],e.bindKey&&(c=s[e.bindKey]),c&&(k=[t("div",{"mx5-owner":r,style:"height:"+o(u-a-d)+"px","mx5-view":"elements/subs/qrcode?vpos="+l(e.vpos)+"&value="+l(c)})],v.push(...k)),w.push(...v)):e.bindKey&&(v=[t(0,0,"[\u672a\u6307\u5b9a\u6570\u636e\u5904\u7406\u65b9\u5f0f]"+o(c))],w.push(...v)),_="padding:"+o(a)+"px "+o(h)+"px "+o(d)+"px "+o(p)+"px;width:"+o(f)+"px;height:"+o(u)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(_+="background:"+o(e.background)),"text"==e.type&&(_+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(_+="font-weight:bold;"),e.textStyleItalic&&(_+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(_+="text-decoration:",e.textStyleStrike?_+="line-through":_+="underline",_+=";"),_+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px;"),y.push(t("div",{class:"rd-N rd-ak rd-s rd-t",style:_},w)),m.push(...y)}x=[t("td",{class:"rd-3",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;border-left:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bLeft?A:"#0000")+";border-top:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bTop?A:"#0000")+";border-right:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bRight?A:"#0000")+";border-bottom:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bBottom?A:"#0000")},m)],b.push(...x)}g=[t("tr",0,b)],u.push(...g)}f.push(...u)}c.push(...f)}else if(e.total){if(f=[],I=1,!T.hideTotal&&N._showAcc){g=[];for(let r=e.cols,i=r.length,l=0;l<i;l+=1){let e=r[l];if(x=[],N._tip)m=[t(0,0,o(N._tip))],x.push(...m);else{m=[],n="";let r=e.paddingTop,i=e.paddingBottom,l=e.paddingLeft,a=e.paddingRight;n+=" ";let s=e.width-H,d=e.height-H;r>d&&(r=d),r+i>d&&(i=d-r),l>s&&(l=s),l+a>s&&(a=s-l),n="",null!=e.sumValue?n+=" "+o(e.sumValue)+" ":n+=" "+o(e.textContent)+" ",y=[t(0,0,n)],_="padding:"+o(r)+"px "+o(a)+"px "+o(i)+"px "+o(l)+"px;width:"+o(s)+"px;height:"+o(d)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(_+="background:"+o(e.background)+";"),_+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(_+="font-weight:bold;"),e.textStyleItalic&&(_+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(_+="text-decoration:",e.textStyleStrike?_+="line-through":_+="underline",_+=";"),_+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px",m.push(t("div",{class:"rd-N rd-ak rd-s rd-t",style:_},y)),x.push(...m)}b=[t("td",{class:"rd-3",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;height:"+o(e.height)+"px;border-left:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bLeft?A:"#0000")+";border-top:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bTop?A:"#0000")+";border-right:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bRight?A:"#0000")+";border-bottom:"+o(q?E:"dotted")+" "+o(B)+"px "+o(q&&e.bBottom?A:"#0000")},x)],g.push(...b)}u=[t("tr",0,g)],f.push(...u)}c.push(...f)}h.push(...c)}return p=[t("tbody",0,h)],d=[t("table",{class:"rd-2 rd-s",style:"border-collapse:"+o(L)},p)],z.push(t("div",{style:"z-index:1;position:absolute;left:"+o(T.x)+"px;top:"+o(T.y)+"px;opacity:"+o(T.alpha)+";width:"+o(T.width)+"px;height:"+o(T.height)+"px"},d)),t(r,0,z)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/text/printer",["magix"],(e,t,r)=>{const i=e("magix");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,l,a=[],{props:s,textReturn:d,text:n}=e;return l=[t(0,1,i(d(n)))],o="z-index:1;position:absolute;left:"+i(s.x)+"px;top:"+i(s.y)+"px;display:flex;color:"+i(s.forecolor)+";",s.background&&(o+="background:"+i(s.background)+";"),o+="font-size:"+i(s.fontsize)+"px;height:"+i(s.fillY?"100%":s.height+"px")+";letter-spacing:"+i(s.letterspacing)+"px;opacity:"+i(s.alpha)+";",s.styleBold&&(o+="font-weight:bold;"),s.styleItalic&&(o+="font-style:italic;"),(s.styleUnderline||s.styleStrike)&&(o+="text-decoration:",s.styleStrike?o+="line-through":o+="underline",o+=";"),o+="align-items:"+i(s.vpos)+";justify-content:"+i(s.hpos)+";overflow:hidden;width:"+i(s.fillX?"100%":s.width+"px")+";transform:rotate("+i(s.rotate)+"deg);font-family:"+i(s.fontfamily),a.push(t("div",{style:o},l)),t(r,0,a)},assign(e){let{text:t,bind:r}=e.props;if(r.url){let e=r.fields[0];if(r._tip)t=r._tip;else if(r._data){let i=r._data;Array.isArray(i)&&(i=i[0]),t=i[e.id]}else t=`[\u7ed1\u5b9a:${e.name}]`}this.set(e),this.set({text:t})},render(){this.digest()}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],(e,t,r)=>{let i={class:"rd-b"},o={class:"rd-c",style:"word-break:break-all"},l={class:"rd-H rd-d"};const a=e("magix"),s=e("../../i18n/index");r.exports=a.View.extend({tmpl:(e,t,r,a)=>{let s,d,n=[],{title:p,body:h,i18n:c}=e;return d=[t(0,0,a(p))],s=[t("h5",0,d)],n.push(t("div",i,s)),s=[t(0,0,a(h))],n.push(t("div",o,s)),d=[t(0,0,a(c("bG")))],s=[t("button",{"mx5-click":r+"\x1e_e3()",class:"rd-_ rd-a rd-y",type:"button"},d)],n.push(t("div",l,s)),t(r,0,n)},init(e){this._aq=e.dialog,this._e9=e.body,this._f_=e.title||s("bF"),this._fa=e.enter},render(){this.digest({body:this._e9,title:this._f_})},"_e3<click>"(){let e=this;e._aq.close(),e._fa&&a.toTry(e._fa)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],(e,t,r)=>{let i={class:"rd-b"},o={class:"rd-c",style:"word-break:break-all"},l={class:"rd-H rd-d"};const a=e("magix"),s=e("../../i18n/index");r.exports=a.View.extend({tmpl:(e,t,r,a)=>{let s,d,n=[],{title:p,body:h,i18n:c}=e;return d=[t(0,0,a(p))],s=[t("h5",0,d)],n.push(t("div",i,s)),s=[t(0,0,a(h))],n.push(t("div",o,s)),d=[t(0,0,a(c("bH")))],s=[t("button",{type:"button","mx5-click":r+"\x1e_fc()",class:"rd-_ rd-y"},d)],d=[t(0,0,a(c("bG")))],s.push(t("button",{type:"button","mx5-click":r+"\x1e_e3()",class:"rd-_ rd-a rd-p rd-y"},d)),n.push(t("div",l,s)),t(r,0,n)},init(e){let t=this;t._aq=e.dialog,t._e9=e.body,t._f_=e.title||s("bF"),t._fa=e.enter,t._fb=e.cancel},render(){this.digest({body:this._e9,title:this._f_})},"_e3<click>"(){let e=this;e._aq.close(),e._fa&&a.toTry(e._fa)},"_fc<click>"(){let e=this;e._aq.close(),e._fb&&a.toTry(e._fb)}})}),define("gallery/mx-dialog/index",["magix","./alert","./confirm"],(e,t,r)=>{let i;const o=e("magix");e("./alert"),e("./confirm"),o.applyStyle("rd-d",".rd-bS{position:absolute}.rd-bT{position:relative;background-color:#fff;border-radius:2px;border:1px solid #e6e6e6}.rd-aP{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.rd-aP:focus,.rd-aP:hover{opacity:.5}.rd-bU{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2}.rd-bV{filter:blur(3px)}.rd-bW{-webkit-animation:rd-a .3s;animation:rd-a .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.rd-bX{position:absolute;right:10px;top:0;width:1px;height:0}.rd-bY{padding:80px 0}@-webkit-keyframes rd-a{0%{opacity:0}to{opacity:.2}}@keyframes rd-a{0%{opacity:0}to{opacity:.2}}.rd-bZ{-webkit-animation:rd-b .2s;animation:rd-b .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-b{0%{opacity:.2}to{opacity:0}}@keyframes rd-b{0%{opacity:.2}to{opacity:0}}.rd-b0{margin-bottom:50px;min-height:60px}.rd-b1{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.rd-b2{-webkit-animation:rd-c .3s;animation:rd-c .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.rd-b3{-webkit-animation:rd-d .2s;animation:rd-d .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");let l=500,a=[],s=o.View.extend({tmpl:(e,t,r,o)=>{let l,a,s,d,n,p=[],{removeClass:h,zIndex:c,left:f,top:u,width:g,closable:b}=e;return l="rd-bU",h||(l+=" rd-bW"),p.push(t("div",{style:"z-index:"+o(c-1),id:"mask_"+r,class:l})),(s=[]).push(t("input",{id:"focus_"+r,class:"rd-bX"},0,0,1)),b&&(n=[t(0,0,"\ue624")],d=[t("span",{class:"rd-aP rd-j","mx5-click":r+"\x1e_au()"},n)],s.push(...d)),i?d=[i]:(n=[t("span",{class:"rd-f"})],d=[i=t("div",{_:"_",class:"rd-bY rd-e"},n)]),s.push(t("div",{class:"rd-b0 rd-bT",id:"cnt_"+r},d)),l="rd-bS",h||(l+=" rd-b2"),a=[t("div",{id:"body_"+r,style:"left:"+o(f)+";top:"+o(u)+";width:"+o(g)+"px",class:l},s)],p.push(t("div",{class:"rd-b1",style:"z-index:"+o(c)},a)),t(r,0,p)},init(e){let t=this,r=o.node("app"),i=t.root;t.on("destroy",()=>{(e=>{for(let t,r=a.length-1;r>=0;r--)if((t=a[r]).id==e.id){a.splice(r,1);break}})(t),500==(l-=2)&&r.classList.remove("rd-bV"),o.dispatch(i,"close"),i.parentNode.removeChild(i)}),o.has(e,"closable")||(e.closable=!0),t.set(e),500!=l||navigator.userAgent.includes("Firefox")||r.classList.add("rd-bV"),l+=2,a.push(t)},async render(){let e=this;await e.digest({zIndex:l});let t=e.get(),r=o.mark(e,"_f");setTimeout(()=>{r()&&(e.root.style.display="block",o.node("focus_"+e.id).focus())},30),e.owner.mount(o.node("cnt_"+e.id),t.view,t),setTimeout(()=>{r()&&e.digest({removeClass:!0})},300)},_fd(e){let t=o.node("cnt_"+this.id);o.Vframe.byNode(t).invoke("fire",["unload",e])},_fe(){let e,t=this.id;(e=o.node("body_"+t)).classList.add("rd-b3"),(e=o.node("mask_"+t)).classList.add("rd-bZ")},"_au<click>"(){o.dispatch(this.root,"_ff")},"$doc<keyup>"(e){if("Escape"==e.code){let e=a[a.length-1];e==this&&e.get("closable")&&o.dispatch(this.root,"_ff")}}});Object.assign(s,{_fh(e,t){let r=o.guid("dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+r+'" style="display:none" />');let i,l=o.node(r),a=e.owner.mount(l,"gallery/mx-dialog/index",t);return l.addEventListener("_ff",async()=>{if(!l._fg&&!i){let e=()=>{l._fg=1,a.invoke("_fe"),setTimeout(()=>{a.unmount()},200)},t={p:0,prevent(){i=1},resolve(){t.p=1,i=0,e()},reject(){t.p=1,i=0}};await a.invoke("_fd",[t]),i||t.p||e()}}),l},alert(e,t,r){this.confirm(e,t,null,r,"alert")},confirm(e,t,r,i,o){this.mxDialog("gallery/mx-dialog/"+(o||"confirm"),{body:e,cancel:r,enter:t,title:i,modal:!0,width:300,top:"calc(50vh - 120px)",closable:!1})},mxDialog(e,t){let r,i,l=this,a={view:e},s=o.mark(this,"_aq");return o.use(e,()=>{let d="$dlg_"+e;!l[d]&&s()&&(l[d]=1,Object.assign(a,t),a.width||(a.width=500),null==a.left&&(a.left=`calc(50vw - ${a.width/2}px)`),null==a.top&&(a.top="100px"),a.dialog={close(){r&&o.dispatch(r,"_ff")}},(r=l._fh(l,a)).addEventListener("close",()=>{delete l[d],i&&i()}))}),{close(){r&&o.dispatch(r,"_ff")},whenClose(e){i=e}}}}),r.exports=s}),define("printer/index",["magix","../designer/service","./lodop","../gallery/mx-dialog/index","../elements/provider/table","../gallery/mx-toast/index","./tis"],(e,t,r)=>{let i,o,l,a={class:"rd-dA"},s={class:"rd-dB"};const d=e("magix"),n=e("../designer/service"),p=e("./lodop"),h=e("../gallery/mx-dialog/index"),c=e("../elements/provider/table"),f=e("../gallery/mx-toast/index"),u=e("./tis");d.applyStyle("rd-B",".rd-dv{page-break-after:auto;page-break-inside:avoid}.rd-dw{width:120px}.rd-dx{width:350px}.rd-dy{margin-top:20px}.rd-dz{height:30px;width:1px;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,86.7%,.26666666666666666)),color-stop(.3,#ddd),color-stop(.7,#ddd),to(hsla(0,0%,86.7%,.26666666666666666)));margin:4px 20px}@page{margin:0}@media screen{.rd-dA{box-shadow:0 0 6px 0 rgba(0,0,0,.3);margin-bottom:10px;height:40px;justify-content:flex-end;padding-right:50px;position:-webkit-sticky;position:sticky;top:0;z-index:2;background-color:#fff}.rd-dA,.rd-dB{display:flex;align-items:center}.rd-dB{flex-direction:column}.rd-dC{font-size:16px;height:120px;line-height:120px}.rd-dD{box-shadow:0 0 6px 0 rgba(0,0,0,.3);overflow:hidden}.rd-dE{margin:20px auto}.rd-dF{display:flex}.rd-dG{justify-content:center}}@media print{.rd-dA{display:none}body{min-width:auto}.rd-dE{margin:0}.rd-dD{overflow:hidden;box-shadow:none}.rd-dB{display:block}}");let g={},b={"data-coltable":1,"data-dtable":1},x=(e,t)=>{for(let r=e.length;r--;){let i=e[r];if(("data-coltable"==i.type||"data-celltable"==i.type||"data-dtable"==i.type)&&-1!=t[r])return!0}return!1},{abs:m,floor:y}=Math,_=(e,t)=>{let r=e.width/2,i=e.height/2,o=t.width/2,l=t.height/2,a=e.x+r,s=e.y+i,d=t.x+o,n=t.y+l;return m(d-a)<=r+o&&m(n-s)<=i+l},w=(e,t,r,i)=>{let o=[],{width:l,height:a}=e,s=t*a,n=s+a,p={x:0,y:s,width:l,height:a};for(let e of r){let{props:r,type:l}=e;if("hod-header"==l||"hod-footer"==l)r.y="hod-header"==l?t*a:(t+1)*a-r.height,o.push(e);else{let{x:a,y:h,width:c,height:f}=r;h+=i,d.has(b,l)?(h>=s&&h<=n||h<0&&0==t)&&o.push(e):_({x:a,y:h,width:c,height:f},p)&&o.push(e)}}return o},v=e=>{if(e)if(Array.isArray(e)){let t=[];for(let r of e)t.push(v(r));e=t}else if("Object"==d.type(e)){let t={};for(let r in e)t[r]=v(e[r]);e=t}return e};r.exports=d.View.extend({tmpl:(e,t,r,d,n,p,h)=>{let c,f,u,g,b,x,m,y,_=[],{pages:w,pasted:v,loading:k,page:S}=e,C=!w||0===w.length;if(f=[t(0,0,"Lodop\u8bbe\u7f6e")],c=[t("button",{class:"rd-_ rd-p rd-y","mx5-click":r+"\x1e_hj()"},f)],f=[t(0,0,"Lodop\u6253\u5370")],c.push(t("button",{class:"rd-_ rd-a rd-y",disabled:C,"mx5-click":r+"\x1e_hm()"},f)),i?c.push(i):c.push(i=t("div",{_:"_",class:"rd-dz"})),f=[t(0,0,"TIS\u8bbe\u7f6e")],c.push(t("button",{class:"rd-_ rd-p rd-y","mx5-click":r+"\x1e_hn()"},f)),f=[t(0,0,"TIS\u6253\u5370")],c.push(t("button",{disabled:C,class:"rd-_ rd-a rd-y","mx5-click":r+"\x1e_hr()"},f)),i?c.push(i):c.push(i=t("div",{_:"_",class:"rd-dz"})),f=[t(0,0,"\u6d4f\u89c8\u5668\u6253\u5370")],c.push(t("button",{disabled:C,class:"rd-_ rd-a rd-y","mx5-click":r+"\x1e_aY()"},f)),_.push(t("div",a,c)),c=[],v){if(f=[],k)o?g=[o]:(b=[t(0,0,"\u6b63\u5728\u51c6\u5907\u9875\u9762\u6570\u636e...")],g=[o=t("div",{_:"a",class:"rd-dC"},b)]),u=[t("div",{class:"rd-dD rd-dE rd-dF rd-dG",style:"position:relative;width:"+d(S.width)+"px;height:"+d(S.height)+"px"},g)],f.push(...u);else{u=[];for(let e=w.length,i=e-1,o=0;o<e;o+=1){let e=w[o],l=o===i;b=[];for(let i=e.length,l=0;l<i;l+=1){let i=e[l];y=[t("div",{"mx5-owner":r,$:"pages","mx5-view":"elements/"+d(i.type)+"/printer?props="+h(p,i.props,"\x1eF."+o+"."+l+".f")})],b.push(...y)}x="rd-dD rd-dE",l||(x+=" rd-dv"),m="position:relative;width:"+d(S.width)+"px;height:"+d(S.height)+"px;background:"+d(S.background)+";",S.backgroundImage&&(m+="background-image:url("+d(S.backgroundImage)+");background-repeat:"+d("full"==S.backgroundRepeat?"no-repeat":S.backgroundRepeat)+";background-size:","full"==S.backgroundRepeat?m+="100% 100%":m+=d(S.backgroundWidth)+"px "+d(S.backgroundHeight)+"px;background-position:"+d(S.positionXOffset)+"% "+d(S.positionYOffset)+"%"),g=[t("div",{class:x,style:m},b)],u.push(...g)}f.push(...u)}c.push(...f)}else l?f=[l]:(u=[t(0,0,"\u5728\u901a\u7528\u8bbe\u8ba1\u5668\u8bbe\u8ba1\u597d\u9875\u9762\u540e\uff0c\u70b9\u4fdd\u5b58\u5e76\u590d\u5236\u8bbe\u8ba1\u597d\u7684 JSON \u7136\u540e\u5728\u8be5\u9875\u9762\u8fdb\u884c\u7c98\u8d34\u3002\u8be5\u9875\u9762\u4ec5\u4f9b\u8fd8\u539f\u53c2\u8003\u4f7f\u7528\uff0c\u53ef\u4e0e\u4efb\u610f\u540e\u7aef\u63a5\u53e3\u6df1\u5ea6\u7ed3\u5408\u5b9a\u5236\u3002")],f=[l=t("div",{_:"b",class:"rd-dC"},u)]),c.push(...f);return _.push(t("div",s,c)),t(r,0,_)},render(){this.digest({pasted:!1})},_h_(e){return new Promise(t=>{let r=g[e];r||(r=g[e]={}),r._eF?t():r._eG?r._eG.push(t):(r._eG=[t],this.fetch({name:"_bT",url:e},(e,t)=>{let i=t.get("data");r._d1=i,r._eF=1,r._d0=null==e?void 0:e.msg;for(let e of r._eG)e();delete r._eG}))})},_ha(e){let t=[];for(let r of e)t.push(this._h_(r));return Promise.all(t)},_hb(e,t){let{props:r}=e,{bind:i}=r;if(i.url){let{_d0:e,_d1:o}=g[i.url];if(!e)return r.bind._data=o[t],t==o.length-1?-1:t+1;r.bind._tip=e}return-1},_hc(e,t,r,i=0){let{props:o}=e,{bind:l,rows:a,borderwidth:s,tfootSpacing:d,borderdeed:n,headFirst:p,footLast:h,hideFoot:f,hideHead:u,hideTotal:b}=o;if(l.url){let{_d0:e,_d1:x}=g[l.url];if(!e){let e=!1,l=0,g=-1,m=-1,_=-1,w=0,v=0;for(let e of a)e.label?g=l:e.data?m=l:e.total?_=l:-1==g?w++:-1!=_&&v++,l++;let k=a[_],S=a[m];if(!b)for(let t of k.cols)if("sumpage"==t.type||"acc"==t.type){e=!0;break}c._eb(o,!0);let C=c._ee(o)._eg,I=C[_],z=C[g],T=0,j=C[m],q=0,E=!0,A=!0,L=!1;for(let e=0;e<C.length;e++)!u&&e<g&&(T+=C[e]),e>_&&!f&&(q+=C[e]);"separate"==n&&(T+=2*w,q+=2*v,I+=2,z+=2,s=2,j+=2);let R,N=r.height-o.y-s-d-i-z;if(e&&(N-=I),u?A=!1:p?0==t?N-=T:A=!1:N-=T,h){let e=y(N/j);if(e<1&&(e=1),(R=e+t)>x.length){let e=j*((R=x.length)-t)+s+z+q+d;o.y+e<=r.height?L=!0:E=!1}else E=!1}else{let e=y((N-=q)/j);e<1&&(e=1),(R=e+t)>x.length&&(R=x.length,L=!0)}let B=R-t,H=j*(R-t)+s;if(B&&(H+=z),e&&B&&(H+=I),E&&(H+=q),A&&(H+=T),o.bind._data=x.slice(t,R),o.bind._showAcc=e,o.bind._showFoot=E,o.bind._showHead=A,o.height=H,e)for(let e=k.cols.length;e--;){let r=k.cols[e];if("sumpage"==r.type){let i=S.cols[e];if(i.bindKey){let e=0;for(let r=t;r<R;r++){e+=x[r][i.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}else if("acc"==r.type){let t=S.cols[e];if(t.bindKey){let e=0;for(let r=0;r<R;r++){e+=x[r][t.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}else if("sum"==r.type){let t=S.cols[e];if(t.bindKey){let e=0;for(let r=0;r<x.length;r++){e+=x[r][t.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}}return L?-1:R}o.bind._tip=e}return-1},_hd(e){let{props:t}=e,{bind:r}=t;if(r.url){let{_d0:e,_d1:i}=g[r.url];e?t.bind._tip=e:t.bind._data=i}},_hf(e,t,r,i,o,l){let a=0;for(;a<t.pages;){let s=a*t.height,d=w(t,a,e,l);a++;let n={},p=(e,t,a)=>{let d=[];for(let h=e.length;h--;){let c=e[h],f=a?c:{type:c.type,props:v(c.props)};if(a||(f.props.x+=o,f.props.y+=l,f.props.y-=s),"pager"==c.type)i.push(f),f.props.ext._currentPage=r.length+1,d.unshift(f);else if("data-coltable"==c.type){let e=n[h]||0;-1!=e&&(n[h]=this._he(f,e,t),d.unshift(f))}else if("data-celltable"==c.type)if(a)this._hb(f,0,t),d.unshift(f);else{let e=n[h]||0;-1!=e&&(n[h]=this._hb(f,e,t),d.unshift(f))}else if("data-dtable"==c.type){let e=n[h]||0;if(-1!=e){n[h]=this._hc(f,e,t);let{rows:r}=f.props;for(let e of r)for(let r of e.cols)r.elements&&p(r.elements,t,1);d.unshift(f)}}else{if(c.props.bind&&this._hd(f),"hod-table"==c.type){let{rows:e}=f.props;for(let r of e)for(let e of r.cols)e.elements&&p(e.elements,t,1)}d.unshift(f)}}return d};do{let e=p(d,t);r.push(e)}while(x(d,n))}},async _hi(e){let t=JSON.parse(e),{page:r,elements:i}=t,o=r.xOffset,l=r.yOffset;this.digest({page:r,pasted:!0,loading:!0}),d.State.set({_hg:o,_hh:l});let a=[],s=[],n=[],p=e=>{for(let t of e){let{bind:e}=t.props;if(e&&e.url&&!s.includes(e.url)&&s.push(e.url),"hod-table"==t.type||"data-dtable"==t.type){let{rows:e}=t.props;for(let t of e)for(let e of t.cols)e.elements&&p(e.elements)}}};p(i),await this._ha(s),this._hf(i,r,a,n,o,l);for(let e of n)e.props.ext._totalPage=a.length;await this.digest({pages:a,loading:!1})},"_aY<click>"(){window.print()},"_hj<click>"(){this.mxDialog("printer/ld-setting",{width:500})},async"_hm<click>"(){let e=d.mark(this,"_hk"),t=document.getElementsByTagName("style"),r=this.get("page"),i=await p._hl();if(e())if(i){i.SET_PRINT_PAGESIZE(0,r.width+"px",r.height+"px","report-designer"),i.SET_PRINT_MODE("POS_BASEON_PAPER",!0);let e=document.querySelectorAll(".rd-dD");for(let o=0;o<e.length;o++){let l=e[o];i.NewPageA(),i.ADD_PRINT_HTM(0,0,r.width+"px",r.height+"px",`<style>${t[1].innerHTML}</style>`+l.innerHTML)}i.PREVIEW()}else this.mxDialog("printer/ld-tip",{width:400})},"_hn<click>"(){this.mxDialog("printer/tis-setting",{width:500})},"_hr<click>"(){let e=d.mark(this,"_ho");f.show("\u6b63\u5728\u8c03\u7528TIS\u6253\u5370\u670d\u52a1...");let t=this.get("page"),r=u._hp(),i={width:t.width,height:t.height,location:location.href,selector:"div.rd-dD",printer:r,stage:this.get("origin")};this.save({name:"_bU",url:d.config("tis")+"print",_bn:JSON.stringify(i)},(t,r)=>{e()&&(t?(f.hide(),this.alert(u._hq(t))):f.show("\u6253\u5370\u6210\u529f\uff5e",2e3))})},"$doc<paste>"(e){let t=e.clipboardData.getData("text/plain");this._hi(t)},"$win<render>"(e){this._hi(e.json)},"$win<message>"(e){e.source.postMessage("_a1","*"),this._hi(e.data)}}).merge(n,h)}),define("printer/ld-setting",["magix","./lodop"],(e,t,r)=>{let i,o,l,a={class:"rd-H rd-c"},s={class:"rd-N rd-O"},d={class:"rd-H rd-d"},n={value:"value"};const p=e("magix"),h=e("./lodop");r.exports=p.View.extend({tmpl:(e,t,r,p)=>{let h,c,f,u=[],{src:g}=e;return i?u.push(i):(c=[t(0,0,"Lodop\u6253\u5370\u670d\u52a1\u8bbe\u7f6e")],h=[t("h5",0,c)],u.push(i=t("div",{_:"_",class:"rd-b"},h))),o?c=[o]:(f=[t(0,0,"\u6253\u5370\u63d2\u4ef6\u5730\u5740\uff1a")],c=[o=t("div",{_:"a",class:"rd-dw"},f)]),f=[t("input",{placeholder:"\u6253\u5370\u63d2\u4ef6\u5730\u5740",class:"rd-dx rd-g",value:p(g),"mx5-input":r+"\x1e_ht()"},0,n,1)],c.push(t("div",0,f)),h=[t("div",s,c)],l?h.push(l):(c=[t(0,0,"Lodop\u5b89\u88c5\u540e\u4f1a\u6709\u4e00\u4e2a\u901a\u8fc7http\u534f\u8bae\u6765\u63a7\u5236\u6253\u5370\u670d\u52a1\u7684javascript\u63d2\u4ef6\uff0c\u5728\u8fd9\u91cc\u8bbe\u7f6e\u8be5\u63d2\u4ef6\u7684\u5730\u5740\u3002\u5982\u679c\u6253\u5370\u670d\u52a1\u5b89\u88c5\u5728\u5f53\u524d\u7535\u8111\u4e0a\u4e14\u672a\u4fee\u6539\u8fc7\u7aef\u53e3\uff0c\u5219\u65e0\u9700\u505a\u4efb\u4f55\u8bbe\u7f6e\u3002")],f=[t(0,0,"\u53bbLodop\u5b98\u7f51\u4e86\u89e3\u66f4\u591a\u4fe1\u606f")],c.push(t("a",{href:"http://www.lodop.net/download.html",target:"_blank",rel:"noopener noreferrer"},f)),h.push(l=t("div",{_:"b",class:"rd-ai rd-dy"},c))),u.push(t("div",a,h)),c=[t(0,0,"\u53d6\u6d88")],h=[t("button",{"mx5-click":r+"\x1e_fc()",class:"rd-_ rd-y",type:"button"},c)],c=[t(0,0,"\u5e94\u7528")],h.push(t("button",{"mx5-click":r+"\x1e_hv()",class:"rd-_ rd-a rd-p rd-y",type:"button"},c)),u.push(t("div",d,h)),t(r,0,u)},init(e){this._aq=e.dialog},render(){this.digest({src:h._hs()})},"_fc<click>"(){this._aq.close()},"_ht<input>"(e){let t=e.eventTarget.value;this.digest({src:t})},"_hv<click>"(){h._hu(this.get("src")),this._aq.close()}})}),define("printer/ld-tip",["magix"],(e,t,r)=>{let i,o,l={class:"rd-H rd-d"};const a=e("magix");r.exports=a.View.extend({tmpl:(e,t,r,a)=>{let s,d,n=[],{i18n:p}=e;return i?n.push(i):(d=[t(0,0,"\u5b89\u88c5\u63d0\u793a")],s=[t("h5",0,d)],n.push(i=t("div",{_:"_",class:"rd-b"},s))),o?n.push(o):(s=[t(0,0,"\u672a\u68c0\u6d4b\u5230Lodop\u6253\u5370\u670d\u52a1\uff0c\u8bf7\u60a8\u5148\u524d\u5f80")],d=[t(0,0,"Lodop\u5b98\u65b9\u793a\u4f8b\u9875\u9762")],s.push(t("a",{href:"http://www.lodop.net/LodopDemo.html",target:"_blank",rel:"noopener noreferrer"},d),t(0,0,"\uff0c\u6309\u76f8\u5173\u8bf4\u660e\u5b89\u88c5Lodop\u6253\u5370\u670d\u52a1\u5e76\u80fd\u6b63\u5e38\u8fd0\u884c\u5b98\u7f51\u63d0\u4f9b\u7684\u793a\u4f8b\u540e\uff0c\u518d\u6765\u8be5\u9875\u9762\u5c1d\u8bd5\u4f7f\u7528Lodop\u6253\u5370\u3002")),n.push(o=t("div",{_:"a",class:"rd-H rd-c"},s))),d=[t(0,0,a(p("bG")))],s=[t("button",{"mx5-click":r+"\x1e_e3()",class:"rd-_ rd-a rd-y",type:"button"},d)],n.push(t("div",l,s)),t(r,0,n)},init(e){this._aq=e.dialog},render(){this.digest()},"_e3<click>"(){this._aq.close()}})}),define("printer/lodop",[],(e,t,r)=>{let i=()=>{try{let e=localStorage.getItem("lodop.src");return e||(e="http://127.0.0.1:8000/CLodopfuncs.js"),e}catch(e){return"http://127.0.0.1:8000/CLodopfuncs.js"}},o={};r.exports={_hu(e){try{localStorage.setItem("lodop.src",e)}catch(e){}},_hs:i,_hl:()=>new Promise(e=>{let t=i(),r=o[t];r||(r={_hw:1,_hx:[]},o[t]=r),r._hx.push(e);let l=()=>{let e;r._hw|=4,window.getCLodop&&(e=getCLodop());for(let t of r._hx)t(e);r._hx.length=0};if(4&r._hw)l();else if(0==(2&r._hw)){r._hw|=2;let e=document.createElement("script");e.onload=e.onerror=l,e.src=i(),document.head.appendChild(e)}})}}),define("printer/tis-setting",["magix","../designer/service","./tis","gallery/mx-dropdown/index","gallery/mx-number/index"],(e,t,r)=>{let i,o,l,a,s,d,n,p,h,c;e("gallery/mx-dropdown/index"),e("gallery/mx-number/index");let f={class:"rd-H rd-c"},u={class:"rd-N rd-O"},g={class:"rd-N rd-O rd-dy"},b={class:"rd-ac"},x={class:"rd-H rd-d"},m={checked:"checked"};const y=e("magix"),_=e("../designer/service"),w=e("./tis");let v=[{text:"\u7eb5\u5411",value:"portrait"},{text:"\u6a2a\u5411",value:"landscape"}];r.exports=y.View.extend({tmpl:(e,t,r,y,_,w,v)=>{let k,S,C,I,z=[],{error:T,exf:j,list:q,printer:E,layouts:A}=e;return i?z.push(i):(S=[t(0,0,"TIS\u6253\u5370\u670d\u52a1\u8bbe\u7f6e")],k=[t("h5",0,S)],z.push(i=t("div",{_:"_",class:"rd-b"},k))),k=[],T?(S=[t(0,0,y(j(T.msg)))],k.push(...S)):(o?C=[o]:(I=[t(0,0,"\u6253\u5370\u673a\uff1a")],C=[o=t("div",{_:"a",class:"rd-dw rd-v"},I)]),C.push(t("div",{"mx5-owner":r,$:"list",class:"rd-dx","mx5-change":r+"\x1e_hA()","mx5-view":"gallery/mx-dropdown/index?list="+v(w,q,"\x1e_")+"&selected="+_(E.name)})),S=[t("div",u,C)],l?C=[l]:(I=[t(0,0,"\u65b9\u5411\uff1a")],C=[l=t("div",{_:"b",class:"rd-dw rd-v"},I)]),C.push(t("div",{"mx5-owner":r,$:"layouts",class:"rd-dx","mx5-change":r+"\x1e_hB()","mx5-view":"gallery/mx-dropdown/index?list="+v(w,A,"\x1eG")+"&textKey=text&valueKey=value&selected="+_(E.l)})),S.push(t("div",g,C)),a?C=[a]:(I=[t(0,0,"\u53cc\u9762\u6253\u5370\uff1a")],C=[a=t("div",{_:"c",class:"rd-dw rd-v"},I)]),I=[t("input",{class:"rd-ad",type:"checkbox",checked:E.ts,"mx5-change":r+"\x1e_hC()"},0,m,1)],s?I.push(s):I.push(s=t("i",{_:"d",class:"rd-ae"})),C.push(t("label",b,I)),S.push(t("div",g,C)),d?C=[d]:(I=[t(0,0,"\u6253\u5370\u4efd\u6570\uff1a")],C=[d=t("div",{_:"e",class:"rd-dw rd-v"},I)]),C.push(t("div",{"mx5-owner":r,$:"printer","mx5-input":r+"\x1e_hz({key:'nc'})",class:"rd-B rd-g","mx5-view":"gallery/mx-number/index?min=1&value="+v(w,E.nc,"\x1eH")})),S.push(t("div",g,C)),n?C=[n]:(I=[t(0,0,"\u5de6\u9875\u8fb9\u8ddd\uff1a")],C=[n=t("div",{_:"f",class:"rd-dw rd-v"},I)]),C.push(t("div",{"mx5-owner":r,$:"printer","mx5-input":r+"\x1e_hz({key:'pl'})",class:"rd-B rd-g","mx5-view":"gallery/mx-number/index?min=0&value="+v(w,E.pl,"\x1eI")})),S.push(t("div",g,C)),p?C=[p]:(I=[t(0,0,"\u4e0a\u9875\u8fb9\u8ddd\uff1a")],C=[p=t("div",{_:"g",class:"rd-dw rd-v"},I)]),C.push(t("div",{"mx5-owner":r,$:"printer","mx5-input":r+"\x1e_hz({key:'pt'})",class:"rd-B rd-g","mx5-view":"gallery/mx-number/index?min=0&value="+v(w,E.pt,"\x1eJ")})),S.push(t("div",g,C)),h?C=[h]:(I=[t(0,0,"\u53f3\u9875\u8fb9\u8ddd\uff1a")],C=[h=t("div",{_:"h",class:"rd-dw rd-v"},I)]),C.push(t("div",{"mx5-owner":r,$:"printer","mx5-input":r+"\x1e_hz({key:'pr'})",class:"rd-B rd-g","mx5-view":"gallery/mx-number/index?min=0&value="+v(w,E.pr,"\x1eK")})),S.push(t("div",g,C)),c?C=[c]:(I=[t(0,0,"\u4e0b\u9875\u8fb9\u8ddd\uff1a")],C=[c=t("div",{_:"i",class:"rd-dw rd-v"},I)]),C.push(t("div",{"mx5-owner":r,$:"printer","mx5-input":r+"\x1e_hz({key:'pb'})",class:"rd-B rd-g","mx5-view":"gallery/mx-number/index?min=0&value="+v(w,E.pb,"\x1eL")})),S.push(t("div",g,C)),k.push(...S)),z.push(t("div",f,k)),S=[t(0,0,"\u53d6\u6d88")],k=[t("button",{"mx5-click":r+"\x1e_fc()",class:"rd-_ rd-y",type:"button"},S)],S=[t(0,0,"\u5e94\u7528")],k.push(t("button",{"mx5-click":r+"\x1e_hv()",class:"rd-_ rd-a rd-p rd-y",type:"button"},S)),z.push(t("div",x,k)),t(r,0,z)},init(e){this._aq=e.dialog,this.set({exf:w._hq,layouts:v})},render(){let e=y.mark(this,"_hy");this.fetch({name:"_bU",url:y.config("tis")+"printers",_bn:JSON.stringify({width:0,height:0,location:location.href})},(t,r)=>{if(e()){let e=w._hp(),i=r.get("data",[]);e.name||(e.name=i[0]),this.digest({error:t,list:i,printer:e})}})},"_fc<click>"(){this._aq.close()},"_hz<input>"(e){let t=this.get("printer"),{key:r}=e.params;t[r]=e.value},"_hA<change>"(e){this.get("printer").name=e.value},"_hB<change>"(e){this.get("printer").l=e.value},"_hC<change>"(e){this.get("printer").ts=e.eventTarget.checked},"_hv<click>"(){w._hD(this.get("printer")),this._aq.close()}}).merge(_)}),define("printer/tis",[],(e,t,r)=>{let i={"github.io":1,"gitee.io":1};r.exports={_hp(){let e={name:"",nc:1,pt:0,pl:0,pr:0,pb:0,l:"portrait",ts:!1};try{let t=JSON.parse(localStorage.getItem("tis.printer"));Object.assign(e,t)}catch(e){}return e},_hD(e){try{localStorage.setItem("tis.printer",JSON.stringify(e))}catch(e){}},_hq(e){let t=location.hostname.split(".").slice(-2).join(".");return i[t]?t+"\u73af\u5883\u4e0d\u652f\u6301TIS\u670d\u52a1\uff0c\u8fdb\u4e00\u6b65\u4e86\u89e3\u8be6\u60c5\u53ef\u4ee5\u6dfb\u52a0\u4f5c\u8005\u5fae\u4fe1\uff1aqq84685009":`TIS\u670d\u52a1\u5f02\u5e38[${e.msg||e}]`}}});