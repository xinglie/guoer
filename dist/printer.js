(function(e,t){if(!e.seajs){var r=e.seajs={version:"2.2.3"},o=r.data={},i=V("Object"),d=V("String"),a=Array.isArray||V("Array"),l=V("Function"),s=V("Undefined"),n=0,p=o.events={};r.on=function(e,t){return(p[e]||(p[e]=[])).push(t),r},r.off=function(e,t){if(!e&&!t)return p=o.events={},r;var i=p[e];if(i)if(t)for(var d=i.length-1;d>=0;d--)i[d]===t&&i.splice(d,1);else delete p[e];return r};var c,h=r.emit=function(e,t){var o,i=p[e];if(i)for(i=i.slice();o=i.shift();)o(t);return r},u=/[^?#]*\//,f=/\/\.\//g,b=/\/[^/]+\/\.\.\//,g=/([^:/])\/\//g,x=/^([^/:]+)(\/.+)$/,m=/{([^{]+)}/g,y=/^\/\/.|:\//,w=/^.*?\/\/.*?\//,_=document,v=X(_.URL),k=_.scripts,S=_.getElementById("seajsnode")||k[k.length-1],C=X(((c=S).hasAttribute?c.src:c.getAttribute("src",4))||v);r.resolve=function(e,t){if(!e)return"";var r,i,a;e=function(e){var t=o.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(m,function(e,r){return d(t[r])?t[r]:e})),e}(e=function(e){var t,r=o.paths;return r&&(t=e.match(x))&&d(r[t[1]])&&(e=r[t[1]]+t[2]),e}(e=function(e){var t=o.alias;return t&&d(t[e])?t[e]:e}(e))),i=(r=e).length-1;var s=D(e="#"===(a=r.charAt(i))?r.substring(0,i):".js"===r.substring(i-2)||r.indexOf("?")>0||".css"===r.substring(i-3)||"/"===a?r:r+".js",t);return s=function(e){var t=o.map,r=e;if(t)for(var i=0,d=t.length;i<d;i++){var a=t[i];if((r=l(a)?a(e)||e:e.replace(a[0],a[1]))!==e)break}return r}(s)};var j,T,E=_.head||_.getElementsByTagName("head")[0]||_.documentElement,L=E.getElementsByTagName("base")[0],M=/\.css(?:\?|$)/i,q=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;r.request=function(e,t,r,i){var d=M.test(e),a=_.createElement(d?"link":"script");r&&(a.charset=r),s(i)||a.setAttribute("crossorigin",i),function(e,t,r,i){var d="onload"in e;function a(){e.onload=e.onerror=e.onreadystatechange=null,r||o.debug||E.removeChild(e),e=null,t()}!r||!q&&d?d?(e.onload=a,e.onerror=function(){h("error",{uri:i,node:e}),a()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&a()}:setTimeout(function(){!function e(t,r){var o,i=t.sheet;if(q)i&&(o=!0);else if(i)try{i.cssRules&&(o=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(o=!0)}setTimeout(function(){o?r():e(t,r)},20)}(e,t)},1)}(a,t,d,e),d?(a.rel="stylesheet",a.href=e):(a.async=!0,a.src=e),j=a,L?E.insertBefore(a,L):E.appendChild(a),j=null};var O,R=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,z=/\\\\/g,I=r.cache={},B={},K={},P={},A=Y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};Y.prototype.resolve=function(){for(var e=this.dependencies,t=[],r=0,o=e.length;r<o;r++)t[r]=Y.resolve(e[r],this.uri);return t},Y.prototype.load=function(){if(!(this.status>=A.LOADING)){this.status=A.LOADING;var e=this.resolve();h("load",e);for(var t,r=this._remain=e.length,o=0;o<r;o++)(t=Y.get(e[o])).status<A.LOADED?t._waitings[this.uri]=(t._waitings[this.uri]||0)+1:this._remain--;if(0!==this._remain){var i={};for(o=0;o<r;o++)(t=I[e[o]]).status<A.FETCHING?t.fetch(i):t.status===A.SAVED&&t.load();for(var d in i)i.hasOwnProperty(d)&&i[d]()}else this.onload()}},Y.prototype.onload=function(){this.status=A.LOADED,this.callback&&this.callback();var e,t,r=this._waitings;for(e in r)r.hasOwnProperty(e)&&((t=I[e])._remain-=r[e],0===t._remain&&t.onload());delete this._waitings,delete this._remain},Y.prototype.fetch=function(e){var t=this.uri;this.status=A.FETCHING;var i={uri:t};h("fetch",i);var d=i.requestUri||t;function a(){r.request(i.requestUri,i.onRequest,i.charset,i.crossorigin)}d&&!K[d]?B[d]?P[d].push(this):(B[d]=!0,P[d]=[this],h("request",i={uri:t,requestUri:d,onRequest:function(){delete B[d],K[d]=!0,O&&(Y.save(t,O),O=null);var e,r=P[d];delete P[d];for(;e=r.shift();)e.load()},charset:l(o.charset)?o.charset(d):o.charset,crossorigin:l(o.crossorigin)?o.crossorigin(d):o.crossorigin}),i.requested||(e?e[i.requestUri]=a:a())):this.load()},Y.prototype.exec=function(){var e=this;if(e.status>=A.EXECUTING)return e.exports;e.status=A.EXECUTING;var t=e.uri;function r(e){return Y.get(r.resolve(e)).exec()}r.resolve=function(e){return Y.resolve(e,t)},r.async=function(e,o){return Y.use(e,o,t+"_async_"+U()),r};var o=e.factory,i=l(o)?o(r,e.exports={},e):o;return void 0===i&&(i=e.exports),delete e.factory,e.exports=i,e.status=A.EXECUTED,h("exec",e),i},Y.resolve=function(e,t){var o={id:e,refUri:t};return h("resolve",o),o.uri||r.resolve(o.id,t)},Y.define=function(e,t,r){var o,i,d=arguments.length;1===d?(r=e,e=void 0):2===d&&(r=t,a(e)?(t=e,e=void 0):t=void 0),!a(t)&&l(r)&&(o=r.toString(),i=[],o.replace(z,"").replace(R,function(e,t,r){r&&i.push(r)}),t=i);var s={id:e,uri:Y.resolve(e),deps:t,factory:r};if(!s.uri&&_.attachEvent){var n=function(){if(j)return j;if(T&&"interactive"===T.readyState)return T;for(var e=E.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return T=r}}();n&&(s.uri=n.src)}h("define",s),s.uri?Y.save(s.uri,s):O=s},Y.save=function(e,t){var r=Y.get(e);r.status<A.SAVED&&(r.id=t.id||e,r.dependencies=t.deps||[],r.factory=t.factory,r.status=A.SAVED)},Y.get=function(e,t){return I[e]||(I[e]=new Y(e,t))},Y.use=function(t,r,o){var i=Y.get(o,a(t)?t:[t]);i.callback=function(){for(var t=[],o=i.resolve(),d=0,a=o.length;d<a;d++)t[d]=I[o[d]].exec();r&&r.apply(e,t),delete i.callback},i.load()},Y.preload=function(e){var t=o.preload,r=t.length;r?Y.use(t,function(){t.splice(0,r),Y.preload(e)},o.cwd+"_preload_"+U()):e()},r.use=function(e,t){return Y.preload(function(){Y.use(e,t,o.cwd+"_use_"+U())}),r},Y.define.cmd={},e.define=Y.define,r.Module=Y,o.fetchedList=K,o.cid=U,r.require=function(e){var t=Y.get(Y.resolve(e));return t.status<A.EXECUTING&&(t.onload(),t.exec()),t.exports};var N,F;o.base=(C.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",C])[1],o.dir=C,o.cwd=v,o.charset="utf-8",o.history={},o.preload=(N=[],F=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(F+=" "+_.cookie).replace(/(seajs-\w+)=1/g,function(e,t){N.push(t)}),N),r.config=function(e){for(var t in e){var d=e[t],l=o[t];if(o.history[t]=o.history[t]||[],o.history[t].push($(d)),l&&i(l))for(var s in d)l[s]=d[s];else a(l)?d=l.concat(d):"base"===t&&("/"!==d.slice(-1)&&(d+="/"),d=D(d)),o[t]=d}return h("config",e),r}}function V(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function U(){return n++}function X(e){return e.match(u)[0]}function D(e,t){var r,i=e.charAt(0);if(y.test(e))r=e;else if("."===i)r=function(e){for(e=e.replace(f,"/");e.match(b);)e=e.replace(b,"/");return e=e.replace(g,"$1/")}((t?X(t):o.cwd)+e);else if("/"===i){var d=o.cwd.match(w);r=d?d[0]+e.substring(1):e}else r=o.base+e;return 0===r.indexOf("//")&&(r=location.protocol+r),r}function Y(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function $(e){if(i(e)){var t={};for(var r in e)t[r]=e[r];return t}return e}})(this),(e=>{window.define?define("magix5",e):window.Magix=e()})(()=>{let e=0,t=[],r=window,o=document,i=r.setTimeout,d=encodeURIComponent;function a(){}let l,s=JSON.stringify,n=o.head,p=r.performance,c=p.now.bind(p),h="prototype",u=Object[h].toString,f=e=>u.call(e).slice(8,-1),b=e=>"Object"==f(e),g=Array.isArray,x=t=>(t||"_")+e++,m=e=>o.getElementById(e),y=(e,t)=>e.innerHTML=t,w={rootId:x(),wait:a,error(e){throw e}},_=e=>!e||"object"!=typeof e,v=(e,t,r)=>{if(e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},k=e=>{e["\x1ea"]=null},{assign:S,keys:C,hasOwnProperty:j}=Object,T=n.getAttribute,E=(e,t)=>T.call(e,t),L=(e,t,r)=>{t&&!L[e]&&(L[e]=1,r=o.createElement("style"),y(r,t),n.appendChild(r))},M=(e,t,r,o)=>{try{o=g(t)?e.apply(r,t):e.call(r,t)}catch(e){w.error(e)}return o},q=(e,t)=>e&&j.call(e,t),O=(e,t)=>{let r,o;if(_(t))"\x1e"==(r=t+"")[0]&&(t=e[r]);else for(r in t)o=t[r],o=O(e,o),t[r]=o;return t},R=(e,t)=>t.a-e.a;function z(e,t,r){(r=this).a=[],r.b=t||5,r.c=r.b+(e||20)}S(z[h],{get(e){let t=this.a["\x1e"+e];return t&&(t.a++,t=t.c),t},set(e,t){let r=this,o=r.a,i="\x1e"+e,d=o[i],a=r.b;if(!d){if(o.length>=r.c)for(o.sort(R);a--;)(d=o.pop()).a>0&&r.del(d.o);d={d:e},o.push(d),o[i]=d}d.c=t,d.a=1},del(e){e="\x1e"+e;let t=this.a,r=t[e];r&&(r.a=-1,r.c="",t[e]=null)},has(e){return q(this.a,"\x1e"+e)}});let I,B={bubbles:!0,cancelable:!0},K=[],P=(e,t,r,o,i,d)=>{let a={a:i,b:r,c:t,d:e,e(e){i?M(r,e,d):r(e)}};K.push(a),e.addEventListener(t,a.e,o)},A=(e,t,r,o,i)=>{for(let d,a=K.length;a--;)if((d=K[a]).c==t&&d.a==i&&d.d==e&&d.b===r){K.splice(a,1),e.removeEventListener(t,d.e,o);break}},N=new z,F=(e,t,r)=>(N.has(e)?r=N.get(e):(r=M(Function(`return ${e}`)),t&&N.set(e,r)),r),V=decodeURIComponent,U=new z,X=e=>{let t,r,o,i,d,a,l=U.get(e);if(!l){if(i={},-1==(d=e.indexOf("?"))?(t=e,a=""):(t=e.substring(0,d),a=e.substring(d+1)),a)for(d of a.split("&"))[r,o]=d.split("="),i[V(r)]=V(o||"");U.set(e,l={a:t,b:i})}return{path:l.a,params:S({},l.b)}},D=new z,Y=(e,t,r)=>(D.has(e)?r=D.get(e):(r=F(e,null),e.includes("\x1e")?O(t,r):D.set(e,r)),r),$=0,W=[],G=()=>{let e,t,r,o=c(),d=w.wait;try{for(;;){if(e=W[$],r=W[$-1],t=W[$+1],W[$]=null,W[$-1]=null,W[$+1]=null,W[$+2]=null,$+=4,!e){d(0),W.length=$=0;break}if(e!=a&&(g(t)?e.apply(r,t):e.call(r,t)),c()-o>8&&W.length>$){d(1),i(G);break}}}catch(e){w.error(e),i(G)}},Z=(e,t,r,o)=>{if($||($=1,i(G)),o)for(let e=W.length-1;e>=$;e-=4)W[e]==o&&(W[e-3]=null,W[e-2]=a,W[e-1]=null,W[e]=null);W.push(r,e,t,o)},H=x();w.views={},w.defaultView=H;let Q=e=>e.__esModule||window.Symbol&&"Module"===e[Symbol.toStringTag],J=e=>"Function"==f(e),ee=(e,t)=>{if(H==e)return I||(I=bt.extend()),t(I);let r,o=w.views,i=[],d=0,a=()=>{d||Z(t,i)},l=(e,t)=>{let r=e=>{i[t]||(d--,i[t]=Q(e)?e.default:e,a())};(e=e(r))&&e.then&&e.then(r)},s=e=>t=>{d--,i[e]=Q(t)?t.default:t,a()};if(e){g(e)||(e=[e]);for(let t=0;t<e.length;t++)(r=o[e[t]])?(J(r)&&!r.extend?(d++,l(r,t)):i[t]=Q(r)?r.default:r,a()):window.seajs?(d++,seajs.use(e[t],s(t))):window.require&&(r=require(e[t]),i[t]=Q(r)?r.default:r,a())}else a()},te=(e,t,r,o)=>(a[h]=t[h],o=new a,S(o,r),o.constructor=e,e[h]=o,e),re=e=>e;let oe,ie,de={fire(e,t){let r,o,i=this,d=i["\x1e"+e],a=0;if(t||(t={}),d)for(r=d.length;a<r;a++)(o=d[a]).a?(o.b=1,M(o.a,t,i),o.b=""):o.b||(d.splice(a--,1),r--);(d=i[`on${e}`])&&M(d,t,i)},on(e,t){let r="\x1e"+e;(this[r]||(this[r]=[])).push({a:t})},off(e,t){let r,o="\x1e"+e,i=this,d=i[o];if(t){if(d)for(r of d)if(r.a==t){r.a="";break}}else i[o]=null,i[`on${e}`]=null}},ae={},le=(e,t,r,o)=>{t.includes("\x1e")&&(o=ae[e])&&O(o.a,r)},se=(e,t)=>{q(ae,e)||(ae[e]=t)},ne=(e,t,r,o,i,d,a)=>{for(t=e.c,i=e.d;t.length;)[r,a,o]=t.shift(),Z(o,(d=i[r])&&M(d,a,i))},pe=(e,t)=>{let r,o,i;for(r in e.b)(i=t?(o=ae[r])&&v(o.root,t):1)&&e.unmount(r,1)},ce=e=>{let{d:t,root:r}=e;e.c=[],t&&(e.d=0,t.a&&(t.a=0,k(t),pe(e),t.fire("destroy"),lt(t,1),r&&e.f&&y(r,e.g))),e.h++},he=(e,t,r)=>{let o,i,d,a,{id:l,root:s,pId:n}=e;!e.f&&s&&(e.f=1,e.g=s.innerHTML),ce(e),s&&t&&(o=X(t),d=o.path,e.path=t,a=o.params,le(n,t,a),e.i=d,(n=a["\x1e"])&&b(n)?a=n:S(a,r),i=e.h,ee(d,t=>{if(i==e.h){if(!t)return void 0;ft(t),d=new t(l,s,e,a),e.d=d,lt(d),M(d.init,a,d),Z(d.f,a,d),Z(()=>{d.g(),d.tmpl||d.h||at(d)})}}))},ue=e=>e.b||(e.b=x(ie));function fe(e,t){let r=this,o=ue(e);r.id=o,r.root=e,r.h=1,r.b={},r.pId=t,r.c=[],r.a={},se(o,r)}S(fe,{root:()=>oe,all:()=>ae,byId:e=>ae[e],byNode:e=>ae[e.b]}),S(fe[h],{mount(e,t,r){let o,i=this,d=i.id,a=i.b,l=ue(e);return(o=ae[l])||(q(a,l)||(i.j=0),a[l]=l,o=new fe(e,d)),he(o,t,r),o},unmount(e,t){let r,o;var i,d,a;e=e?this.b[t?e:e.b]:this.id,(r=ae[e])&&(ce(r),o=r.pId,(d=ae[i=e])&&(delete ae[i],(a=d.root).a=0,a.b=0,d.id=d.root=d.pId=d.b=null),(r=ae[o])&&q(r.b,e)&&(delete r.b[e],r.j=0))},children(e){return(e=this).j||(e.j=C(e.b))},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=ae[t.pId];return t},invoke(e,t){let r,o,i=this,d=i.c;return new Promise(a=>{(r=i.d)&&r.h?a((o=r[e])&&M(o,t,r)):d.push([e,t,a])})}});let be=new z(30,10),ge=/([\w\-]+)\x1e(\x1e)?([^(]+)\(([\s\S]*?)\)/,xe={},me={},ye={},we={},_e={},ve={},ke={capture:!0},Se={passive:!1},Ce={passive:!1,capture:!0};let je=(e,r)=>{let o,i,d,a,s,n,p,c,h=[],u=e,f=E(e,"mx5-"+r),b=0;if(f&&((s=be.get(f))||(s={v:(s=f.match(ge)||t)[1],t:s[2],n:s[3],i:s[4]},be.set(f,s)),s=S({},s)),s&&!s.v||_e[r]){if(!(c=u.c)){for(p=[u];u!=l&&(u=u.parentNode);){if(ae[i=u.b]||(i=u.c)){c=i;break}p.push(u)}if(c)for(f of p)f.c=c}if(c){u=e.b,ae[u]&&(b=c=u);do{if((o=ae[c])&&(n=o.d)){if(a=(d=n.i)[r])for(u=a.length;u--;)d={r:i=a[u],v:c,n:i},i?!b&&e.matches(i)&&h.push(d):b&&h.unshift(d);if(n.tmpl&&!b)break;b=0}}while(o&&(c=o.pId))}}return s&&h.push(s),h},Te=e=>{let t,r,o,i,d,a,l,{target:s,type:n}=e,p=[];for(;s&&1==s.nodeType&&!(e.cancelBubble||(r=s.d)&&r[n]);){if(r=1,p.push(s),(t=je(s,n)).length)for(a of(p.length=0,t)){let{v:t,n:p,i:c,t:h}=a;if(!(i=(o=ae[t])&&o.d)){0;break}i.h&&i.a&&((a=i[d=p+"\x1e"+n])&&(e.eventTarget=s,l=c?Y(c,o.a):ve,e.params=l,M(a,e,i)),h||(s=i.root,r=0))}r&&((i=(o=ae[s.b])&&o.d)&&i.j[n]&&(p.length=0),s=s.parentNode)}for(s of p)(r=s.d||(s.d={}))[n]=1},Ee=(e,t,r,o)=>{let i=0|xe[e],d=0|ye[e],a=0|we[e],s=r?-1:1,n=r?A:P;4&o&&(d+=s,ye[e]=d),8&o&&(a+=s,we[e]=a);let p,c=me[e];d&&a?p=Ce:d?p=Se:a&&(p=ke),i&&r!==i?p!=c&&(A(l,e,Te,c),P(l,e,Te,p)):n(l,e,Te,r?c:p),me[e]=p,xe[e]=i+s,t&&(_e[e]=(0|_e[e])+s)};let Le={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},Me=/[&<>"'\`]/g,qe=e=>null==e?"":""+e,Oe=e=>Le[e],Re=e=>qe(e).replace(Me,Oe),ze={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Ie=e=>ze[e],Be=/[!')(*]/g,Ke=e=>d(qe(e)).replace(Be,Ie),Pe=/[\\'"]/g,Ae=e=>qe(e).replace(Pe,"\\$&"),Ne=(e,t,r)=>(e[r]=t,r),Fe=(e,r,o)=>{if(e.a&&(o=e.tmpl)){let r,i=e.k,d=e.id,a=ae[d],l={a:[],b:0},s=e.d,n=a.a;e.l=0,e.k={},r=o(s,Ue,d,qe,Ke,n,Ne,Ae,g);let p=()=>{if(e.a)for(r of((o=l.c||!e.h)&&at(e),l.a))Z(r.g,t,r,"\x1e"+r.id)},c=()=>{if(e.m=r,e.n>1)e.n=1,p(),Fe(e);else{for(r of(e.n=0,p(),i=e.o))r();i.length=0}};Z(et,[e.root,e.m,r,l,a,i,e,c])}},Ve={},Ue=(e,t,r,o,i)=>{let d;if(e){t=t||Ve;let a,l,s,n,p,c="",h={},u=0,f="<"+e,b="",g="",x=[],m=0;if(r)for(n of r){if(s=n.a,n.b==De){if(!s)continue;s=Re(s)}g+=s,p&&n.b==De&&p.b==De?p.a+=n.a:(n.d&&(h[n.d]=(h[n.d]||0)+1,u++),a=a||n.e,p=n,x.push(n))}for(l in o=o||Ve,t)!1!==(s=t[l])&&null!=s?(!0===s&&(t[l]=s=o[l]?s:""),"id"==l||"mx5-key"==l?c=s:"_"!=l||c?"mx5-view"==l&&s&&(m=1,c||(c=e+"\x1e"+X(s).path)):c=s,"value"==l&&"textarea"==e?(g=s,b+=s):q(Xe,l)||(f+=` ${l}="${s&&Re(s)}"`)):o[l]||delete t[l];b+=f,d={a:f+=i?"/>":`>${g}</${e}>`,c:g,d:c,b:e,f:m,e:a||t.$,g:o,h:b,i:t,j:x,k:h,l:u,m:i}}else d={b:t?"\x1e":De,a:r+""};return d},Xe={_:1,$:1,"mx5-key":1};let De=e;let Ye="http://www.w3.org/",$e={svg:`${Ye}2000/svg`,math:`${Ye}1998/Math/MathML`},We=(e,t,r)=>{let o,i,d,a=0,l=r.g,s=t.g,n=r.i,p=t.i;if(t)for(o in p)q(n,o)||(a=1,(d=s[o])?e[d]="":e.removeAttribute(o));for(o in n)q(Xe,o)||(i=n[o],(d=l[o])?t&&e[d]==i||(a=1,e[d]=i):t&&p[o]==i||(a=1,e.setAttribute(o,i)));return a},Ge=(e,t)=>{let r,i=e.b;return i==De?r=o.createTextNode(e.a):(r=o.createElementNS($e[i]||t.namespaceURI,i),We(r,0,e),y(r,e.c)),r},Ze=(e,t,r,o,i)=>{let d,a,l,s={};for(d=o;d>=r;d--,i--)(l=(a=e[d]).d)&&(a=s[l]||(s[l]=[])).push(t[i]);return s},He=(e,t)=>e.d&&t.d==e.d||!e.d&&!t.d&&e.b==t.b||"\x1e"==t.b,Qe=(e,t,r,o)=>{r&&((o=ae.b)?o.unmount():pe(t,e))},Je=(e,t,r,o,i)=>{Qe(e,r,1==e.nodeType),t.removeChild(e),--o.b||Z(i)},et=(e,t,r,o,i,d,a,l)=>{if(a.a)if(t){if(t.e||t.c!=r.c){let s,n,p,c,h,u=t.j,f=r.j,b=r.k,g=r.l,x=t.l,m=e.childNodes,w=0,_=u.length-1,v=0,k=f.length-1;0;let S,C=u[w],j=u[_],T=f[v],E=f[k],L=w,M=_;for(;w<=_&&v<=k;)if("\x1e"!=T.b&&"\x1e"!=E.b||(M=-1),C)if(j)if(He(C,T))o.b++,Z(tt,[m[L],e,C,T,o,i,d,a,l]),b[C.d]&&(b[C.d]--,g--,(c=h&&h[C.d])&&--h[C.d]),L++,C=u[++w],T=f[++v];else if(He(j,E))o.b++,Z(tt,[m[M],e,j,E,o,i,d,a,l]),b[j.d]&&(b[j.d]--,g--),M--,j=u[--_],E=f[--k];else if(He(C,E))n=m[L],e.insertBefore(n,m[M+1]),o.b++,Z(tt,[n,e,C,E,o,i,d,a,l]),b[C.d]&&(b[C.d]--,g--),M--,C=u[++w],E=f[--k];else if(He(T,j))n=m[M],e.insertBefore(n,m[L++]),o.b++,Z(tt,[n,e,j,T,o,i,d,a,l]),b[j.d]&&(b[j.d]--,g--),j=u[--_],T=f[++v];else{if(!h&&g>0&&x>0&&(h=Ze(u,m,w,_,M)),S=m[L],(c=h&&h[T.d])&&(c=c.pop())){if(p=C,c!=S){for(n=w+1,s=L+1;n<=_;n++)if((p=u[n])&&m[s++]==c){u[n]=null;break}w--,e.insertBefore(c,S)}b[p.d]&&b[p.d]--,o.b++,Z(tt,[c,e,p,T,o,i,d,a,l])}else h&&h[C.d]&&b[C.d]||ae[S.b]&&!T.f?(o.c=1,e.insertBefore(Ge(T,e),S),w--,M++):(o.b++,Z(tt,[S,e,C,T,o,i,d,a,l]));++L,C=u[++w],T=f[++v]}else j=u[--_];else C=u[++w];for(s=v,n=1;s<=k;s++,n++){if(p=f[s],o.c=1,"\x1e"==p.b){o.c=1,y(e,p.a);break}e.insertBefore(Ge(p,e),m[M+n])}for(s=L;s<=M;s++)o.c=1,o.b++,Z(Je,[m[s],e,i,o,l])}}else o.c=1,y(e,r.c);o.b||Z(l)},tt=(e,t,r,o,i,d,a,l,s)=>{if(l.a){0;let n=r.i,p=o.i;if(r.e||r.a!=o.a)if("\x1e"==o.b)i.c=1,y(t,o.a);else if(r.b==o.b){if(r.b==De)i.c=1,e.nodeValue=o.a;else if(!n._||n._!=p._){let t,c,h,u,f,b,g,x=p["mx5-view"],m=o.c,y=r.h!=o.h,w=ae[e.b],_=x&&X(x);if(y&&(y=We(e,r,o))&&(i.c=1),x&&w&&w.i==_.path&&(u=w.d)){if(b=m!=r.c,g=x!=w.path,h=n.$,!b&&!g&&h)for(h of f=h.split(","))if("#"==h||q(a,h)){g=1;break}(g||b)&&(h=u.f,f=_.params,le(w.pId,x,f),w.path=x,w.g=m,!1!==M(h,f,u)&&i.a.push(u),t=!u.tmpl)}else t=1,c=w;c&&(i.c=1,w.unmount()),t&&!o.m&&et(e,r,o,i,d,a,l,s)}}else i.c=1,Qe(e,d,1),t.replaceChild(Ge(o,t),e)}--i.b||Z(s)},rt={},ot=S({get:e=>e?rt[e]:rt,set(e){S(rt,e)}},de),it=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,dt=(e,t,r)=>(e.a?r=e:((r=function(e,t){for(t of r.a)M(t,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),at=e=>{let t,r;e.a&&(r=e.h,e.h=1,((e,t,r,o)=>{for(r of(t=t||e.root).querySelectorAll(`[mx5-view][mx5-owner="${e.id}"]`))r.a||(r.a=1,e.mount(r,E(r,"mx5-view")))})(t=e.owner),r||Z(ne,t))},lt=(e,t)=>{let r,{j:o,i:i,p:d,id:a}=e;for(r in o)Ee(r,i[r],t,o[r]);for(r of(o=t?A:P,d))o(r.a,r.b,r.c,r.d,a,e)},st={win:r,doc:o};function nt(...e){return S(this,...e),this}let pt=(e,t,r)=>{let o,i,d,a,l={};for(i of e)for(o in i)d=i[o],a=l[o],"ctor"!=o?(it.test(o)&&(a?d=dt(a,d):d.b=1),l[o]=d):r.push(d);for(o in l)q(t,o)||(t[o]=l[o])};function ct(...e){let t=this.a||(this.a=[]);return pt(e,this[h],t),this}let ht=e=>(function(...t){return M(e,t,this)}),ut=(e,t,r,o)=>{if(e)for(o of e)M(o,t,r)};let ft=e=>{if(!e["\x1e"]){e["\x1e"]=1;let t,r,o,i,d,a,l,s,n,p,c,u=e[h],f={},b=[],g={};for(l in u)if(t=u[l],r=l.match(it))for(s of([,a,o,i,c]=r,p=c?F(c):ve,i=i.split(","))){if(d=st[o],n=1,!1===p.passive&&(n|=4),p.capture&&(n|=8),a){if(d){b.push({c:t,a:d,b:s,d:p});continue}n=2,(d=g[s])||(d=g[s]=[]),d[o]||(d[o]=1,d.push(o))}f[s]|=n,(d=u[s=o+"\x1e"+s])?d.b&&(t.b?u[s]=dt(t,d):q(u,l)&&(u[s]=t)):u[s]=t}u.g=u.render=ht(u.render),u.j=f,u.p=b,u.i=g,u.f=u.assign}};function bt(e,t,r,o,i){(i=this).root=t,i.owner=r,i.id=e,i.a=1,i.l=1,i.d={},i.k={},i.n=0,i.o=[],ut(bt.a,o,i)}function gt(){this.id=x("b"),this.a={}}S(bt,{merge:ct,extend:function e(t){let r=this,o=(t=t||{}).ctor;function i(e,t,d,a,l){r.call(l=this,e,t,d,a),o&&M(o,a,l),ut(i.a,a,l)}return i.merge=ct,i.extend=e,i.static=nt,te(i,r,t)}}),S(bt[h],de,{init:a,render:a,assign:a,get(e,t){return t=this.d,e&&(t=t[e]),t},set(e,t){let r,o,i,d=this,a=d.d,l=d.k,s=d.l;for(i in e)r=e[i],o=a[i],_(r)&&o==r||q(t,i)||(l[i]=1,s=1),a[i]=r;return d.l=s,d},digest(e,t){return e=this.set(e,t),new Promise(t=>{e.l?(e.n++,e.o.push(t),1==e.n&&Fe(e,1)):e.n?e.o.push(t):t()})},finale(){let e=this;return new Promise(t=>{e.n?e.o.push(t):t()})}}),S(gt[h],{get(e,t){let r,o=this.a;if(e){let t,r=g(e)?e.slice():(e+"").split(".");for(;(t=r.shift())&&o;)o=o[t];t&&(o=void 0)}return void 0!==t&&(r=f(t))!=f(o)&&(o=t),o},set(e){S(this.a,e)}});let xt=(e,t,r)=>o=>{if(r=e[t]){delete e[t];for(let e of r)M(e,o,r.a)}},mt=(e,t,r,o,i)=>{if(e.a)return e;if(e.b)return e.enqueue(mt.bind(e,e,t,r,o,i));e.b=1,g(t)||(t=[t]);let d=e.constructor,a=0,l=d.d,s=((e,t,r,o,i,d)=>{let a=[],l=null,s=0;return(t,n,p)=>{let h;s++;let u,f=t.b,b=f.a;if(a[n+1]=t,p?(l=p,h=1):d.has(b)||(b&&d.set(b,t),f.b=c(),(u=f.c)&&M(u,t,t),h=1),!r.a){let d=s==o;d&&(r.b=0,2==i&&(a[0]=l,M(e,a,r))),1==i&&M(e,[p||null,t,d,n],r)}}})(r,0,e,t.length,o,d.c);for(let e of t)if(e){let t,[r,o]=d.get(e,i),n=r.b.a,p=s.bind(r,r,a++);n&&l[n]?l[n].push(p):o?(n&&((t=[p]).a=r,l[n]=t,p=xt(l,n)),d.e(r,p)):p()}return e};function yt(){this.id=x("s"),this.f=[]}S(yt[h],{all(e,t){return mt(this,e,t,2)},save(e,t){return mt(this,e,t,2,1)},one(e,t){return mt(this,e,t,1)},enqueue(e){let t=this;return t.a||(t.f.push(e),t.dequeue(t.g)),t},dequeue(...e){let t,r=this;r.b||r.a||(r.b=1,i(()=>{r.b=0,r.a||(t=r.f.shift())&&M(t,r.g=e)}))},destroy(e){(e=this).a=1,e.f=0}});let wt=(e,t,r)=>[s(t),s(e)].join("\x1e"),_t=S({add(e){let t,r=this.h;for(t of(g(e)||(e=[e]),e))if(t){let{name:e,cache:o}=t;t.cache=0|o,r[e]=t}},create(e){let t=this.meta(e),r=0|e.cache||t.cache,o=new gt;o.set(t),o.b={c:t.after,a:r&&wt(t,e)},b(e)&&o.set(e);let i=t.before;return i&&M(i,o,o),o},meta(e){return this.h[e.name||e]||e},get(e,t){let r,o,i=this;return t||(r=i.cached(e)),r||(r=i.create(e),o=1),[r,o]},cached(e){let t,r,o=this,i=o.c,d=o.meta(e),a=0|e.cache||d.cache;if(a&&(r=wt(d,e)),r){let e=o.d[r];e?t=e.a:(t=i.get(r))&&c()-t.b.b>a&&(i.del(r),t=0)}return t}},de);yt.extend=((e,t,r)=>{function o(){yt.call(this)}return o.e=e,o.c=new z(t,r),o.d={},o.h={},S(o,_t),te(o,yt)});let vt=0,kt={config:(e,t)=>(t=w,e&&(t=b(e)?S(t,e):t[e]),t),boot(e){vt||(vt=1,S(w,e),he(((e,t)=>(oe||(l=o.body,e=ie=w.rootId,(t=m(e))||(t=l),oe=new fe(t)),oe))(),w.defaultView))},unboot(){vt&&oe&&(oe.unmount(),oe=null)},toMap:(e,t)=>{let r,o={};if(e)for(r of e)o[t&&r?r[t]:r]=t?r:1+(0|o[r]);return o},toTry:M,toUrl:(e,t,r)=>{let o,i,a,l=[];for(i in t)((o=t[i]+"")||q(r,i))&&(o=d(o),l.push(a=i+"="+o));return a&&(e+=(e&&(e.includes("?")?"&":"?"))+l.join("&")),e},parseUrl:X,guid:x,use:ee,dispatch:(e,t,r)=>{let o=new Event(t,B);S(o,r),e.dispatchEvent(o)},guard:re,type:f,has:q,inside:v,applyStyle:L,Cache:z,View:bt,Vframe:fe,State:ot,Service:yt,Event:de,mark:(e,t,r,o,i)=>(null!==e[i="\x1ea"]&&(r=e[i]||(e[i]={}),q(r,t)||(r[t]=0),o=++r[t]),r=>(r=e[i],r&&o===r[t])),unmark:k,node:m,task:Z,taskFinale:()=>new Promise(e=>{Z(e)})};return kt.default=kt,kt});let Designer=e=>{let t=document.getElementById("boot").src.replace(/\/[^\/]+$/,"/");seajs.config({paths:{display:t+"display",elements:t+"elements",i18n:t+"i18n"},alias:{magix:"magix5"}}),seajs.use(["magix5","i18n/index"],(t,r)=>{t.applyStyle("rd-_",'body,h5,input,p,textarea,ul{margin:0;padding:0}ul{list-style-type:none;list-style-image:none}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.5}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h5{font-size:14px}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a:focus,button:focus,input:focus,textarea,textarea:focus{outline:none;resize:none}a{color:#fa742b;text-decoration:none}a:focus,a:hover{color:#bd361b}a:active,a:focus,a:hover,a:visited{outline:0;text-decoration:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}.rd-_{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;white-space:nowrap;padding:4px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-_:focus,.rd-_:hover{background-color:#a0a0a0;color:#333}.rd-a{background-color:#fa742b;color:#fff}.rd-a:focus,.rd-a:hover{background-color:#bd361b;color:#fff}.rd-_[disabled]{background-color:#f5f5f5;color:#999}.rd-_[disabled]:hover{border-color:#e6e6e6;color:#999}.rd-b{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143;background:#fff}.rd-c{padding:18px 25px}.rd-d{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6;background:#fff}.rd-e{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.rd-e:after,.rd-e:before{content:""}.rd-e:after,.rd-e:before,.rd-f{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:rd-_ 1s ease-in-out infinite both;animation:rd-_ 1s ease-in-out infinite both}.rd-e:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.rd-f{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}::-moz-placeholder{color:#999}:-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(243,123,99,.6)}::selection{background-color:rgba(243,123,99,.6)}.rd-g,.rd-h{caret-color:#fa742b;display:inline-block;height:22px;padding:3px 4px;border-radius:2px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none;transition:border-color .25s}.rd-g:hover,.rd-h:hover{border-color:#ccc}.rd-g:focus,.rd-h:focus,.rd-i,.rd-i:hover{border-color:#fa742b!important}.rd-h{height:auto}.rd-g[disabled],.rd-h[disabled]{background-color:#f5f5f5}.rd-g[disabled]:hover,.rd-h[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}body{min-width:1400px}@font-face{font-family:rd-_;src:url(//at.alicdn.com/t/font_890516_u72xf5w7ux.eot);src:url(//at.alicdn.com/t/font_890516_u72xf5w7ux.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_890516_u72xf5w7ux.woff2) format("woff2"),url(//at.alicdn.com/t/font_890516_u72xf5w7ux.woff) format("woff"),url(//at.alicdn.com/t/font_890516_u72xf5w7ux.ttf) format("truetype"),url(//at.alicdn.com/t/font_890516_u72xf5w7ux.svg#iconfont) format("svg")}.rd-j{font-family:rd-_;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rd-k{font-size:12px}.rd-l{margin-right:2px}.rd-m{transform:rotate(180deg)}.rd-n{transform:rotate(90deg)}.rd-o{transform:rotate(270deg)}.rd-p{margin-right:10px}.rd-q{margin-left:5px}.rd-r{margin-left:10px}.rd-s{width:100%}.rd-t{height:100%}.rd-u{text-align:center}.rd-v{float:left}.rd-w{float:right}.rd-x{cursor:pointer}.rd-y{position:absolute}.rd-z{position:relative}.rd-A{pointer-events:none}.rd-B{margin:30px 0}.rd-C{font-size:16px}html .rd-D{display:none}.rd-E:after,.rd-E:before{content:" ";display:table}.rd-E:after{clear:both}.rd-F{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-G::-webkit-scrollbar,.rd-G::-webkit-scrollbar-corner{height:4px;width:4px;background:#edeef3}.rd-G::-webkit-scrollbar-thumb{background:#fa742b;border-radius:2px}.rd-G::-webkit-scrollbar-thumb:hover{background:#e64e30}.rd-H{scroll-behavior:smooth}.rd-H::-webkit-scrollbar,.rd-H::-webkit-scrollbar-corner{height:2px;width:2px;background:#fafafa}.rd-I{white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.rd-J{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.rd-K{display:flex}.rd-L{align-items:center}.rd-M{transform:scaleX(-1)}.rd-N{margin-left:150px}.rd-O{position:-webkit-sticky;position:sticky;top:0}.rd-P{text-align:center}.rd-Q{margin-bottom:4px}.rd-R{margin-top:4px}.rd-S{width:140px}.rd-T{width:220px}.rd-U{height:100px}.rd-V{justify-content:space-between}.rd-W{justify-content:center}.rd-X{flex-wrap:wrap}.rd-Y{cursor:pointer}.rd-Z{border-collapse:collapse}.rd-0{border:1px solid #000;padding:0;word-break:break-all}.rd-1{overflow:hidden;white-space:pre}.rd-2{border:2px solid #fa742b}.rd-3{border-right:6px solid #fa742b;right:-4px}.rd-3,.rd-4{pointer-events:all}.rd-4{border-bottom:6px solid #fa742b;bottom:-4px}.rd-5{left:-1px;top:-1px;bottom:-1px;right:-1px;pointer-events:none;z-index:1}.rd-6{box-shadow:inset 2px 2px 10px rgba(0,0,0,.2);background-color:rgba(250,116,43,.06);left:0;top:0;bottom:0;right:0}.rd-7{width:80px;text-align:right}.rd-8{background:rgba(250,116,43,.2)}.rd-9{align-items:flex-start}.rd-a_{display:flex;align-items:center;cursor:pointer}.rd-aa{visibility:hidden;position:absolute}.rd-ab{width:32px;height:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;border-radius:22px;background:#ccc}.rd-ab:before{content:"";width:12px;height:12px;position:absolute;left:0;margin:2px;border-radius:50%;background:#fff;transition:all .25s}.rd-aa:checked+.rd-ab{background:#fa742b}.rd-aa:checked+.rd-ab:before{left:100%;margin-left:-14px}.rd-aa:disabled+.rd-ab{background:#e6e6e6;cursor:not-allowed}.rd-ac{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-ac:hover{background:#ccc}.rd-ad,.rd-ad:hover{background:#fa742b;color:#fff}.rd-ae,.rd-ae .rd-ac{cursor:not-allowed;opacity:.7}.rd-ae .rd-ac,.rd-ae .rd-ac:hover{background:#e9e9e9}.rd-ae .rd-ad,.rd-ae .rd-ad:hover{background:#fb955d}.rd-af{color:#999}.rd-ag{color:#666}.rd-ah{overflow:hidden}.rd-ai{font-size:10px}.rd-aj{right:2px}.rd-ak{top:2px}.rd-al{bottom:2px}.rd-am{position:absolute;border:1px dashed #fa742b;display:none;pointer-events:none;z-index:2}.rd-an{max-height:100%}.rd-ao{border:1px dotted #999}.rd-ap{max-width:100%}.rd-aq{max-height:100%}');let o=navigator.language.toLowerCase();try{let e=window.localStorage;e&&(o=e.getItem("l.lang")||o)}catch(e){}t.config(e),t.config({lang:o});let i=r.default;document.title=i("E"),t.View.merge({ctor(){this.set({i18n:i})}}),t.boot({defaultPath:"/index",defaultView:"printer/index",rootId:"app",error(e){setTimeout(()=>{throw e},0)}})})};define("i18n/index",["magix","./zh-cn"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix"),i=e("./zh-cn"),d={"zh-cn":i.default,zh:i.default},a=o.default.has,l=/\{(\d+)\}/g;t.default=((e,...t)=>{let r=(o.default.config("lang")||navigator.language).toLowerCase();a(d,r)||(r="zh-cn");let i=d[r],s=a(i,e)?i[e]:e;return t.length&&(s=s.replace(l,(e,r,o)=>(r|=0,t.length>r?(o=t[r],a(i,o)?i[o]:o):e))),s})}),define("i18n/zh-cn",[],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={E:"\u901a\u7528\u8bbe\u8ba1\u5668",by:"\u63d0\u793a",bz:"\u786e\u5b9a",bA:"\u53d6\u6d88",S:"\u653e\u5927(Ctrl+\u52a0\u53f7)",R:"\u7f29\u5c0f(Ctrl+\u51cf\u53f7)",_:"\u5220\u9664\u8f85\u52a9\u7ebf",a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",J:"\u64a4\u9500(Ctrl+Z)",K:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",b0:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",b1:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",b2:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",b3:"\u5143\u7d20",b4:"\u5c5e\u6027",b5:"\u6570\u636e\u6e90",b6:"\u6982\u89c8\u56fe",Q:"\u6253\u5f00{0}\u9762\u677f(\u6570\u5b57\u952e{1})",P:"\u5173\u95ed{0}\u9762\u677f(\u6570\u5b57\u952e{1})",b7:"\u5c55\u5f00{0}\u9762\u677f(Shift+\u6570\u5b57\u952e{1})",b8:"\u6298\u53e0{0}\u9762\u677f(Shift+\u6570\u5b57\u952e{1})",W:"\u6253\u5f00\u6240\u6709\u9762\u677f(Shift+Z)",V:"\u5173\u95ed\u6240\u6709\u9762\u677f(Shift+Z)",aK:"\u6309\u4e0b\u62d6\u52a8\u65cb\u8f6c\u5143\u7d20",aE:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6",aF:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u9ad8\u5ea6",aL:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6\u548c\u9ad8\u5ea6",aW:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u8c03\u6574\u70b9",b9:"\u7c7b\u578b\uff1a",Y:"X\u5750\u6807\uff1a",Z:"Y\u5750\u6807\uff1a",a_:"\u5bbd\uff1a",ah:"\u7ebf\u6761\u5bbd\uff1a",aa:"\u9ad8\uff1a",ao:"\u65cb\u8f6c\u89d2\u5ea6\uff1a",aQ:"\u6c34\u5e73\u955c\u50cf\uff1a",aP:"\u5782\u76f4\u955c\u50cf\uff1a",c_:"\u6587\u5b57\u89d2\u5ea6\uff1a",ca:"\u5f00\u59cb\u8fb9\u6846\uff1a",cb:"\u7ed3\u675f\u8fb9\u6846\uff1a",a3:"\u80cc\u666f\u989c\u8272\uff1a",bm:"\u6587\u5b57\u989c\u8272\uff1a",cc:"\u865a\u7ebf\u95f4\u9694\uff1a",cd:"\u5f00\u59cb\u7bad\u5934\uff1a",ce:"\u7ed3\u675f\u7bad\u5934\uff1a",bj:"\u5b57\u53f7\uff1a",bk:"\u5b57\u4f53\uff1a",cf:"\u5168\u5c4f\u663e\u793a\uff1a",cg:"\u5206\u8fa8\u7387\uff1a",aZ:"\u7f51\u683c\uff1a",ch:"\u6587\u5b57\uff1a",bC:"\u6587\u672c\uff1a",ci:"\u7ebf\u4e0a\u4f4d\u7f6e\uff1a",a1:"\u7f51\u683c\u9ad8\uff1a",a0:"\u7f51\u683c\u5bbd\uff1a",a2:"\u62d6\u52a8\u5438\u9644\uff1a",aY:"\u7eb8\u5f20\u5c3a\u5bf8\uff1a",a4:"\u80cc\u666f\u56fe\u7247\uff1a",aV:"\u989c\u8272\uff1a",ag:"\u7ebf\u6761\u989c\u8272\uff1a",cj:"\u586b\u5145\u989c\u8272\uff1a",a5:"\u5e73\u94fa\u65b9\u5f0f\uff1a",a6:"\u62c9\u4f38\u94fa\u6ee1",a7:"\u539f\u59cb\u5c3a\u5bf8",a8:"\u6a2a\u5411\u5e73\u94fa",a9:"\u5782\u76f4\u5e73\u94fa",b_:"\u53cc\u5411\u5e73\u94fa",ck:"\u81ea\u9002\u5e94",cl:"\u5168\u5c4f\u94fa\u6ee1",ad:"\u7ed1\u5b9a\u5b57\u6bb5\uff1a",ak:"\u7f51\u7ad9\uff1a",am:"\u9501\u5b9a\u7f16\u8f91\uff1a",al:"\u5143\u7d20\u540d\u79f0\uff1a",cm:"\u6c34\u5e73\u534a\u5f84\uff1a",cn:"\u5782\u76f4\u534a\u5f84\uff1a",co:"\u6c34\u5e73\u504f\u79fb\uff1a",cp:"\u5782\u76f4\u504f\u79fb\uff1a",cq:"\u8fde\u7ebf\u7c7b\u578b\uff1a",cr:"\u6c34\u5e73\u5706\u89d2\uff1a",cs:"\u5782\u76f4\u5706\u89d2\uff1a",ct:"\u5f00\u59cb\u89d2\u5ea6\uff1a",cu:"\u7ed3\u675f\u89d2\u5ea6\uff1a",ab:"\u900f\u660e\u5ea6\uff1a",ae:"\u7f16\u7801\u683c\u5f0f\uff1a",af:"\u663e\u793a\u6587\u672c\uff1a",bl:"\u5b57\u95f4\u8ddd\uff1a",ac:"\u5185\u5bb9\uff1a",bn:"\u6837\u5f0f\uff1a",bo:"\u6392\u5217\uff1a",cv:"\u5feb\u6377\u76ae\u80a4\uff1a",cw:"\u534a\u5f84\uff1a",cx:"\u8fb9\u6846\uff1a",cy:"\u89d2\uff1a",cz:"\u5957\u6253\uff1a",cA:"\u95ed\u5408\uff1a",aT:"\u957f\uff1a",aN:"\u56fe\u7247\uff1a",au:"\u8fb9\u6846\u989c\u8272\uff1a",av:"\u586b\u5145\u989c\u8272\uff1a",aU:"\u7ebf\u7c7b\u578b\uff1a",aq:"\u8fb9\u6846\u7c7b\u578b\uff1a",ap:"\u8fb9\u6846\u5bbd\u5ea6\uff1a",bg:"\u5706\u89d2\uff1a",ar:"\u5b9e\u7ebf",at:"\u865a\u7ebf",as:"\u70b9\u7ebf",cB:"\u67f1\u4f53\u989c\u8272\uff1a",cC:"\u9876\u90e8\u989c\u8272\uff1a",cD:"\u524d\u90e8\u989c\u8272\uff1a",cE:"\u4fa7\u90e8\u989c\u8272\uff1a",ba:"\u56fe\u7247\u5bbd\uff1a",bb:"\u56fe\u7247\u9ad8\uff1a",aO:"\u8fd8\u539f\u5c3a\u5bf8\uff1a",cF:"\u56fe\u8868\u6807\u9898\uff1a",bc:"\u6c34\u5e73(%)\uff1a",bd:"\u5782\u76f4(%)\uff1a",aD:"\u5e2e\u52a9\uff1a",aC:"\u683c\u5b50\u64cd\u4f5c\uff1a",aA:"\u683c\u5b50\u5bbd\u9ad8\uff1a",bB:"\u683c\u5b50\u80cc\u666f\uff1a",cG:"\u683c\u5b50\u9ad8\uff1a",cH:"\u5217\u5bbd\uff1a",cI:"\u8868\u5934\u80cc\u666f\uff1a",cJ:"\u8868\u5934\u884c\u9ad8\uff1a",cK:"\u5185\u5bb9\u884c\u9ad8\uff1a",cL:"\u5947\u6570\u884c\uff1a",cM:"\u5076\u6570\u884c\uff1a",cN:"\u5185\u5bb9\u5bf9\u9f50\uff1a",cO:"\u5c45\u5de6",cP:"\u5c45\u4e2d",cQ:"\u5c45\u53f3",aH:"\u7559\u767d\uff1a",cR:"\u8868\u5934\u5b57\u53f7\uff1a",cS:"\u5185\u5bb9\u5b57\u53f7\uff1a",cT:"X\u8f74\u6807\u9898\uff1a",cU:"X\u8f74\u8303\u56f4\uff1a",cV:"Y\u8f74\u6807\u9898\uff1a",cW:"Y\u8f74\u8303\u56f4\uff1a",cX:"\u7981\u7528\u7f29\u653e\uff1a",cY:"\u53cd\u8f6c\uff1a",cZ:"X\u63d0\u793a\u7ebf\uff1a",c0:"Y\u63d0\u793a\u7ebf\uff1a",c1:"\u7f3a\u53e3\u65b9\u5411\uff1a",c2:"\u7f3a\u53e3\u4f4d\u7f6e\uff1a",c3:"\u7f3a\u53e3\u5927\u5c0f\uff1a",c4:"\u6700\u5927\u5bbd\u5ea6\uff1a",c5:"\u6700\u5927\u9ad8\u5ea6\uff1a",ai:"\u6a2a\u5411\u5145\u6ee1\uff1a",aj:"\u7eb5\u5411\u5145\u6ee1\uff1a",aI:"\u9690\u85cf\u5408\u8ba1\uff1a",aJ:"\u9690\u85cf\u5e95\uff1a",aB:"\u8fb9\u6846\u663e\u793a\uff1a",ax:"\u8fb9\u6846\u884c\u4e3a\uff1a",ay:"\u5408\u5e76",az:"\u5206\u79bb",j:"\u5168\u9009",m:"\u7c98\u8d34",k:"\u590d\u5236",l:"\u526a\u5207",r:"\u5220\u9664",L:"\u7ec4\u5408\u9009\u4e2d\u5143\u7d20",M:"\u53d6\u6d88\u7ec4\u5408\u5143\u7d20",N:"\u9501\u5b9a\u7f16\u8f91",O:"\u89e3\u9501\u7f16\u8f91",y:"\u7ec4\u5408",z:"\u53d6\u6d88\u7ec4\u5408",n:"\u4e0a\u79fb\u4e00\u5c42",p:"\u79fb\u81f3\u9876\u5c42",o:"\u4e0b\u79fb\u4e00\u5c42",q:"\u79fb\u81f3\u5e95\u5c42",A:"\u540c\u6b65\u5bbd\u4f5c\u4e3a\u9ad8",B:"\u540c\u6b65\u9ad8\u4f5c\u4e3a\u5bbd",C:"\u540c\u6b65\u5bbd",D:"\u540c\u6b65\u9ad8",s:"\u5de6\u5bf9\u9f50",t:"\u53f3\u5bf9\u9f50",v:"\u4e0a\u5bf9\u9f50",w:"\u4e0b\u5bf9\u9f50",x:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",u:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50",bW:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",bU:"\u6e05\u9664\u56fe\u7247",bV:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",bX:"\u56fe\u7247\u5e93",bw:"\u6e05\u9664\u989c\u8272",bi:"\u6587\u672c",aX:"\u7f16\u8f91\u533a",aS:"\u76f4\u7ebf",c6:"H-Flex",c7:"V-Flex",c8:"\u5bcc\u6587\u672c",aG:"\u6570\u636e\u8868\u683c",be:"\u4e8c\u7ef4\u7801",bf:"\u77e9\u5f62",aM:"\u56fe\u7247",an:"\u5706\u5f62",c9:"\u5e73\u94fa\u56fe",d_:"\u66f2\u7ebf",bh:"\u8868\u683c\u5bb9\u5668",da:"\u5217\u8868\u683c",aw:"\u5355\u5143\u683c",X:"\u6761\u5f62\u7801",aR:"\u8bf7\u9009\u62e9\u56fe\u7247",bQ:"\u52a0\u7c97",bR:"\u659c\u4f53",bS:"\u4e0b\u5212\u7ebf",bT:"\u5220\u9664\u7ebf",bq:"\u6c34\u5e73\u5c45\u5de6",br:"\u6c34\u5e73\u5c45\u4e2d",bs:"\u6c34\u5e73\u5c45\u53f3",bt:"\u5782\u76f4\u5c45\u4e0a",bu:"\u5782\u76f4\u5c45\u4e2d",bv:"\u5782\u76f4\u5c45\u4e0b",bP:"\u62d6\u52a8\u6570\u636e\u6e90\u5b57\u6bb5\u5230\u8fd9\u91cc",bD:"\u4e0a\u65b9\u6dfb\u52a0\u884c",bE:"\u4e0b\u65b9\u6dfb\u52a0\u884c",bF:"\u5de6\u4fa7\u6dfb\u52a0\u5217",bG:"\u53f3\u4fa7\u6dfb\u52a0\u5217",bH:"\u5220\u9664\u5f53\u524d\u884c",bI:"\u5220\u9664\u5f53\u524d\u5217",bJ:"\u6c34\u5e73\u62c6\u5206\u5355\u5143\u683c",bK:"\u5782\u76f4\u62c6\u5206\u5355\u5143\u683c",bL:"\u5411\u5de6\u5408\u5e76\u5355\u5143\u683c",bN:"\u5411\u4e0a\u5408\u5e76\u5355\u5143\u683c",bM:"\u5411\u53f3\u5408\u5e76\u5355\u5143\u683c",bO:"\u5411\u4e0b\u5408\u5e76\u5355\u5143\u683c",db:"\u4e0a\u65b9\u6dfb\u52a0\u884c",dc:"\u4e0b\u65b9\u6dfb\u52a0\u884c",dd:"\u5de6\u4fa7\u6dfb\u52a0\u683c\u5b50",de:"\u53f3\u4fa7\u6dfb\u52a0\u683c\u5b50",df:"\u4e0a\u65b9\u6dfb\u52a0\u683c\u5b50",dg:"\u4e0b\u65b9\u6dfb\u52a0\u683c\u5b50",dh:"\u5de6\u4fa7\u6dfb\u52a0\u5217",di:"\u53f3\u4fa7\u6dfb\u52a0\u5217",dj:"\u5220\u9664\u5f53\u524d\u683c\u5b50",dk:"\u62c6\u5206\u683c\u5b50",dl:"\u5411\u5de6\u5408\u5e76\u683c\u5b50",dm:"\u5411\u4e0a\u5408\u5e76\u683c\u5b50",dn:"\u5411\u53f3\u5408\u5e76\u683c\u5b50",do:"\u5411\u4e0b\u5408\u5e76\u683c\u5b50",bx:"\u786e\u5b9a",dp:"\u8bf7\u5148\u7ed1\u5b9a\u6570\u636e\u5b57\u6bb5",bZ:"\u70b9\u51fb\u663e\u793a{0}\u8fb9\u6846",bY:"\u70b9\u51fb\u9690\u85cf{0}\u8fb9\u6846",dq:"\u5de6",dr:"\u53f3",ds:"\u4e0a",dt:"\u4e0b",du:"\u5de6\u4e0a",dv:"\u53f3\u4e0a",dw:"\u5de6\u4e0b",dx:"\u53f3\u4e0b",dy:"\u539f\u59cb\u56fe\u7247\u5bbd\u9ad8",bp:"\u8bf7\u8f93\u5165\u5185\u5bb9",T:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u5bbd\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u5bbd\u5ea6)\u540c\u6b65\u5bbd\u5ea6",U:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u9ad8\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u9ad8\u5ea6)\u540c\u6b65\u9ad8\u5ea6",dz:"\u8bf7\u5728\u4e0a\u65b9\u9009\u62e9\u6570\u636e\u6e90",dA:"\u8bf7\u5148\u9009\u4e2d\u652f\u6301\u6570\u636e\u7ed1\u5b9a\u7684\u7ec4\u4ef6",b:"\u5b8b\u4f53",c:"\u9ed1\u4f53",f:"\u6977\u4f53",d:"\u5fae\u8f6f\u96c5\u9ed1",e:"\u5fae\u8f6f\u6b63\u9ed1\u4f53",g:"\u96b6\u4e66",h:"\u5e7c\u5706",G:"\u677e\u5f00\u653e\u5728\u7f16\u8f91\u533a",I:"\u677e\u5f00\u653e\u5728\u683c\u5b50\u91cc",H:"\u4e0d\u80fd\u653e\u7f6e",i:"\u4fdd\u5b58\u5185\u5bb9",dB:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",F:"\u7cfb\u7edf\u6b63\u5fd9..."}}),define("designer/service",["magix"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix");let i=o.default.Service.extend((e,t)=>{let r=e.get("method")||"GET";fetch(e.get("url"),{method:r,credentials:"include"}).then(e=>{if(e.ok)return e.json();throw new Error("Network response error")}).then(r=>{e.set({data:r.data}),t()}).catch(e=>{t({msg:e.message})})});i.add([{name:"_bG",url:o.default.config("getImageUrl"),cache:18e5},{name:"_bH",url:o.default.config("getFieldUrl"),cache:18e5},{name:"_bI",cache:18e5},{name:"_an",url:o.default.config("getTemplateUrl"),cache:18e5}]),t.default={fetch:(e,t)=>(new i).all(e,t),save:(e,t)=>(new i).save(e,t)}}),define("designer/transform",["magix"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix");let{sqrt:i,round:d,pow:a,atan:l,PI:s,sin:n,cos:p,min:c,max:h,atan2:u,tan:f,abs:b}=Math,g=s/180,x={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7},m={0:1,2:1,4:1,6:1,1:2,5:2,3:3,7:3};t.default={_cD({x:e,y:t}){let r=o.node("s_canvas").getBoundingClientRect();return{x:e-=r.left,y:t-=r.top}},_ds(e,{x:t,y:r,f:o}){let i=e;if(o)for(;i.parentNode&&"hod"!=i.dataset.as;)i=i.parentNode;let d=i.getBoundingClientRect();return{x:t-=d.left,y:r-=d.top}},_cG({x:e,y:t}){let r=o.node("s_canvas").getBoundingClientRect();return{x:e+=r.left,y:t+=r.top}},_dt:e=>e/o.State.get("_d")|0,_du:e=>e*o.State.get("_d"),_cQ({x:e,y:t,width:r,height:o},u){let f=i(a(r,2)+a(o,2))/2,b=r?d(180*l(o/r)/s):0,x=180-u-b,m=b-u,y=90-u,w=u,_=r/2,v=o/2,k=e+_,S=t+v,C={x:k+f*p(x*g),y:S-f*n(x*g)},j={x:k+v*p(y*g),y:S-v*n(y*g)},T={x:k+f*p(m*g),y:S-f*n(m*g)},E={x:k+_*p(w*g),y:S+_*n(w*g)},L={x:k-f*p(x*g),y:S+f*n(x*g)},M={x:k-v*n(w*g),y:S+v*p(w*g)},q={x:k-f*p(m*g),y:S+f*n(m*g)},O={x:k-_*p(w*g),y:S-_*n(w*g)},R=c(C.x,T.x,L.x,q.x),z=h(C.x,T.x,L.x,q.x),I=c(C.y,T.y,L.y,q.y),B=h(C.y,T.y,L.y,q.y);return{point:[C,j,T,E,L,M,q,O],width:z-R,height:B-I,left:R,right:z,top:I,bottom:B}},_dA(e,t){let r={},o={},i=x[t],d=0;o=e[i];let a=i-4;return a<0&&(a=i+4),r=e.slice(a,a+1)[0],{_dv:i,_dw:m[i],_dx:o,_dy:d=a,_dz:r}},_dB(e,t){let{x:r,y:o,width:i,height:d,scale:a}=e,l={x:0,y:0},s=i*(a.x-1),n=d*(a.y-1),p=i+s,c=d+n,h=r-s/2,u=o-n/2;if(t){let e=[{x:r,y:o},{x:r+i,y:o},{x:r+i,y:o+d},{x:r,y:o+d}],a=[{x:h,y:u},{x:h+p,y:u},{x:h+p,y:u+c},{x:h,y:u+c}];l.x=e[t].x-a[t].x,l.y=e[t].y-a[t].y}return{x:h+l.x,y:u+l.y,width:p,height:c}},_dC(e,t,r,o){let i=this._dB({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),d=i.width,a=i.height,l=this._cQ(i,e.rotate),s=r.point[o].x-l.point[o].x+l.left,n=r.point[o].y-l.point[o].y+l.top;return{left:s+l.width/2-d/2,top:n+l.height/2-a/2,width:d,height:a}},_cz({x:e,y:t,width:r,height:o,rotate:i}){let d={x:e+r/2,y:t+o/2},a={x:e,y:t},l=this._dD(a,d);return this._dE(a,d,l+i)},_dD:(e,t)=>(360+180*u(e.y-t.y,e.x-t.x)/s)%360,_dE(e,t,r){let o=i(a(e.x-t.x,2)+a(e.y-t.y,2));return{x:t.x+o*p(r*g),y:t.y+o*n(r*g)}},_dF(e,t,r){let o=f(r*g);return{k:o,b:t-e*o}},_dG(e,t,r,o){let i=(o-t)/(r-e);return{k:i,b:t-e*i}},_dH:(e,t)=>i(a(e.x-t.x,2)+a(e.y-t.y,2)),_cV(e,t){let[r,o]=e,[i,d]=t,a=((o.x-r.x)*(i.y-r.y)-(o.y-r.y)*(i.x-r.x))*((o.x-r.x)*(d.y-r.y)-(o.y-r.y)*(d.x-r.x)),l=((d.x-i.x)*(r.y-i.y)-(d.y-i.y)*(r.x-i.x))*((d.x-i.x)*(o.y-i.y)-(d.y-i.y)*(o.x-i.x));return a<0&&l<0},_dI:(e,t,r)=>(e.x=d(e.x),e.y=d(e.y),t.x=d(t.x),t.y=d(t.y),r.x=d(r.x),r.y=d(r.y),(e.x-t.x)*(r.y-t.y)==(r.x-t.x)*(e.y-t.y)&&c(t.x,r.x)<=e.x&&e.x<=h(t.x,r.x)&&c(t.y,r.y)<=e.y&&e.y<=h(t.y,r.y)),_cP(e,t){var r=e.width/2,o=e.height/2,i=t.width/2,d=t.height/2,a=e.x+r,l=e.y+o,s=t.x+i,n=t.y+d;return b(s-a)<=r+i&&b(n-l)<=o+d},_dJ:(e,t)=>d(e.x)==d(t.x)&&d(e.y)==d(t.y)}}),define("elements/barcode/printer",["magix","../provider/barcode"],(e,t,r)=>{let o={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),d=e("../provider/barcode");t.default=i.default.View.extend({tmpl:(e,t,r,i)=>{let d,a,l,s,n=[],{props:p,text:c,error:h}=e;return d=[],c&&!h||(s="",l=[t(0,0,s+=h?" "+i(h)+" ":" \u8bf7\u8f93\u5165\u6761\u5f62\u7801\u5185\u5bb9 ")],a=[t("div",o,l)],d.push(...a)),d.push(t("img",{id:r+"_bar",style:"width:100%;height:100%"},0,0,1)),n.push(t("div",{style:"position:absolute;z-index:1;left:"+i(p.x)+"px;top:"+i(p.y)+"px;height:"+i(p.fillY?"100%":p.height+"px")+";opacity:"+i(p.alpha)+";width:"+i(p.fillX?"100%":p.width+"px")+";transform:rotate("+i(p.rotate)+"deg);overflow:hidden"},d)),t(r,0,n)},assign(e){let{text:t,bind:r}=e.props;if(r.url)if(r.tip)t=r.tip;else{let e=r.data;Array.isArray(e)&&(e=e[0]),t=e[r.fields[0].id]}this.set(e),this.set({text:t})},async render(){let e=i.default.mark(this,"_e");await this.digest({error:null});try{if(await d.default._dM(),e()){let{linewidth:e,height:t,format:r,showText:o,color:i}=this.get("props"),d=this.get("text");!d||d==this._dP&&r==this._dQ&&o==this._dR&&e==this._dS&&i==this._dT||(JsBarcode(`#${this.id}_bar`,d,{height:t,lineColor:this._dT=i,width:this._dS=e,format:this._dQ=r,displayValue:this._dR=o}),this._dP=d)}}catch(t){e()&&this.digest({error:t})}}})}),define("elements/circle/printer",["magix"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix");t.default=o.default.View.extend({tmpl:(e,t,r,o)=>{let i,d=[],{props:a}=e;return i="z-index:1;position:absolute;border-radius:50%;left:"+o(a.x)+"px;top:"+o(a.y)+"px;",a.borderwidth&&(i+="border:"+o(a.borderwidth)+"px "+o(a.bordertype)+" "+o(a.bordercolor)+";"),a.fillcolor&&(i+="background:"+o(a.fillcolor)+";"),i+="height:"+o(a.height)+"px;opacity:"+o(a.alpha)+";width:"+o(a.width)+"px;transform:rotate("+o(a.rotate)+"deg)",d.push(t("div",{style:i})),t(r,0,d)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/data-celltable/printer",["magix","../subs/barcode","../subs/qrcode"],(e,t,r)=>{e("../subs/barcode"),e("../subs/qrcode"),Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix");t.default=o.default.View.extend({tmpl:(e,t,r,o,i)=>{let d,a,l,s,n,p,c,h,u,f,b,g,x,m,y=[],{props:w}=e;a="";let _=w.borderwidth,v=w.bordertype,k=w.bordercolor,S=w.borderdeed,C=w.rows;w.bind;a+=" ";let j=Math.max(1,_);a+=" ";let T=("collapse"==S?1:2)*j;s=[];for(let e=C.length,d=0;d<e;d+=1){p=[];for(let e=C[d].cols,l=e.length,s=0;s<l;s+=1){let d=e[s];if(h=[],w.bind.tip)u=[t(0,0,o(w.bind.tip))],h.push(...u);else{u=[],a="";let e=d.paddingTop,l=d.paddingBottom,s=d.paddingLeft,n=d.paddingRight;a+=" ";let p,c=d.width-T,y=d.height-T;e>y&&(e=y),e+l>y&&(l=y-e),s>c&&(s=c),s+n>c&&(n=c-s),f=[],"text"==d.type?(g=[],(p=d.bindKey?w.bind.data[d.bindKey]:d.textContent)&&(m=[t(0,1,o(d.bindKey?p:d.textContent))],x=[t("div",0,m)],g.push(...x)),f.push(...g)):"image"==d.type?(g=[],(p=d.bindKey?w.bind.data[d.bindKey]:d.imageContent)&&(b="",(d.imageRotateX||d.imageRotateY)&&(b+=";transform:",d.imageRotateX&&(b+="rotateX(180deg)"),d.imageRotateY&&(b+=" rotateY(180deg)")),x=[t("img",{class:"rd-ap rd-aq",src:o(p),style:b},0,0,1)],g.push(...x)),f.push(...g)):"barcode"==d.type?(g=[],(p=d.bindKey?w.bind.data[d.bindKey]:d.barcodeContent)&&(x=[t("div",{"mx5-owner":r,class:"rd-K",style:"height:"+o(y-e-l)+"px;align-items:"+o(d.vpos),"mx5-view":"elements/subs/barcode?lineColor="+i(d.barcodeColor)+"&lineWidth="+i(d.barcodeLineWidth)+"&showText="+i(d.barcodeShowText)+"&format="+i(d.barcodeFormat)+"&value="+i(p)})],g.push(...x)),f.push(...g)):"qrcode"==d.type?(g=[],(p=d.bindKey?w.bind.data[d.bindKey]:d.qrcodeContent)&&(x=[t("div",{"mx5-owner":r,style:"height:"+o(y-e-l)+"px","mx5-view":"elements/subs/qrcode?vpos="+i(d.vpos)+"&value="+i(p)})],g.push(...x)),f.push(...g)):d.bindKey&&(g=[t(0,0,"[\u672a\u6307\u5b9a\u6570\u636e\u5904\u7406\u65b9\u5f0f]"+o(p))],f.push(...g)),b="padding:"+o(e)+"px "+o(n)+"px "+o(l)+"px "+o(s)+"px;width:"+o(c)+"px;height:"+o(y)+"px;align-items:"+o(d.vpos)+";justify-content:"+o(d.hpos)+";opacity:"+o(d.alpha)+";",d.background&&(b+="background:"+o(d.background)),"text"==d.type&&(b+="color:"+o(d.textForecolor)+";letter-spacing:"+o(d.textLetterspacing)+"px;",d.textStyleBold&&(b+="font-weight:bold;"),d.textStyleItalic&&(b+="font-style:italic;"),(d.textStyleUnderline||d.textStyleStrike)&&(b+="text-decoration:",d.textStyleStrike?b+="line-through":b+="underline",b+=";"),b+="font-family:"+o(d.textFontfamily)+";font-size:"+o(d.textFontsize)+"px;"),u.push(t("div",{class:"rd-K rd-ah rd-s rd-t",style:b},f)),h.push(...u)}c=[t("td",{class:"rd-0",colspan:1!=d.colspan&&o(d.colspan),rowspan:1!=d.rowspan&&o(d.rowspan),style:"position:relative;width:"+o(d.width)+"px;height:"+o(d.height)+"px;border-left:"+o(_?v:"dotted")+" "+o(j)+"px "+o(_&&d.bLeft?k:"#0000")+";border-top:"+o(_?v:"dotted")+" "+o(j)+"px "+o(_&&d.bTop?k:"#0000")+";border-right:"+o(_?v:"dotted")+" "+o(j)+"px "+o(_&&d.bRight?k:"#0000")+";border-bottom:"+o(_?v:"dotted")+" "+o(j)+"px "+o(_&&d.bBottom?k:"#0000")},h)],p.push(...c)}n=[t("tr",0,p)],s.push(...n)}return l=[t("tbody",0,s)],d=[t("table",{class:"rd-Z rd-s",style:"border-collapse:"+o(S)},l)],y.push(t("div",{style:"z-index:1;position:absolute;left:"+o(w.x)+"px;top:"+o(w.y)+"px;opacity:"+o(w.alpha)+";width:"+o(w.width)+"px;height:"+o(w.height)+"px"},d)),t(r,0,y)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/data-celltable/index",["magix","../../designer/service","../subs/barcode","../subs/qrcode"],(e,t,r)=>{e("../subs/barcode"),e("../subs/qrcode"),Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix"),i=e("../../designer/service");t.default=o.default.View.extend({tmpl:(e,t,r,o,i)=>{let d,a,l,s,n,p,c,h,u,f,b,g,x,m,y=[],{props:w}=e;a="";let _=w.borderwidth,v=w.bordertype,k=w.bordercolor,S=w.borderdeed,C=w.rows;w.bind;a+=" ";let j=Math.max(1,_);a+=" ";let T=("collapse"==S?1:2)*j;s=[];for(let e=C.length,d=0;d<e;d+=1){p=[];for(let e=C[d].cols,l=e.length,s=0;s<l;s+=1){let d=e[s];if(h=[],w.bind.tip)u=[t(0,0,o(w.bind.tip))],h.push(...u);else{u=[],a="";let e=d.paddingTop,l=d.paddingBottom,s=d.paddingLeft,n=d.paddingRight;a+=" ";let p,c=d.width-T,y=d.height-T;e>y&&(e=y),e+l>y&&(l=y-e),s>c&&(s=c),s+n>c&&(n=c-s),f=[],"text"==d.type?(g=[],(p=d.bindKey?w.bind.data[d.bindKey]:d.textContent)&&(m=[t(0,1,o(d.bindKey?p:d.textContent))],x=[t("div",0,m)],g.push(...x)),f.push(...g)):"image"==d.type?(g=[],(p=d.bindKey?w.bind.data[d.bindKey]:d.imageContent)&&(b="",(d.imageRotateX||d.imageRotateY)&&(b+=";transform:",d.imageRotateX&&(b+="rotateX(180deg)"),d.imageRotateY&&(b+=" rotateY(180deg)")),x=[t("img",{class:"rd-ap rd-aq",src:o(p),style:b},0,0,1)],g.push(...x)),f.push(...g)):"barcode"==d.type?(g=[],(p=d.bindKey?w.bind.data[d.bindKey]:d.barcodeContent)&&(x=[t("div",{"mx5-owner":r,class:"rd-K",style:"height:"+o(y-e-l)+"px;align-items:"+o(d.vpos),"mx5-view":"elements/subs/barcode?lineColor="+i(d.barcodeColor)+"&lineWidth="+i(d.barcodeLineWidth)+"&showText="+i(d.barcodeShowText)+"&format="+i(d.barcodeFormat)+"&value="+i(p)})],g.push(...x)),f.push(...g)):"qrcode"==d.type?(g=[],(p=d.bindKey?w.bind.data[d.bindKey]:d.qrcodeContent)&&(x=[t("div",{"mx5-owner":r,style:"height:"+o(y-e-l)+"px","mx5-view":"elements/subs/qrcode?vpos="+i(d.vpos)+"&value="+i(p)})],g.push(...x)),f.push(...g)):d.bindKey&&(g=[t(0,0,"[\u672a\u6307\u5b9a\u6570\u636e\u5904\u7406\u65b9\u5f0f]"+o(p))],f.push(...g)),b="padding:"+o(e)+"px "+o(n)+"px "+o(l)+"px "+o(s)+"px;width:"+o(c)+"px;height:"+o(y)+"px;align-items:"+o(d.vpos)+";justify-content:"+o(d.hpos)+";opacity:"+o(d.alpha)+";",d.background&&(b+="background:"+o(d.background)),"text"==d.type&&(b+="color:"+o(d.textForecolor)+";letter-spacing:"+o(d.textLetterspacing)+"px;",d.textStyleBold&&(b+="font-weight:bold;"),d.textStyleItalic&&(b+="font-style:italic;"),(d.textStyleUnderline||d.textStyleStrike)&&(b+="text-decoration:",d.textStyleStrike?b+="line-through":b+="underline",b+=";"),b+="font-family:"+o(d.textFontfamily)+";font-size:"+o(d.textFontsize)+"px;"),u.push(t("div",{class:"rd-K rd-ah rd-s rd-t",style:b},f)),h.push(...u)}c=[t("td",{class:"rd-0",colspan:1!=d.colspan&&o(d.colspan),rowspan:1!=d.rowspan&&o(d.rowspan),style:"position:relative;width:"+o(d.width)+"px;height:"+o(d.height)+"px;border-left:"+o(_?v:"dotted")+" "+o(j)+"px "+o(_&&d.bLeft?k:"#0000")+";border-top:"+o(_?v:"dotted")+" "+o(j)+"px "+o(_&&d.bTop?k:"#0000")+";border-right:"+o(_?v:"dotted")+" "+o(j)+"px "+o(_&&d.bRight?k:"#0000")+";border-bottom:"+o(_?v:"dotted")+" "+o(j)+"px "+o(_&&d.bBottom?k:"#0000")},h)],p.push(...c)}n=[t("tr",0,p)],s.push(...n)}return l=[t("tbody",0,s)],d=[t("table",{class:"rd-Z rd-s",style:"border-collapse:"+o(S)},l)],y.push(t("div",{style:"z-index:1;position:absolute;left:"+o(w.x)+"px;top:"+o(w.y)+"px;opacity:"+o(w.alpha)+";width:"+o(w.width)+"px;height:"+o(w.height)+"px"},d)),t(r,0,y)},assign(e){this.set(e)},render(){let e=this.get("props"),t=o.default.mark(this,"_e"),{bindUrl:r}=e;r?this.fetch({name:"_bI",url:r},(r,o)=>{let i=o.get("data",[]);t()&&(e.data={data:i[0],err:r},this.digest({props:e}))}):this.digest()}}).merge(i.default)}),define("elements/data-dtable/index",["magix","../../designer/service","../subs/barcode","../subs/qrcode"],(e,t,r)=>{e("../subs/barcode"),e("../subs/qrcode"),Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix"),i=e("../../designer/service");t.default=o.default.View.extend({tmpl:(e,t,r,o,i)=>{let d,a,l,s,n,p,c,h,u,f,b,g,x,m,y,w,_,v,k,S=[],{props:C}=e;a="",a+=" ";let j=C.borderwidth,T=C.bordertype,E=C.bordercolor,L=C.borderdeed,M=C.rows;C.bind;a+=" ";let q=Math.max(1,j);a+=" ";let O=("collapse"==L?1:2)*q;s=[];for(let e=M.length,d=0;d<e;d+=1){let e=M[d];if(n=[],!e.data&&!v||k&&!C.hideFoot){c=[];for(let d=e.cols,l=d.length,s=0;s<l;s+=1){let e=d[s];if(u=[],C.bind.tip)f=[t(0,0,o(C.bind.tip))],u.push(...f);else{f=[],a="";let d=e.paddingTop,l=e.paddingBottom,s=e.paddingLeft,n=e.paddingRight;a+=" ";let p=e.width-O,c=e.height-O;d>c&&(d=c),d+l>c&&(l=c-d),s>p&&(s=p),s+n>p&&(n=p-s),b=[],"text"==e.type?(x=[],e.textContent&&(y=[t(0,1,o(e.textContent))],m=[t("div",0,y)],x.push(...m)),b.push(...x)):"image"==e.type?(x=[],e.imageContent&&(g="",(e.imageRotateX||e.imageRotateY)&&(g+=";transform:",e.imageRotateX&&(g+="rotateX(180deg)"),e.imageRotateY&&(g+=" rotateY(180deg)")),m=[t("img",{class:"rd-ap rd-aq",src:o(e.imageContent),style:g},0,0,1)],x.push(...m)),b.push(...x)):"barcode"==e.type?(x=[],e.barcodeContent&&(m=[t("div",{"mx5-owner":r,class:"rd-K",style:"height:"+o(c-d-l)+"px;align-items:"+o(e.vpos),"mx5-view":"elements/subs/barcode?lineColor="+i(e.barcodeColor)+"&lineWidth="+i(e.barcodeLineWidth)+"&showText="+i(e.barcodeShowText)+"&format="+i(e.barcodeFormat)+"&value="+i(e.barcodeContent)})],x.push(...m)),b.push(...x)):"qrcode"==e.type&&(x=[],e.qrcodeContent&&(m=[t("div",{"mx5-owner":r,style:"height:"+o(c-d-l)+"px","mx5-view":"elements/subs/qrcode?vpos="+i(e.vpos)+"&value="+i(e.qrcodeContent)})],x.push(...m)),b.push(...x)),g="padding:"+o(d)+"px "+o(n)+"px "+o(l)+"px "+o(s)+"px;width:"+o(p)+"px;height:"+o(c)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(g+="background:"+o(e.background)+";"),"text"==e.type&&(g+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(g+="font-weight:bold;"),e.textStyleItalic&&(g+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(g+="text-decoration:",e.textStyleStrike?g+="line-through":g+="underline",g+=";"),g+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px;"),f.push(t("div",{class:"rd-K rd-ah rd-s rd-t",style:g},b)),u.push(...f)}h=[t("td",{class:"rd-0",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;border-left:"+o(C.borderwidth?C.bordertype:"dotted")+" "+o(Math.max(1,C.borderwidth))+"px "+o(C.borderwidth&&e.bLeft?C.bordercolor:"#0000")+";border-top:"+o(C.borderwidth?C.bordertype:"dotted")+" "+o(Math.max(1,C.borderwidth))+"px "+o(C.borderwidth&&e.bTop?C.bordercolor:"#0000")+";border-right:"+o(C.borderwidth?C.bordertype:"dotted")+" "+o(Math.max(1,C.borderwidth))+"px "+o(C.borderwidth&&e.bRight?C.bordercolor:"#0000")+";border-bottom:"+o(C.borderwidth?C.bordertype:"dotted")+" "+o(Math.max(1,C.borderwidth))+"px "+o(C.borderwidth&&e.bBottom?C.bordercolor:"#0000")},u)],c.push(...h)}p=[t("tr",0,c)],n.push(...p)}if(e.data){if(p=[],v=1,C.bind.data){c=[];for(let d=C.bind.data,l=d.length,s=0;s<l;s+=1){let l=d[s];u=[];for(let d=e.cols,s=d.length,n=0;n<s;n+=1){let e=d[n];if(b=[],C.bind.tip)x=[t(0,0,o(C.bind.tip))],b.push(...x);else{x=[],a="";let d=e.paddingTop,s=e.paddingBottom,n=e.paddingLeft,p=e.paddingRight;a+=" ";let c,h=e.width-O,u=e.height-O;d>u&&(d=u),d+s>u&&(s=u-d),n>h&&(n=h),n+p>h&&(p=h-n),m=[],"text"==e.type?(y=[],e.bindKey&&(c=l[e.bindKey]),c&&(_=[t(0,1,o(c))],w=[t("div",0,_)],y.push(...w)),m.push(...y)):"image"==e.type?(y=[],e.bindKey&&(c=l[e.bindKey]),c&&(g="",(e.imageRotateX||e.imageRotateY)&&(g+=";transform:",e.imageRotateX&&(g+="rotateX(180deg)"),e.imageRotateY&&(g+=" rotateY(180deg)")),w=[t("img",{class:"rd-ap rd-aq",src:o(c),style:g},0,0,1)],y.push(...w)),m.push(...y)):"barcode"==e.type?(y=[],e.bindKey&&(c=l[e.bindKey]),c&&(w=[t("div",{"mx5-owner":r,class:"rd-K",style:"height:"+o(u-d-s)+"px;align-items:"+o(e.vpos),"mx5-view":"elements/subs/barcode?lineColor="+i(e.barcodeColor)+"&lineWidth="+i(e.barcodeLineWidth)+"&showText="+i(e.barcodeShowText)+"&format="+i(e.barcodeFormat)+"&value="+i(c)})],y.push(...w)),m.push(...y)):"qrcode"==e.type?(y=[],e.bindKey&&(c=l[e.bindKey]),c&&(w=[t("div",{"mx5-owner":r,style:"height:"+o(u-d-s)+"px","mx5-view":"elements/subs/qrcode?vpos="+i(e.vpos)+"&value="+i(c)})],y.push(...w)),m.push(...y)):e.bindKey&&(y=[t(0,0,"[\u672a\u6307\u5b9a\u6570\u636e\u5904\u7406\u65b9\u5f0f]"+o(c))],m.push(...y)),g="padding:"+o(d)+"px "+o(p)+"px "+o(s)+"px "+o(n)+"px;width:"+o(h)+"px;height:"+o(u)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(g+="background:"+o(e.background)),"text"==e.type&&(g+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(g+="font-weight:bold;"),e.textStyleItalic&&(g+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(g+="text-decoration:",e.textStyleStrike?g+="line-through":g+="underline",g+=";"),g+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px;"),x.push(t("div",{class:"rd-K rd-ah rd-s rd-t",style:g},m)),b.push(...x)}f=[t("td",{class:"rd-0",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;border-left:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bLeft?E:"#0000")+";border-top:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bTop?E:"#0000")+";border-right:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bRight?E:"#0000")+";border-bottom:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bBottom?E:"#0000")},b)],u.push(...f)}h=[t("tr",0,u)],c.push(...h)}p.push(...c)}n.push(...p)}else if(e.total){if(p=[],k=1,!C.hideTotal&&C.bind.showAcc){h=[];for(let r=e.cols,i=r.length,d=0;d<i;d+=1){let e=r[d];if(f=[],C.bind.tip)b=[t(0,0,o(C.bind.tip))],f.push(...b);else{b=[],a="";let r=e.paddingTop,i=e.paddingBottom,d=e.paddingLeft,l=e.paddingRight;a+=" ";let s=e.width-O,n=e.height-O;r>n&&(r=n),r+i>n&&(i=n-r),d>s&&(d=s),d+l>s&&(l=s-d),a="",null!=e.sumValue?a+=" "+o(e.sumValue)+" ":a+=" "+o(e.textContent)+" ",x=[t(0,0,a)],g="padding:"+o(r)+"px "+o(l)+"px "+o(i)+"px "+o(d)+"px;width:"+o(s)+"px;height:"+o(n)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(g+="background:"+o(e.background)+";"),g+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(g+="font-weight:bold;"),e.textStyleItalic&&(g+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(g+="text-decoration:",e.textStyleStrike?g+="line-through":g+="underline",g+=";"),g+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px",b.push(t("div",{class:"rd-K rd-ah rd-s rd-t",style:g},x)),f.push(...b)}u=[t("td",{class:"rd-0",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;height:"+o(e.height)+"px;border-left:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bLeft?E:"#0000")+";border-top:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bTop?E:"#0000")+";border-right:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bRight?E:"#0000")+";border-bottom:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bBottom?E:"#0000")},f)],h.push(...u)}c=[t("tr",0,h)],p.push(...c)}n.push(...p)}s.push(...n)}return l=[t("tbody",0,s)],d=[t("table",{class:"rd-Z rd-s",style:"border-collapse:"+o(L)},l)],S.push(t("div",{style:"z-index:1;position:absolute;left:"+o(C.x)+"px;top:"+o(C.y)+"px;opacity:"+o(C.alpha)+";width:"+o(C.width)+"px;height:"+o(C.height)+"px"},d)),t(r,0,S)},assign(e){this.set(e)},render(){let e=this.get("props"),t=o.default.mark(this,"_e"),{bindUrl:r}=e;r?this.fetch({name:"_bI",url:r},(r,o)=>{let i=o.get("data",[]);t()&&(e.data={data:i[0],err:r},this.digest({props:e}))}):this.digest()}}).merge(i.default)}),define("elements/data-dtable/printer",["magix","../subs/barcode","../subs/qrcode"],(e,t,r)=>{e("../subs/barcode"),e("../subs/qrcode"),Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix");t.default=o.default.View.extend({tmpl:(e,t,r,o,i)=>{let d,a,l,s,n,p,c,h,u,f,b,g,x,m,y,w,_,v,k,S=[],{props:C}=e;a="",a+=" ";let j=C.borderwidth,T=C.bordertype,E=C.bordercolor,L=C.borderdeed,M=C.rows;C.bind;a+=" ";let q=Math.max(1,j);a+=" ";let O=("collapse"==L?1:2)*q;s=[];for(let e=M.length,d=0;d<e;d+=1){let e=M[d];if(n=[],!e.data&&!v||k&&!C.hideFoot){c=[];for(let d=e.cols,l=d.length,s=0;s<l;s+=1){let e=d[s];if(u=[],C.bind.tip)f=[t(0,0,o(C.bind.tip))],u.push(...f);else{f=[],a="";let d=e.paddingTop,l=e.paddingBottom,s=e.paddingLeft,n=e.paddingRight;a+=" ";let p=e.width-O,c=e.height-O;d>c&&(d=c),d+l>c&&(l=c-d),s>p&&(s=p),s+n>p&&(n=p-s),b=[],"text"==e.type?(x=[],e.textContent&&(y=[t(0,1,o(e.textContent))],m=[t("div",0,y)],x.push(...m)),b.push(...x)):"image"==e.type?(x=[],e.imageContent&&(g="",(e.imageRotateX||e.imageRotateY)&&(g+=";transform:",e.imageRotateX&&(g+="rotateX(180deg)"),e.imageRotateY&&(g+=" rotateY(180deg)")),m=[t("img",{class:"rd-ap rd-aq",src:o(e.imageContent),style:g},0,0,1)],x.push(...m)),b.push(...x)):"barcode"==e.type?(x=[],e.barcodeContent&&(m=[t("div",{"mx5-owner":r,class:"rd-K",style:"height:"+o(c-d-l)+"px;align-items:"+o(e.vpos),"mx5-view":"elements/subs/barcode?lineColor="+i(e.barcodeColor)+"&lineWidth="+i(e.barcodeLineWidth)+"&showText="+i(e.barcodeShowText)+"&format="+i(e.barcodeFormat)+"&value="+i(e.barcodeContent)})],x.push(...m)),b.push(...x)):"qrcode"==e.type&&(x=[],e.qrcodeContent&&(m=[t("div",{"mx5-owner":r,style:"height:"+o(c-d-l)+"px","mx5-view":"elements/subs/qrcode?vpos="+i(e.vpos)+"&value="+i(e.qrcodeContent)})],x.push(...m)),b.push(...x)),g="padding:"+o(d)+"px "+o(n)+"px "+o(l)+"px "+o(s)+"px;width:"+o(p)+"px;height:"+o(c)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(g+="background:"+o(e.background)+";"),"text"==e.type&&(g+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(g+="font-weight:bold;"),e.textStyleItalic&&(g+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(g+="text-decoration:",e.textStyleStrike?g+="line-through":g+="underline",g+=";"),g+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px;"),f.push(t("div",{class:"rd-K rd-ah rd-s rd-t",style:g},b)),u.push(...f)}h=[t("td",{class:"rd-0",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;border-left:"+o(C.borderwidth?C.bordertype:"dotted")+" "+o(Math.max(1,C.borderwidth))+"px "+o(C.borderwidth&&e.bLeft?C.bordercolor:"#0000")+";border-top:"+o(C.borderwidth?C.bordertype:"dotted")+" "+o(Math.max(1,C.borderwidth))+"px "+o(C.borderwidth&&e.bTop?C.bordercolor:"#0000")+";border-right:"+o(C.borderwidth?C.bordertype:"dotted")+" "+o(Math.max(1,C.borderwidth))+"px "+o(C.borderwidth&&e.bRight?C.bordercolor:"#0000")+";border-bottom:"+o(C.borderwidth?C.bordertype:"dotted")+" "+o(Math.max(1,C.borderwidth))+"px "+o(C.borderwidth&&e.bBottom?C.bordercolor:"#0000")},u)],c.push(...h)}p=[t("tr",0,c)],n.push(...p)}if(e.data){if(p=[],v=1,C.bind.data){c=[];for(let d=C.bind.data,l=d.length,s=0;s<l;s+=1){let l=d[s];u=[];for(let d=e.cols,s=d.length,n=0;n<s;n+=1){let e=d[n];if(b=[],C.bind.tip)x=[t(0,0,o(C.bind.tip))],b.push(...x);else{x=[],a="";let d=e.paddingTop,s=e.paddingBottom,n=e.paddingLeft,p=e.paddingRight;a+=" ";let c,h=e.width-O,u=e.height-O;d>u&&(d=u),d+s>u&&(s=u-d),n>h&&(n=h),n+p>h&&(p=h-n),m=[],"text"==e.type?(y=[],e.bindKey&&(c=l[e.bindKey]),c&&(_=[t(0,1,o(c))],w=[t("div",0,_)],y.push(...w)),m.push(...y)):"image"==e.type?(y=[],e.bindKey&&(c=l[e.bindKey]),c&&(g="",(e.imageRotateX||e.imageRotateY)&&(g+=";transform:",e.imageRotateX&&(g+="rotateX(180deg)"),e.imageRotateY&&(g+=" rotateY(180deg)")),w=[t("img",{class:"rd-ap rd-aq",src:o(c),style:g},0,0,1)],y.push(...w)),m.push(...y)):"barcode"==e.type?(y=[],e.bindKey&&(c=l[e.bindKey]),c&&(w=[t("div",{"mx5-owner":r,class:"rd-K",style:"height:"+o(u-d-s)+"px;align-items:"+o(e.vpos),"mx5-view":"elements/subs/barcode?lineColor="+i(e.barcodeColor)+"&lineWidth="+i(e.barcodeLineWidth)+"&showText="+i(e.barcodeShowText)+"&format="+i(e.barcodeFormat)+"&value="+i(c)})],y.push(...w)),m.push(...y)):"qrcode"==e.type?(y=[],e.bindKey&&(c=l[e.bindKey]),c&&(w=[t("div",{"mx5-owner":r,style:"height:"+o(u-d-s)+"px","mx5-view":"elements/subs/qrcode?vpos="+i(e.vpos)+"&value="+i(c)})],y.push(...w)),m.push(...y)):e.bindKey&&(y=[t(0,0,"[\u672a\u6307\u5b9a\u6570\u636e\u5904\u7406\u65b9\u5f0f]"+o(c))],m.push(...y)),g="padding:"+o(d)+"px "+o(p)+"px "+o(s)+"px "+o(n)+"px;width:"+o(h)+"px;height:"+o(u)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(g+="background:"+o(e.background)),"text"==e.type&&(g+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(g+="font-weight:bold;"),e.textStyleItalic&&(g+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(g+="text-decoration:",e.textStyleStrike?g+="line-through":g+="underline",g+=";"),g+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px;"),x.push(t("div",{class:"rd-K rd-ah rd-s rd-t",style:g},m)),b.push(...x)}f=[t("td",{class:"rd-0",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;border-left:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bLeft?E:"#0000")+";border-top:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bTop?E:"#0000")+";border-right:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bRight?E:"#0000")+";border-bottom:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bBottom?E:"#0000")},b)],u.push(...f)}h=[t("tr",0,u)],c.push(...h)}p.push(...c)}n.push(...p)}else if(e.total){if(p=[],k=1,!C.hideTotal&&C.bind.showAcc){h=[];for(let r=e.cols,i=r.length,d=0;d<i;d+=1){let e=r[d];if(f=[],C.bind.tip)b=[t(0,0,o(C.bind.tip))],f.push(...b);else{b=[],a="";let r=e.paddingTop,i=e.paddingBottom,d=e.paddingLeft,l=e.paddingRight;a+=" ";let s=e.width-O,n=e.height-O;r>n&&(r=n),r+i>n&&(i=n-r),d>s&&(d=s),d+l>s&&(l=s-d),a="",null!=e.sumValue?a+=" "+o(e.sumValue)+" ":a+=" "+o(e.textContent)+" ",x=[t(0,0,a)],g="padding:"+o(r)+"px "+o(l)+"px "+o(i)+"px "+o(d)+"px;width:"+o(s)+"px;height:"+o(n)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(g+="background:"+o(e.background)+";"),g+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(g+="font-weight:bold;"),e.textStyleItalic&&(g+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(g+="text-decoration:",e.textStyleStrike?g+="line-through":g+="underline",g+=";"),g+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px",b.push(t("div",{class:"rd-K rd-ah rd-s rd-t",style:g},x)),f.push(...b)}u=[t("td",{class:"rd-0",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;height:"+o(e.height)+"px;border-left:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bLeft?E:"#0000")+";border-top:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bTop?E:"#0000")+";border-right:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bRight?E:"#0000")+";border-bottom:"+o(j?T:"dotted")+" "+o(q)+"px "+o(j&&e.bBottom?E:"#0000")},f)],h.push(...u)}c=[t("tr",0,h)],p.push(...c)}n.push(...p)}s.push(...n)}return l=[t("tbody",0,s)],d=[t("table",{class:"rd-Z rd-s",style:"border-collapse:"+o(L)},l)],S.push(t("div",{style:"z-index:1;position:absolute;left:"+o(C.x)+"px;top:"+o(C.y)+"px;opacity:"+o(C.alpha)+";width:"+o(C.width)+"px;height:"+o(C.height)+"px"},d)),t(r,0,S)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/image/printer",["magix"],(e,t,r)=>{let o={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");t.default=i.default.View.extend({tmpl:(e,t,r,i)=>{let d,a,l,s,n=[],{props:p,image:c,text:h}=e;return d=[],c?(l="width:100%;height:100%",(p.rotateX||p.rotateY)&&(l+=";transform:",p.rotateX&&(l+="rotateX(180deg)"),p.rotateY&&(l+=" rotateY(180deg)")),a=[t("img",{src:i(c),style:l},0,0,1)],d.push(...a)):(s=[t(0,0,i(h))],a=[t("div",o,s)],d.push(...a)),n.push(t("div",{style:"position:absolute;z-index:1;left:"+i(p.x)+"px;top:"+i(p.y)+"px;height:"+i(p.fillY?"100%":p.height+"px")+";opacity:"+i(p.alpha)+";width:"+i(p.fillX?"100%":p.width+"px")+";transform:rotate("+i(p.rotate)+"deg);overflow:hidden"},d)),t(r,0,n)},assign(e){this.set(e);let{image:t,bind:r}=e.props,o="";if(r.url)if(r.tip)o=r.tip;else{let e=r.data;Array.isArray(e)&&(e=e[0]),t=e[r.fields[0].id]}this.set({text:o,image:t})},render(){this.digest()}})}),define("elements/line/printer",["magix"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix");t.default=o.default.View.extend({tmpl:(e,t,r,o)=>{let i=[],{props:d}=e;return i.push(t("div",{style:"z-index:1;position:absolute;left:"+o(d.x)+"px;top:"+o(d.y)+"px;border-top:"+o(d.height)+"px "+o(d.linetype)+" "+o(d.color)+";opacity:"+o(d.alpha)+";width:"+o(d.width)+"px;transform:rotate("+o(d.rotate)+"deg)"})),t(r,0,i)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/provider/barcode",[],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=[],i=1,d="can not load barcode library";t.default={_dL:[{value:"CODE128",text:"CODE128"},{value:"CODE128A",text:"CODE128A"},{value:"CODE128B",text:"CODE128B"},{value:"CODE128C",text:"CODE128C"},{value:"CODE39",text:"CODE39"},{value:"EAN2",text:"EAN2"},{value:"EAN5",text:"EAN5"},{value:"EAN8",text:"EAN8"},{value:"EAN13",text:"EAN13"},{value:"ITF",text:"ITF"},{value:"ITF14",text:"ITF14"},{value:"MSI",text:"MSI"},{value:"MSI10",text:"MSI10"},{value:"MSI11",text:"MSI11"},{value:"MSI1010",text:"MSI1010"},{value:"MSI1110",text:"MSI1110"},{value:"UPC",text:"UPC"},{value:"UPCE",text:"UPCE"},{value:"upce",text:"UPC-E"},{value:"codabar",text:"codabar"},{value:"pharmacode",text:"pharmacode"},{value:"GenericBarcode",text:"GenericBarcode"}],_dM:()=>new Promise((e,t)=>{if(2&i)window.JsBarcode?e():t(d);else if(4&i)o.push([e,t]);else{i|=4,o.push([e,t]);let r=document.createElement("script");r.src="//cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js",r.onload=r.onerror=(()=>{document.head.removeChild(r),i|=2;for(let[e,t]of o)window.JsBarcode?e():t(d);o.length=0}),document.head.appendChild(r)}})}}),define("elements/provider/bindata",[],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o={};t.default=((e,t)=>new Promise(r=>{let i=o[t];i||(i=o[t]={}),i._er?r(i):i._es?i._es.push(r):(i._es=[r],e.fetch({name:"_bI",url:t},(e,t)=>{let r=t.get("data");i._dO=r,i._er=1,i._dN=null==e?void 0:e.msg;for(let e of i._es)e(i);delete i._es}))}))}),define("elements/provider/celltable",[],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={text:{textLetterspacing:0,textForecolor:"#000000",textFontsize:14,textFontfamily:"Microsoft YaHei",textStyleBold:!1,textStyleUnderline:!1,textStyleItalic:!1,textStyleStrike:!1,textContent:""},image:{imageContent:""},barcode:{barcodeLineWidth:2,barcodeColor:"#000000",barcodeFormat:"code128",barcodeShowText:!0,barcodeContent:""},qrcode:{qrcodeContent:""}}}),define("elements/provider/qrcode",[],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=[],i=1;t.default=(()=>new Promise((e,t)=>{if(2&i)window.QRCode?e():t("can not load qrcode library");else if(4&i)o.push([e,t]);else{i|=4,o.push([e,t]);let r=document.createElement("script");r.src="//unpkg.com/@keeex/qrcodejs-kx@1.0.2/qrcode.min.js",r.onload=r.onerror=(()=>{document.head.removeChild(r),i|=2;for(let[e,t]of o)window.QRCode?e():t("can not load qrcode library");o.length=0}),document.head.appendChild(r)}}))}),define("elements/provider/table",["./celltable"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("./celltable");let i=Object.assign({paddingBottom:5,paddingTop:5,paddingLeft:5,paddingRight:5,bLeft:!0,bTop:!0,bRight:!0,bBottom:!0,hpos:"flex-start",vpos:"flex-start",alpha:1,type:"text"},o.default.text);t.default={_dU(e,t){if(!t||null==e._dV||null==e._dW){let t=0,r=0,o={},i={},{rows:d}=e,a=0,l=0,s=0;for(let e of d){r=0,s=0;for(let d of e.cols){for(;o[r]&&i[r]&&t<i[r];)r+=o[r];d._co=s++,d._cn=t,d._et=t,d._ef=r,d.rowspan?(i[r]=d.rowspan+t,d._eu=t+d.rowspan-1):d._eu=t,d.colspan&&(o[r]=d.colspan,r+=d.colspan-1),d._eg=r++,r>a&&(a=r)}++t>l&&(l=t)}e._dV=l,e._dW=a}return e},_ev(e,t,r){let o,{focusCol:i,focusRow:d,rows:a}=e,l=0,s=0;if("left"==t)o=[[d,i-1],[d,i]],s=1;else if("right"==t)o=[[d,i],[d,i+1]],s=1;else{l=1;let e=a[d].cols[i],r=e._eu+1,s=e._eg,n=0;for(let l=0;l<=r;l++){for(let r=0;r<=s;r++){let s=a[l];if(s){let a=s.cols[r];if(a&&a!=e){let r=a._co;if(a._ef==e._ef&&a._eg==e._eg)if(a._eu+1==e._et){if("top"==t){o=[[l,r],[d,i]],n=1;break}}else if(e._eu+1==a._et&&"bottom"==t){o=[[d,i],[l,r]],n=1;break}}}}if(n)break}}let[n,p]=o;e.focusRow=n[0],e.focusCol=n[1];let c=0,h=0,u=-1,f=-1;for(let e of o){let t=a[e[0]].cols[e[1]],r=t._eu;r>u&&(u=r);let o=t._eg;o>f&&(f=o)}let b=a[n[0]].cols[n[1]],g=a[p[0]].cols[p[1]];h=u-b._et+1,c=f-b._ef+1,s&&(b.width+=g.width),l&&(b.height+=g.height),r?b.elements.push(...g.elements):!b.bindKey&&g.bindKey&&(b.bindKey=g.bindKey,b.bindName=g.bindName,b.type=g.type,b.props=g.props),b.colspan=c,b.rowspan=h;for(let e=o.length-1;e>0;e--){let t=o[e];a[t[0]].cols.splice(t[1],1)}let x=e._dV,m=e=>{let t=x;for(let r of a)for(let o of r.cols){let r=o._et+o.rowspan-1;if(o._et<=e&&r>=e){let o=r-e;o<t&&(t=o)}}return t};for(let e=x;e--;){a[e].cols.length||(a.splice(e,1),x--)}for(let e=0;e<x;e++){let t=m(e);if(t>0){for(let r=0;r<=e;r++){let o=a[r];for(let r of o.cols){let o=r._et+r.rowspan-1;r._et<=e&&o>=e&&(r.rowspan-=t)}}break}}let y=e._dW,w=e=>{let t=y;for(let r of a)for(let o of r.cols){let r=o._ef+o.colspan-1;if(o._ef<=e&&r>=e){let o=r-e;o<t&&(t=o)}}return t};for(let e=0;e<y;e++){let t=w(e);if(t>0){for(let r of a)for(let o of r.cols){let r=o._ef+o.colspan-1;o._ef<=e&&r>=e&&(o.colspan-=t)}break}}return e},_ew(e,t,r,o,d){let{focusRow:a,focusCol:l,rows:s}=e,n=s[a].cols[l],p=s[a],c=this._dX(e);if(t){let e,t;if(n.colspan>1){let r=n.colspan/2|0,o=n.colspan-r,i=0,d=n._eg;for(let e=d-r+1;e<=d;e++)i+=c._dY[e];n.colspan=o,n.width-=i,e=r,t=i}else{let r=n.width,i=r/2;i<o&&(i=o),n.width=i,t=i,e=1;let d=2*i-r;for(let e of s)for(let t of e.cols)t!=n&&t._ef<=n._ef&&t._eg>=n._eg&&(t.colspan++,t.width+=d)}let d={colspan:e,rowspan:n.rowspan,width:t,height:n.height,bLeft:!0,bTop:!0,bRight:!0,bBottom:!0};r?d.elements=[]:Object.assign(d,i),p.cols.splice(l+1,0,d)}else{let e,t;if(n.rowspan>1){let r=n.rowspan/2|0,o=n.rowspan-r,i=0,d=n._eu;for(let e=d-r+1;e<=d;e++)i+=c._dZ[e];n.rowspan=o,n.height-=i,e=r,t=i,p=s[n._et+o];let a=0;for(let e of p.cols){if(e._ef>n._ef){l=a;break}a++}}else{let r=n.height,o=r/2;o<d&&(o=d),n.height=o,t=o,e=1;let i=2*o-r;for(let e of s)for(let t of e.cols)t!=n&&t._et<=n._et&&t._eu>=n._eu&&(t.rowspan++,t.height+=i);s.splice(n._eu+1,0,p={cols:[]})}let o={colspan:n.colspan,rowspan:e,width:n.width,height:t,bLeft:!0,bTop:!0,bRight:!0,bBottom:!0};r?o.elements=[]:Object.assign(o,i),p.cols.splice(l,0,o)}},_ex(e,t,r,o){let d={},{rows:a,_dW:l}=e,s=this._dX(e);for(let e=0;e<t;e++){let r=a[e];for(let e of r.cols)if(e._eu>=t){e.rowspan++,e.height+=o;let t=e._ef,r=t+e.colspan;for(let e=t;e<r;e++)d[e]=1}}let n={cols:[]};for(let e=0;e<l;e++)if(!d[e]){let t={width:s._dY[e],height:o,rowspan:1,colspan:1,bLeft:!0,bTop:!0,bRight:!0,bBottom:!0};r?t.elements=[]:Object.assign(t,i),n.cols.push(t)}return a.splice(t,0,n),e},_ey(e,t,r,o){let{rows:d}=e,a=[],l=0,s=this._dX(e);for(let e of d){let d=e.cols.length,n=d;for(let r=0;r<d;r++){let i=e.cols[r];if(i.rowspan>1&&a.push(i),i._ef<t&&i._eg>=t){i.colspan++,i.width+=o,n=-1;break}if(i._ef>=t){n=r;break}}for(let e of a)if(e._ef<t&&e._eg>=t&&e._et<l&&e._eu>=l){n=-1;break}if(-1!=n){let t={height:s._dZ[l],width:o,rowspan:1,colspan:1,bLeft:!0,bTop:!0,bRight:!0,bBottom:!0};r?t.elements=[]:Object.assign(t,i),e.cols.splice(n,0,t)}l++}return e},_ez(e){let{rows:t,focusRow:r,focusCol:o}=e,i=t[r].cols[o],d=[i._et,i._eu],a={},l=0,s=d[1]-d[0]+1,n=t[d[1]+1],p=s/2;for(let e=d[1];e>=0;e--){let r=t[e],o=0;for(let e=r.cols.length;e--;){let t=r.cols[e],i=t._ef,n=t._eu,c=t._et,h=n-c+1;if(1==h&&(o=t.height),h>1){let u=h/2;if(Math.abs(d[0]+p-c-u)<p+u){if(d[0]==t._et&&t._eu-t._et>=s&&(a[i]=t,l=1),!o)for(let t=e;t--;){let e=r.cols[t];if(0==e._eu-e._et){o=e.height;break}}let p=Math.min(n,d[1])-Math.max(d[0],c)+1;t.rowspan-=p,t.height-=o*p}}}e<=d[1]&&e>=d[0]&&t.splice(e,1)}if(l){let t=e._dW;if(n)for(let e=t,r=n.cols.length;e--;){let t=a[e];if(t){let o=0;for(let t=r;t--;){if(n.cols[t]._ef<e){r=t,o=t+1;break}}n.cols.splice(o,0,t)}}}return e},_eA(e,t){let{focusRow:r,focusCol:o,rows:i}=e,d=i[r].cols[o],a=[d._ef,d._eg],l=(a[1]-a[0]+1)/2;for(let e of i)for(let r=e.cols.length;r--;){let o=e.cols[r],i=o._ef,d=o._eg;if(i>=a[0]&&d<=a[1])e.cols.splice(r,1);else if(o.colspan>1){let e=(d-i+1)/2;if(Math.abs(a[0]+l-i-e)<l+e){let e=Math.min(d,a[1])-Math.max(a[0],i)+1;o.colspan-=e,o.width-=t*e}}}return e},_dX(e,t){let r=[],o=[],{rows:i}=e,d=!1,a=!1;for(let e of i)for(let i of e.cols){if(1==i.colspan){let e=i._ef;(null==r[e]||!d&&i.width>r[e]||t==i)&&(d=d||t==i,r[e]=i.width)}if(1==i.rowspan){let e=i._et;(null==o[e]||!a&&i.height>o[e]||t==i)&&(a=a||t==i,o[e]=i.height)}}for(let e of i)for(let i of e.cols){if(i.colspan>1){let e=0,o=0,d=i._ef,a=d+i.colspan;for(let t=d;t<a;t++)null!=r[t]&&r[t]>=0&&(e+=r[t],o++);if(o<i.colspan){let t=Math.max(i.width-e,0)/(i.colspan-o);for(let e=d;e<a;e++)(null==r[e]||r[e]<0)&&(r[e]=t)}else if(e<i.width&&(!t||t==i)||e>i.width&&t&&t==i)for(let t=d;t<a;t++)r[t]=e>0?r[t]/e*i.width:i.width/i.colspan}if(i.rowspan>1){let e=0,r=0,d=i._et,a=d+i.rowspan;for(let t=d;t<a;t++)null!=o[t]&&o[t]>=0&&(e+=o[t],r++);if(r<i.rowspan){let t=Math.max(0,i.height-e)/(i.rowspan-r);for(let e=d;e<a;e++)(null==o[e]||o[e]<0)&&(o[e]=t)}else if(e<i.height&&(!t||t==i)||e>i.height&&t&&i==t)for(let t=d;t<a;t++)o[t]=e>0?o[t]/e*i.height:i.height/i.rowspan}}return{_dY:r,_dZ:o}},_d5(e,t){let r=this._dX(e,t),{rows:o}=e;for(let e of o)for(let t of e.cols){let e=t.rowspan||1,o=t.colspan||1,i=t._ef,d=t._et,a=0,l=0;for(let e=i+o-1;e>=i;e--)a+=r._dY[e];for(let t=d+e-1;t>=d;t--)l+=r._dZ[t];t.width=a,t.height=l}}}}),define("elements/subs/barcode",["magix","../provider/barcode"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix"),i=e("../provider/barcode");t.default=o.default.View.extend({tmpl:(e,t,r,o)=>{let i,d=[],{msg:a}=e;return a?(i=[t(0,0,o(a))],d.push(...i)):(i=[t("img",{id:r+"_bar",class:"rd-ap rd-aq"},0,0,1)],d.push(...i)),t(r,0,d)},assign(e){this.set(e)},async render(){let e=o.default.mark(this,"_e");await this.digest({msg:null});try{if(await i.default._dM(),e()){let{value:e,lineWidth:t,format:r,showText:o,lineColor:i}=this.get();JsBarcode(`#${this.id}_bar`,e,{lineColor:i,width:+t,format:r,displayValue:"true"==o})}}catch(t){e()&&this.digest({msg:t})}}})}),define("elements/subs/qrcode",["magix","../provider/qrcode"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix"),i=e("../provider/qrcode");t.default=o.default.View.extend({tmpl:(e,t,r,o)=>{let i,d=[],{msg:a,vpos:l}=e;return a?(i=[t(0,0,o(a))],d.push(...i)):(i=[t("div",{id:r+"_qr",class:"rd-K rd-t",style:"align-items:"+o(l)})],d.push(...i)),t(r,0,d)},assign(e){this.set(e)},async render(){let e=o.default.mark(this,"_e");await this.digest({msg:null});try{if(await i.default(),e()){let{value:e}=this.get(),t=this._eB;if(!t){let e=o.default.node(`${this.id}_qr`);t=new QRCode(e),this._eB=t}t.makeCode(e+"");let r=this.root.querySelector("img");r.classList.add("rd-ap"),r.classList.add("rd-aq")}}catch(t){e()&&this.digest({msg:t})}}})}),define("elements/qrcode/printer",["magix","../provider/qrcode"],(e,t,r)=>{let o={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix"),d=e("../provider/qrcode");t.default=i.default.View.extend({tmpl:(e,t,r,i)=>{let d,a,l,s,n=[],{props:p,text:c,error:h}=e;return d=[],c&&!h||(s="",l=[t(0,0,s+=h?" "+i(h)+" ":" \u8bf7\u8f93\u5165\u4e8c\u7ef4\u7801\u5185\u5bb9 ")],a=[t("div",o,l)],d.push(...a)),d.push(t("div",{id:r+"_qr",class:"rd-K rd-L rd-W rd-s rd-t"})),n.push(t("div",{style:"position:absolute;z-index:1;left:"+i(p.x)+"px;top:"+i(p.y)+"px;height:"+i(p.fillY?"100%":p.height+"px")+";opacity:"+i(p.alpha)+";width:"+i(p.fillX?"100%":p.width+"px")+";transform:rotate("+i(p.rotate)+"deg);overflow:hidden"},d)),t(r,0,n)},assign(e){let{text:t,bind:r}=e.props;if(r.url)if(r.tip)t=r.tip;else{let e=r.data;Array.isArray(e)&&(e=e[0]),t=e[r.fields[0].id]}this.set(e),this.set({text:t})},async render(){let e=i.default.mark(this,"_e");await this.digest({error:null});try{if(await d.default(),e()){let e=this._eB;if(!e){let t=i.default.node(`${this.id}_qr`);e=new QRCode(t,{width:512,height:512}),this._eB=e}let t=this.get("text");if(t&&t!=this._dP){e.makeCode(this._dP=t),this.root.querySelector("img").classList.add("rd-an")}}}catch(t){e()&&this.digest({error:t})}}})}),define("elements/rect/printer",["magix"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix");t.default=o.default.View.extend({tmpl:(e,t,r,o)=>{let i,d=[],{props:a}=e;return i="z-index:1;position:absolute;left:"+o(a.x)+"px;top:"+o(a.y)+"px;",a.borderwidth&&(i+="border:"+o(a.borderwidth)+"px "+o(a.bordertype)+" "+o(a.bordercolor)+";"),a.fillcolor&&(i+="background:"+o(a.fillcolor)+";"),i+="height:"+o(a.height)+"px;opacity:"+o(a.alpha)+";width:"+o(a.width)+"px;transform:rotate("+o(a.rotate)+"deg);",a.radius&&(i+="border-radius:"+o(a.radius)+"px;"),d.push(t("div",{style:i})),t(r,0,d)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/table/printer",["magix"],(e,t,r)=>{let o={class:"rd-s rd-t rd-z"};Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");t.default=i.default.View.extend({tmpl:(e,t,r,i,d,a,l)=>{let s,n,p,c,h,u,f,b,g,x,m=[],{props:y}=e;n="";let w=y.borderwidth,_=y.bordertype,v=y.bordercolor,k=y.borderdeed,S=y.rows;n+=" ";let C=Math.max(1,w);c=[];for(let e=S.length,d=0;d<e;d+=1){u=[];for(let e=S[d].cols,s=e.length,n=0;n<s;n+=1){let s=e[n];g=[];for(let e=s.elements,o=e.length,p=0;p<o;p+=1){let o=e[p];x=[t("div",{"mx5-owner":r,$:"props",id:i(o.id),"mx5-view":"elements/"+i(o.type)+"/printer?props="+l(a,o.props,"\x1eh."+d+".i."+n+".a."+p+".j")})],g.push(...x)}b=[t("div",o,g)],f=[t("td",{class:"rd-0",colspan:1!=s.colspan&&i(s.colspan),rowspan:1!=s.rowspan&&i(s.rowspan),style:"position:relative;width:"+i(s.width)+"px;height:"+i(s.height)+"px;border-left:"+i(w?_:"dotted")+" "+i(C)+"px "+i(w&&s.bLeft?v:"#0000")+";border-top:"+i(w?_:"dotted")+" "+i(C)+"px "+i(w&&s.bTop?v:"#0000")+";border-right:"+i(w?_:"dotted")+" "+i(C)+"px "+i(w&&s.bRight?v:"#0000")+";border-bottom:"+i(w?_:"dotted")+" "+i(C)+"px "+i(w&&s.bBottom?v:"#0000")},b)],u.push(...f)}h=[t("tr",0,u)],c.push(...h)}return p=[t("tbody",0,c)],s=[t("table",{class:"rd-Z rd-s",style:"border-collapse:"+i(k)},p)],m.push(t("div",{style:"z-index:1;position:absolute;left:"+i(y.x)+"px;top:"+i(y.y)+"px;opacity:"+i(y.alpha)+";width:"+i(y.width)+"px;height:"+i(y.height)+"px"},s)),t(r,0,m)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/text/printer",["magix"],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix");let i=/(?:\r\n|\r|\n)/g,d=e=>String(e).replace(i,"<br/>");t.default=o.default.View.extend({tmpl:(e,t,r,o)=>{let i,d,a=[],{props:l,encode:s,text:n}=e;return d=[t(0,1,o(s(n)))],i="z-index:1;position:absolute;left:"+o(l.x)+"px;top:"+o(l.y)+"px;display:flex;color:"+o(l.forecolor)+";",l.background&&(i+="background:"+o(l.background)+";"),i+="font-size:"+o(l.fontsize)+"px;height:"+o(l.fillY?"100%":l.height+"px")+";letter-spacing:"+o(l.letterspacing)+"px;opacity:"+o(l.alpha)+";",l.styleBold&&(i+="font-weight:bold;"),l.styleItalic&&(i+="font-style:italic;"),(l.styleUnderline||l.styleStrike)&&(i+="text-decoration:",l.styleStrike?i+="line-through":i+="underline",i+=";"),i+="align-items:"+o(l.vpos)+";justify-content:"+o(l.hpos)+";overflow:hidden;width:"+o(l.fillX?"100%":l.width+"px")+";transform:rotate("+o(l.rotate)+"deg);font-family:"+o(l.fontfamily),a.push(t("div",{style:i},d)),t(r,0,a)},init(){this.set({encode:d})},assign(e){let{text:t,bind:r}=e.props;if(r.url)if(r.tip)t=r.tip;else{let e=r.data;Array.isArray(e)&&(e=e[0]),t=e[r.fields[0].id]}this.set(e),this.set({text:t})},render(){this.digest()}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],(e,t,r)=>{let o={class:"rd-b"},i={class:"rd-c",style:"word-break:break-all"},d={class:"rd-E rd-d"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),l=e("../../i18n/index");t.default=a.default.View.extend({tmpl:(e,t,r,a)=>{let l,s,n=[],{title:p,body:c,i18n:h}=e;return s=[t(0,0,a(p))],l=[t("h5",0,s)],n.push(t("div",o,l)),l=[t(0,0,a(c))],n.push(t("div",i,l)),s=[t(0,0,a(h("bz")))],l=[t("button",{"mx5-click":r+"\x1e_eS();",class:"rd-_ rd-a rd-w",type:"button"},s)],n.push(t("div",d,l)),t(r,0,n)},init(e){this._am=e.dialog,this._eY=e.body,this._eZ=e.title||l.default("by"),this._e0=e.enter},render(){this.digest({body:this._eY,title:this._eZ})},"_eS<click>"(){let e=this;e._am.close(),e._e0&&a.default.toTry(e._e0)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],(e,t,r)=>{let o={class:"rd-b"},i={class:"rd-c",style:"word-break:break-all"},d={class:"rd-E rd-d"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),l=e("../../i18n/index");t.default=a.default.View.extend({tmpl:(e,t,r,a)=>{let l,s,n=[],{title:p,body:c,i18n:h}=e;return s=[t(0,0,a(p))],l=[t("h5",0,s)],n.push(t("div",o,l)),l=[t(0,0,a(c))],n.push(t("div",i,l)),s=[t(0,0,a(h("bA")))],l=[t("button",{type:"button","mx5-click":r+"\x1e_e2()",class:"rd-_ rd-w"},s)],s=[t(0,0,a(h("bz")))],l.push(t("button",{type:"button","mx5-click":r+"\x1e_eS()",class:"rd-_ rd-a rd-p rd-w"},s)),n.push(t("div",d,l)),t(r,0,n)},init(e){let t=this;t._am=e.dialog,t._eY=e.body,t._eZ=e.title||l.default("by"),t._e0=e.enter,t._e1=e.cancel},render(){this.digest({body:this._eY,title:this._eZ})},"_eS<click>"(){let e=this;e._am.close(),e._e0&&a.default.toTry(e._e0)},"_e2<click>"(){let e=this;e._am.close(),e._e1&&a.default.toTry(e._e1)}})}),define("gallery/mx-dialog/index",["magix","./alert","./confirm"],(e,t,r)=>{let o;Object.defineProperty(t,"__esModule",{value:!0});const i=e("magix");e("./alert"),e("./confirm"),i.default.applyStyle("rd-d",".rd-bL{position:absolute}.rd-bM{position:relative;background-color:#fff;border-radius:2px;border:1px solid #e6e6e6}.rd-aL{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.rd-aL:focus,.rd-aL:hover{opacity:.5}.rd-bN{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2}.rd-bO{filter:blur(3px)}.rd-bP{-webkit-animation:rd-a .3s;animation:rd-a .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.rd-bQ{position:absolute;right:10px;top:0;width:1px;height:0}.rd-bR{padding:80px 0}@-webkit-keyframes rd-a{0%{opacity:0}to{opacity:.2}}@keyframes rd-a{0%{opacity:0}to{opacity:.2}}.rd-bS{-webkit-animation:rd-b .2s;animation:rd-b .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-b{0%{opacity:.2}to{opacity:0}}@keyframes rd-b{0%{opacity:.2}to{opacity:0}}.rd-bT{margin-bottom:50px;min-height:60px}.rd-bU{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.rd-bV{-webkit-animation:rd-c .3s;animation:rd-c .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.rd-bW{-webkit-animation:rd-d .2s;animation:rd-d .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");let d=500,a=[],l=i.default.View.extend({tmpl:(e,t,r,i)=>{let d,a,l,s,n,p=[],{removeClass:c,zIndex:h,left:u,top:f,width:b,closable:g}=e;return d="rd-bN",c||(d+=" rd-bP"),p.push(t("div",{style:"z-index:"+i(h-1),id:"mask_"+r,class:d})),(l=[]).push(t("input",{id:"focus_"+r,class:"rd-bQ"},0,0,1)),g&&(n=[t(0,0,"\ue624")],s=[t("span",{class:"rd-aL rd-j","mx5-click":r+"\x1e_aq()"},n)],l.push(...s)),o?s=[o]:(n=[t("span",{class:"rd-f"})],s=[o=t("div",{_:"_",class:"rd-bR rd-e"},n)]),l.push(t("div",{class:"rd-bM rd-bT",id:"cnt_"+r},s)),d="rd-bL",c||(d+=" rd-bV"),a=[t("div",{id:"body_"+r,style:"left:"+i(u)+"px;top:"+i(f)+"px;width:"+i(b)+"px",class:d},l)],p.push(t("div",{class:"rd-bU",style:"z-index:"+i(h)},a)),t(r,0,p)},init(e){let t=this,r=i.default.node("app"),o=t.root;t.on("destroy",()=>{(e=>{for(let t,r=a.length-1;r>=0;r--)if((t=a[r]).id==e.id){a.splice(r,1);break}})(t),500==(d-=2)&&r.classList.remove("rd-bO"),i.default.dispatch(o,"close"),o.parentNode.removeChild(o)}),i.default.has(e,"closable")||(e.closable=!0),t.set(e),500==d&&r.classList.add("rd-bO"),d+=2,a.push(t)},async render(){let e=this;await e.digest({zIndex:d});let t=e.get(),r=i.default.mark(e,"_e");setTimeout(()=>{r()&&(e.root.style.display="block",i.default.node("focus_"+e.id).focus())},30),e.owner.mount(i.default.node("cnt_"+e.id),t.view,t),setTimeout(()=>{r()&&e.digest({removeClass:!0})},300)},_e3(e){let t=i.default.node("cnt_"+this.id);i.default.Vframe.byNode(t).invoke("fire",["unload",e])},_e4(){let e,t=this.id;(e=i.default.node("body_"+t)).classList.add("rd-bW"),(e=i.default.node("mask_"+t)).classList.add("rd-bS")},"_aq<click>"(){i.default.dispatch(this.root,"dlg_close")},"$doc<keyup>"(e){if("Escape"==e.code){let e=a[a.length-1];e==this&&e.get("closable")&&i.default.dispatch(this.root,"dlg_close")}}});Object.assign(l,{_e6(e,t){let r=i.default.guid("dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+r+'" style="display:none" />');let o,d=i.default.node(r),a=e.owner.mount(d,"gallery/mx-dialog/index",t);return d.addEventListener("dlg_close",async()=>{if(!d._e5&&!o){let e=()=>{d._e5=1,a.invoke("_e4"),setTimeout(()=>{a.unmount()},200)},t={p:0,prevent(){o=1},resolve(){t.p=1,o=0,e()},reject(){t.p=1,o=0}};await a.invoke("_e3",[t]),o||t.p||e()}}),d},alert(e,t,r){this.confirm(e,t,null,r,"alert")},confirm(e,t,r,o,i){this.mxDialog("gallery/mx-dialog/"+(i||"confirm"),{body:e,cancel:r,enter:t,title:o,modal:!0,width:300,closable:!1,left:(window.innerWidth-300)/2,top:Math.max((window.innerHeight-220)/2,0)})},mxDialog(e,t){let r,o,d=this,a={view:e},l=i.default.mark(this,"_am");return i.default.use(e,s=>{let n="$dlg_"+e;!d[n]&&l()&&(d[n]=1,Object.assign(a,s.dialogOptions),Object.assign(a,t),a.width||(a.width=500),a.left||(a.left=(window.innerWidth-a.width)/2),a.top||(a.top=100),a.dialog={close(){r&&i.default.dispatch(r,"dlg_close")}},(r=d._e6(d,a)).addEventListener("close",()=>{delete d[n],o&&o()}))}),{close(){r&&i.default.dispatch(r,"dlg_close")},whenClose(e){o=e}}}}),t.default=l}),define("printer/index",["magix","../designer/service","./lodop","../gallery/mx-dialog/index","../elements/provider/table"],(e,t,r)=>{let o,i,d={class:"rd-dn"},a={class:"rd-do"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../designer/service"),n=e("./lodop"),p=e("../gallery/mx-dialog/index"),c=e("../elements/provider/table");l.default.applyStyle("rd-A",".rd-dm{page-break-after:always}@page{margin:0}@media screen{.rd-dn{box-shadow:0 0 6px 0 rgba(0,0,0,.3);margin-bottom:10px;height:40px;justify-content:flex-end;padding-right:50px;position:-webkit-sticky;position:sticky;top:0;z-index:2;background-color:#fff}.rd-dn,.rd-do{display:flex;align-items:center}.rd-do{flex-direction:column}.rd-dp{font-size:16px;height:120px;line-height:120px}.rd-dq{box-shadow:0 0 6px 0 rgba(0,0,0,.3);overflow:hidden}.rd-dr{margin:20px auto}.rd-ds{display:flex}.rd-dt{justify-content:center}}@media print{.rd-dn{display:none}body{min-width:auto}.rd-dr{margin:0}.rd-dq{overflow:hidden;box-shadow:none}.rd-do{display:block}}");let h={},u=(e,t)=>{for(let r=e.length;r--;){let o=e[r];if(("data-coltable"==o.type||"data-celltable"==o.type||"data-dtable"==o.type)&&-1!=t[r])return!0}return!1},f=e=>{if(Array.isArray(e)){let t=[];for(let r of e)t.push(f(r));e=t}else if("Object"==l.type(e)){let t={};for(let r in e)t[r]=f(e[r]);e=t}return e};t.default=l.default.View.extend({tmpl:(e,t,r,l,s,n,p)=>{let c,h,u,f,b,g,x,m,y=[],{pasted:w,loading:_,page:v,pages:k}=e;if(h=[t(0,0,"Lodop\u8bbe\u7f6e")],c=[t("button",{class:"rd-_ rd-p rd-w","mx5-click":r+"\x1e_g8()"},h)],h=[t(0,0,"Lodop\u6253\u5370")],c.push(t("button",{class:"rd-_ rd-a rd-p rd-w","mx5-click":r+"\x1e_ha()"},h)),h=[t(0,0,"\u6d4f\u89c8\u5668\u6253\u5370")],c.push(t("button",{class:"rd-_ rd-a rd-w","mx5-click":r+"\x1e_aT()"},h)),y.push(t("div",d,c)),c=[],w){if(h=[],_)o?f=[o]:(b=[t(0,0,"\u6b63\u5728\u51c6\u5907\u9875\u9762\u6570\u636e...")],f=[o=t("div",{_:"_",class:"rd-dp"},b)]),u=[t("div",{class:"rd-dq rd-dr rd-ds rd-dt",style:"position:relative;width:"+l(v.width)+"px;height:"+l(v.height)+"px"},f)],h.push(...u);else{u=[];for(let e=k.length,o=e-1,i=0;i<e;i+=1){let e=k[i],d=i===o;b=[];for(let o=e.length,d=0;d<o;d+=1){let o=e[d];m=[t("div",{"mx5-owner":r,$:"pages","mx5-view":"elements/"+l(o.type)+"/printer?props="+p(n,o.props,"\x1eF."+i+"."+d+".j")})],b.push(...m)}g="rd-dq rd-dr",d||(g+=" rd-dm"),x="position:relative;width:"+l(v.width)+"px;height:"+l(v.height)+"px;background:"+l(v.background)+";",v.backgroundImage&&(x+="background-image:url("+l(v.backgroundImage)+");background-repeat:"+l("full"==v.backgroundRepeat?"no-repeat":v.backgroundRepeat)+";background-size:","full"==v.backgroundRepeat?x+="100% 100%":x+=l(v.backgroundWidth)+"px "+l(v.backgroundHeight)+"px;background-position:"+l(v.positionXOffset)+"% "+l(v.positionYOffset)+"%"),f=[t("div",{class:g,style:x},b)],u.push(...f)}h.push(...u)}c.push(...h)}else i?h=[i]:(u=[t(0,0,"\u5728\u901a\u7528\u8bbe\u8ba1\u5668\u8bbe\u8ba1\u597d\u9875\u9762\u540e\uff0c\u70b9\u4fdd\u5b58\u5e76\u590d\u5236\u8bbe\u8ba1\u597d\u7684 JSON \u7136\u540e\u5728\u8be5\u9875\u9762\u8fdb\u884c\u7c98\u8d34\u3002\u8be5\u9875\u9762\u4ec5\u4f9b\u8fd8\u539f\u53c2\u8003\u4f7f\u7528\uff0c\u53ef\u4e0e\u4efb\u610f\u540e\u7aef\u63a5\u53e3\u6df1\u5ea6\u7ed3\u5408\u5b9a\u5236\u3002")],h=[i=t("div",{_:"a",class:"rd-dp"},u)]),c.push(...h);return y.push(t("div",a,c)),t(r,0,y)},render(){this.digest({pasted:!1})},_g0(e){return new Promise(t=>{let r=h[e];r||(r=h[e]={}),r._er?t():r._es?r._es.push(t):(r._es=[t],this.fetch({name:"_bI",url:e},(e,t)=>{let o=t.get("data");r._dO=o,r._er=1,r._dN=null==e?void 0:e.msg;for(let e of r._es)e();delete r._es}))})},_g1(e){let t=[];for(let r of e)t.push(this._g0(r));return Promise.all(t)},_g2(e,t){let{props:r}=e,{bind:o}=r;if(o.url){let{_dN:e,_dO:i}=h[o.url];if(!e)return r.bind.data=i[t],t==i.length-1?-1:t+1;r.bind.tip=e}return-1},_g3(e,t,r){let{props:o}=e,{bind:i,rows:d,borderwidth:a,tfootSpacing:l,borderdeed:s}=o;if(i.url){let{_dN:e,_dO:n}=h[i.url];if(!e){let e=!1,i=0,p=-1,h=-1,u=0,f=0;for(let e of d)e.data?p=i:e.total?h=i:-1==p?u++:-1!=h&&f++,i++;let b=d[h],g=d[p];if(!o.hideTotal)for(let t of b.cols)if("sumpage"==t.type||"acc"==t.type){e=!0;break}c.default._dU(o,!0);let x=c.default._dX(o)._dZ,m=x[h],y=0,w=x[p],_=0;for(let e=0;e<x.length;e++)e!=p&&e<h&&(y+=x[e]),e>h&&!o.hideFoot&&(_+=x[e]);"separate"==s&&(y+=2*u,_+=2*f,m+=2,a=2,w+=2);let v=r.height-o.y-y-a-l-_;e&&(v-=m);let k=Math.floor(v/w);k<1&&(k=1);let S=k+t;S>n.length&&(S=n.length,e=!0),o.height=y+w*(S-t)+a+_,e&&(o.height+=m),o.bind.data=n.slice(t,S),o.bind.showAcc=e;for(let e=b.cols.length;e--;){let r=b.cols[e];if("sumpage"==r.type){let o=g.cols[e];if(o.bindKey){let e=0;for(let r=t;r<S;r++){e+=n[r][o.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}else if("acc"==r.type){let t=g.cols[e];if(t.bindKey){let e=0;for(let r=0;r<S;r++){e+=n[r][t.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}else if("sum"==r.type){let t=g.cols[e];if(t.bindKey){let e=0;for(let r=0;r<n.length;r++){e+=n[r][t.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}}return S==n.length&&e?-1:S}o.bind.tip=e}return-1},_g4(e){let{props:t}=e,{bind:r}=t;if(r.url){let{_dN:e,_dO:o}=h[r.url];e?t.bind.tip=e:t.bind.data=o}},_g6(e,t,r,o){if(o){let o={},i=(e,t,r)=>{let d=[];for(let a=e.length;a--;){let l=e[a],s=r?l:{type:l.type,props:f(l.props)};if("data-coltable"==l.type){let e=o[a]||0;-1!=e&&(o[a]=this._g5(s,e,t),d.unshift(s))}else if("data-celltable"==l.type){let e=o[a]||0;-1!=e&&(o[a]=this._g2(s,e,t),d.unshift(s))}else if("data-dtable"==l.type){let e=o[a]||0;-1!=e&&(o[a]=this._g3(s,e,t),d.unshift(s))}else{if(l.props.bind&&this._g4(s),"table"==l.type){let{rows:e}=s.props;for(let r of e)for(let e of r.cols)i(e.elements,t,1)}d.unshift(s)}}return d};do{let o=i(e,t);r.push(o)}while(u(e,o))}else r.push(e)},async _g7(e){let t=JSON.parse(e),{page:r,elements:o}=t;this.digest({page:r,pasted:!0,loading:!0});let i=[],d=[],a=e=>{for(let t of e){let{bind:e}=t.props;if(e&&e.url&&!d.includes(e.url)&&d.push(e.url),"table"==t.type){let{rows:e}=t.props;for(let t of e)for(let e of t.cols)a(e.elements)}}};a(o),await this._g1(d),this._g6(o,r,i,d),await this.digest({pages:i,loading:!1})},"_aT<click>"(){window.print()},"_g8<click>"(){this.mxDialog("printer/ld-setting",{width:500})},async"_ha<click>"(){let e=l.default.mark(this,"_g9"),t=document.getElementsByTagName("style"),r=this.get("page"),o=await n.default._h_();if(e())if(o){o.SET_PRINT_PAGESIZE(0,r.width+"px",r.height+"px","report-designer"),o.SET_PRINT_MODE("POS_BASEON_PAPER",!0);let e=document.querySelectorAll(".rd-dq");for(let i=0;i<e.length;i++){let d=e[i];o.NewPageA(),o.ADD_PRINT_HTM(0,0,r.width+"px",r.height+"px",`<style>${t[1].innerHTML}</style>`+d.innerHTML)}o.PREVIEW()}else this.mxDialog("printer/ld-tip",{width:400})},"$doc<paste>"(e){let t=e.clipboardData.getData("text/plain");this._g7(t)},"$win<message>"(e){e.source.postMessage("_aW","*"),this._g7(e.data)}}).merge(s.default,p.default)}),define("printer/ld-setting",["magix","./lodop"],(e,t,r)=>{let o,i,d,a={class:"rd-E rd-c"},l={class:"rd-K rd-L"},s={class:"rd-E rd-d"},n={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});const p=e("magix"),c=e("./lodop");p.default.applyStyle("rd-B",".rd-du{width:120px}.rd-dv{width:350px}.rd-dw{margin-top:20px}"),t.default=p.default.View.extend({tmpl:(e,t,r,p)=>{let c,h,u,f=[],{src:b}=e;return o?f.push(o):(h=[t(0,0,"Lodop\u6253\u5370\u670d\u52a1\u8bbe\u7f6e")],c=[t("h5",0,h)],f.push(o=t("div",{_:"_",class:"rd-b"},c))),i?h=[i]:(u=[t(0,0,"\u6253\u5370\u63d2\u4ef6\u5730\u5740\uff1a")],h=[i=t("div",{_:"a",class:"rd-du"},u)]),u=[t("input",{placeholder:"\u6253\u5370\u63d2\u4ef6\u5730\u5740",class:"rd-dv rd-g",value:p(b),"mx5-input":r+"\x1e_hc()"},0,n,1)],h.push(t("div",0,u)),c=[t("div",l,h)],d?c.push(d):(h=[t(0,0,"Lodop\u5b89\u88c5\u540e\u4f1a\u6709\u4e00\u4e2a\u901a\u8fc7http\u534f\u8bae\u6765\u63a7\u5236\u6253\u5370\u670d\u52a1\u7684javascript\u63d2\u4ef6\uff0c\u5728\u8fd9\u91cc\u8bbe\u7f6e\u8be5\u63d2\u4ef6\u7684\u5730\u5740\u3002\u5982\u679c\u6253\u5370\u670d\u52a1\u5b89\u88c5\u5728\u5f53\u524d\u7535\u8111\u4e0a\u4e14\u672a\u4fee\u6539\u8fc7\u7aef\u53e3\uff0c\u5219\u65e0\u9700\u505a\u4efb\u4f55\u8bbe\u7f6e\u3002")],u=[t(0,0,"\u53bbLodop\u5b98\u7f51\u4e86\u89e3\u66f4\u591a\u4fe1\u606f")],h.push(t("a",{href:"http://www.lodop.net/download.html",target:"_blank",rel:"noopener noreferrer"},u)),c.push(d=t("div",{_:"b",class:"rd-af rd-dw"},h))),f.push(t("div",a,c)),h=[t(0,0,"\u53d6\u6d88")],c=[t("button",{"mx5-click":r+"\x1e_e2();",class:"rd-_ rd-w",type:"button"},h)],h=[t(0,0,"\u5e94\u7528")],c.push(t("button",{"mx5-click":r+"\x1e_he();",class:"rd-_ rd-a rd-p rd-w",type:"button"},h)),f.push(t("div",s,c)),t(r,0,f)},init(e){this._am=e.dialog},render(){this.digest({src:c.default._hb()})},"_e2<click>"(){this._am.close()},"_hc<input>"(e){let t=e.eventTarget.value;this.digest({src:t})},"_he<click>"(){c.default._hd(this.get("src")),this._am.close()}})}),define("printer/ld-tip",["magix"],(e,t,r)=>{let o,i,d={class:"rd-E rd-d"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,r,a)=>{let l,s,n=[],{i18n:p}=e;return o?n.push(o):(s=[t(0,0,"\u5b89\u88c5\u63d0\u793a")],l=[t("h5",0,s)],n.push(o=t("div",{_:"_",class:"rd-b"},l))),i?n.push(i):(l=[t(0,0,"\u672a\u68c0\u6d4b\u5230Lodop\u6253\u5370\u670d\u52a1\uff0c\u8bf7\u60a8\u5148\u524d\u5f80")],s=[t(0,0,"Lodop\u5b98\u65b9\u793a\u4f8b\u9875\u9762")],l.push(t("a",{href:"http://www.lodop.net/LodopDemo.html",target:"_blank",rel:"noopener noreferrer"},s),t(0,0,"\uff0c\u6309\u76f8\u5173\u8bf4\u660e\u5b89\u88c5Lodop\u6253\u5370\u670d\u52a1\u5e76\u80fd\u6b63\u5e38\u8fd0\u884c\u5b98\u7f51\u63d0\u4f9b\u7684\u793a\u4f8b\u540e\uff0c\u518d\u6765\u8be5\u9875\u9762\u5c1d\u8bd5\u4f7f\u7528Lodop\u6253\u5370\u3002")),n.push(i=t("div",{_:"a",class:"rd-E rd-c"},l))),s=[t(0,0,a(p("bz")))],l=[t("button",{"mx5-click":r+"\x1e_eS();",class:"rd-_ rd-a rd-w",type:"button"},s)],n.push(t("div",d,l)),t(r,0,n)},init(e){this._am=e.dialog},render(){this.digest()},"_eS<click>"(){this._am.close()}})}),define("printer/lodop",[],(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=()=>{try{let e=localStorage.getItem("lodop.src");return e||(e="http://127.0.0.1:8000/CLodopfuncs.js"),e}catch(e){return"http://127.0.0.1:8000/CLodopfuncs.js"}},i={};t.default={_hd(e){try{localStorage.setItem("lodop.src",e)}catch(e){}},_hb:o,_h_:()=>new Promise(e=>{let t=o(),r=i[t];r||(r={_hf:1,_hg:[]},i[t]=r),r._hg.push(e);let d=()=>{let e;r._hf|=4,window.getCLodop&&(e=getCLodop());for(let t of r._hg)t(e);r._hg.length=0};if(4&r._hf)d();else if(0==(2&r._hf)){r._hf|=2;let e=document.createElement("script");e.onload=e.onerror=d,e.src=o(),document.head.appendChild(e)}})}});