(function(e,t){if(!e.seajs){var r=e.seajs={version:"2.2.3"},i=r.data={},o=D("Object"),a=D("String"),l=Array.isArray||D("Array"),s=D("Function"),n=D("Undefined"),d=0,p=i.events={};r.on=function(e,t){return(p[e]||(p[e]=[])).push(t),r},r.off=function(e,t){if(!e&&!t)return p=i.events={},r;var o=p[e];if(o)if(t)for(var a=o.length-1;a>=0;a--)o[a]===t&&o.splice(a,1);else delete p[e];return r};var c,h=r.emit=function(e,t){var i,o=p[e];if(o)for(o=o.slice();i=o.shift();)i(t);return r},f=/[^?#]*\//,u=/\/\.\//g,g=/\/[^/]+\/\.\.\//,b=/([^:/])\/\//g,x=/^([^/:]+)(\/.+)$/,m=/{([^{]+)}/g,y=/^\/\/.|:\//,w=/^.*?\/\/.*?\//,_=document,v=K(_.URL),k=_.scripts,S=_.getElementById("seajsnode")||k[k.length-1],C=K(((c=S).hasAttribute?c.src:c.getAttribute("src",4))||v);r.resolve=function(e,t){if(!e)return"";var r,o,l;e=function(e){var t=i.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(m,function(e,r){return a(t[r])?t[r]:e})),e}(e=function(e){var t,r=i.paths;return r&&(t=e.match(x))&&a(r[t[1]])&&(e=r[t[1]]+t[2]),e}(e=function(e){var t=i.alias;return t&&a(t[e])?t[e]:e}(e))),o=(r=e).length-1;var n=P(e="#"===(l=r.charAt(o))?r.substring(0,o):".js"===r.substring(o-2)||r.indexOf("?")>0||".css"===r.substring(o-3)||"/"===l?r:r+".js",t);return n=function(e){var t=i.map,r=e;if(t)for(var o=0,a=t.length;o<a;o++){var l=t[o];if((r=s(l)?l(e)||e:e.replace(l[0],l[1]))!==e)break}return r}(n)};var z,E,T=_.head||_.getElementsByTagName("head")[0]||_.documentElement,A=T.getElementsByTagName("base")[0],L=/\.css(?:\?|$)/i,I=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;r.request=function(e,t,r,o){var a=L.test(e),l=_.createElement(a?"link":"script");r&&(l.charset=r),n(o)||l.setAttribute("crossorigin",o),function(e,t,r,o){var a="onload"in e;function l(){e.onload=e.onerror=e.onreadystatechange=null,r||i.debug||T.removeChild(e),e=null,t()}!r||!I&&a?a?(e.onload=l,e.onerror=function(){h("error",{uri:o,node:e}),l()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&l()}:setTimeout(function(){!function e(t,r){var i,o=t.sheet;if(I)o&&(i=!0);else if(o)try{o.cssRules&&(i=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(i=!0)}setTimeout(function(){i?r():e(t,r)},20)}(e,t)},1)}(l,t,a,e),a?(l.rel="stylesheet",l.href=e):(l.async=!0,l.src=e),z=l,A?T.insertBefore(l,A):T.appendChild(l),z=null};var q,R=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,j=/\\\\/g,M=r.cache={},N={},O={},U={},B=X.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};X.prototype.resolve=function(){for(var e=this.dependencies,t=[],r=0,i=e.length;r<i;r++)t[r]=X.resolve(e[r],this.uri);return t},X.prototype.load=function(){if(!(this.status>=B.LOADING)){this.status=B.LOADING;var e=this.resolve();h("load",e);for(var t,r=this._remain=e.length,i=0;i<r;i++)(t=X.get(e[i])).status<B.LOADED?t._waitings[this.uri]=(t._waitings[this.uri]||0)+1:this._remain--;if(0!==this._remain){var o={};for(i=0;i<r;i++)(t=M[e[i]]).status<B.FETCHING?t.fetch(o):t.status===B.SAVED&&t.load();for(var a in o)o.hasOwnProperty(a)&&o[a]()}else this.onload()}},X.prototype.onload=function(){this.status=B.LOADED,this.callback&&this.callback();var e,t,r=this._waitings;for(e in r)r.hasOwnProperty(e)&&((t=M[e])._remain-=r[e],0===t._remain&&t.onload());delete this._waitings,delete this._remain},X.prototype.fetch=function(e){var t=this.uri;this.status=B.FETCHING;var o={uri:t};h("fetch",o);var a=o.requestUri||t;function l(){r.request(o.requestUri,o.onRequest,o.charset,o.crossorigin)}a&&!O[a]?N[a]?U[a].push(this):(N[a]=!0,U[a]=[this],h("request",o={uri:t,requestUri:a,onRequest:function(){delete N[a],O[a]=!0,q&&(X.save(t,q),q=null);var e,r=U[a];delete U[a];for(;e=r.shift();)e.load()},charset:s(i.charset)?i.charset(a):i.charset,crossorigin:s(i.crossorigin)?i.crossorigin(a):i.crossorigin}),o.requested||(e?e[o.requestUri]=l:l())):this.load()},X.prototype.exec=function(){var e=this;if(e.status>=B.EXECUTING)return e.exports;e.status=B.EXECUTING;var t=e.uri;function r(e){return X.get(r.resolve(e)).exec()}r.resolve=function(e){return X.resolve(e,t)},r.async=function(e,i){return X.use(e,i,t+"_async_"+$()),r};var i=e.factory,o=s(i)?i(r,e.exports={},e):i;return void 0===o&&(o=e.exports),delete e.factory,e.exports=o,e.status=B.EXECUTED,h("exec",e),o},X.resolve=function(e,t){var i={id:e,refUri:t};return h("resolve",i),i.uri||r.resolve(i.id,t)},X.define=function(e,t,r){var i,o,a=arguments.length;1===a?(r=e,e=void 0):2===a&&(r=t,l(e)?(t=e,e=void 0):t=void 0),!l(t)&&s(r)&&(i=r.toString(),o=[],i.replace(j,"").replace(R,function(e,t,r){r&&o.push(r)}),t=o);var n={id:e,uri:X.resolve(e),deps:t,factory:r};if(!n.uri&&_.attachEvent){var d=function(){if(z)return z;if(E&&"interactive"===E.readyState)return E;for(var e=T.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return E=r}}();d&&(n.uri=d.src)}h("define",n),n.uri?X.save(n.uri,n):q=n},X.save=function(e,t){var r=X.get(e);r.status<B.SAVED&&(r.id=t.id||e,r.dependencies=t.deps||[],r.factory=t.factory,r.status=B.SAVED)},X.get=function(e,t){return M[e]||(M[e]=new X(e,t))},X.use=function(t,r,i){var o=X.get(i,l(t)?t:[t]);o.callback=function(){for(var t=[],i=o.resolve(),a=0,l=i.length;a<l;a++)t[a]=M[i[a]].exec();r&&r.apply(e,t),delete o.callback},o.load()},X.preload=function(e){var t=i.preload,r=t.length;r?X.use(t,function(){t.splice(0,r),X.preload(e)},i.cwd+"_preload_"+$()):e()},r.use=function(e,t){return X.preload(function(){X.use(e,t,i.cwd+"_use_"+$())}),r},X.define.cmd={},e.define=X.define,r.Module=X,i.fetchedList=O,i.cid=$,r.require=function(e){var t=X.get(X.resolve(e));return t.status<B.EXECUTING&&(t.onload(),t.exec()),t.exports};var V,F;i.base=(C.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",C])[1],i.dir=C,i.cwd=v,i.charset="utf-8",i.history={},i.preload=(V=[],F=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(F+=" "+_.cookie).replace(/(seajs-\w+)=1/g,function(e,t){V.push(t)}),V),r.config=function(e){for(var t in e){var a=e[t],s=i[t];if(i.history[t]=i.history[t]||[],i.history[t].push(Y(a)),s&&o(s))for(var n in a)s[n]=a[n];else l(s)?a=s.concat(a):"base"===t&&("/"!==a.slice(-1)&&(a+="/"),a=P(a)),i[t]=a}return h("config",e),r}}function D(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function $(){return d++}function K(e){return e.match(f)[0]}function P(e,t){var r,o=e.charAt(0);if(y.test(e))r=e;else if("."===o)r=function(e){for(e=e.replace(u,"/");e.match(g);)e=e.replace(g,"/");return e=e.replace(b,"$1/")}((t?K(t):i.cwd)+e);else if("/"===o){var a=i.cwd.match(w);r=a?a[0]+e.substring(1):e}else r=i.base+e;return 0===r.indexOf("//")&&(r=location.protocol+r),r}function X(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function Y(e){if(o(e)){var t={};for(var r in e)t[r]=e[r];return t}return e}})(this),(e=>{window.define?define("magix5",e):window.Magix=e()})(()=>{let e=0,t=[],r=window,i=document,o=r.setTimeout,a=encodeURIComponent;function l(){}let s,n=JSON.stringify,d=i.head,p=r.performance,c=p.now.bind(p),h="prototype",f=Object[h].toString,u=e=>f.call(e).slice(8,-1),g=e=>"Object"==u(e),b=Array.isArray,x=t=>(t||"_")+e++,m=e=>i.getElementById(e),y=(e,t)=>e.innerHTML=t,w={rootId:x(),wait:l,error(e){throw e}},_=e=>!e||"object"!=typeof e,v=(e,t,r)=>{if(e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},k=e=>{e["\x1ea"]=null},{assign:S,keys:C,hasOwnProperty:z}=Object,E=d.getAttribute,T=(e,t)=>E.call(e,t),A=(e,t,r)=>{t&&!A[e]&&(A[e]=1,r=i.createElement("style"),y(r,t),d.appendChild(r))},L=(e,t,r,i)=>{try{i=b(t)?e.apply(r,t):e.call(r,t)}catch(e){w.error(e)}return i},I=(e,t)=>e&&z.call(e,t),q=(e,t)=>{let r,i;if(_(t))"\x1e"==(r=t+"")[0]&&(t=e[r]);else for(r in t)i=t[r],i=q(e,i),t[r]=i;return t},R=(e,t)=>t.a-e.a;function j(e,t,r){(r=this).a=[],r.b=t||5,r.c=r.b+(e||20)}S(j[h],{get(e){let t=this.a["\x1e"+e];return t&&(t.a++,t=t.c),t},set(e,t){let r=this,i=r.a,o="\x1e"+e,a=i[o],l=r.b;if(!a){if(i.length>=r.c)for(i.sort(R);l--;)(a=i.pop()).a>0&&r.del(a.o);a={d:e},i.push(a),i[o]=a}a.c=t,a.a=1},del(e){e="\x1e"+e;let t=this.a,r=t[e];r&&(r.a=-1,r.c="",t[e]=null)},has(e){return I(this.a,"\x1e"+e)}});let M={bubbles:!0,cancelable:!0},N=[],O=(e,t,r,i,o,a)=>{let l={a:o,b:r,c:t,d:e,e(e){o?L(r,e,a):r(e)}};N.push(l),e.addEventListener(t,l.e,i)},U=(e,t,r,i,o)=>{for(let a,l=N.length;l--;)if((a=N[l]).c==t&&a.a==o&&a.d==e&&a.b===r){N.splice(l,1),e.removeEventListener(t,a.e,i);break}},B=new j,V=(e,t,r)=>(B.has(e)?r=B.get(e):(r=L(Function(`return ${e}`)),t&&B.set(e,r)),r),F=decodeURIComponent,D=new j,$=e=>{let t,r,i,o,a,l,s=D.get(e);if(!s){if(o={},-1==(a=e.indexOf("?"))?(t=e,l=""):(t=e.substring(0,a),l=e.substring(a+1)),l)for(a of l.split("&"))[r,i]=a.split("="),o[F(r)]=F(i||"");D.set(e,s={a:t,b:o})}return{path:s.a,params:S({},s.b)}},K=new j,P=(e,t,r)=>(K.has(e)?r=K.get(e):(r=V(e,null),e.includes("\x1e")?q(t,r):K.set(e,r)),r),X=0,Y=[],H=()=>{let e,t,r,i=c(),a=w.wait;try{for(;;){if(e=Y[X],r=Y[X-1],t=Y[X+1],Y[X]=null,Y[X-1]=null,Y[X+1]=null,Y[X+2]=null,X+=4,!e){a(0),Y.length=X=0;break}if(e!=l&&(b(t)?e.apply(r,t):e.call(r,t)),c()-i>8&&Y.length>X){a(1),o(H);break}}}catch(e){w.error(e),o(H)}},W=(e,t,r,i)=>{if(X||(X=1,o(H)),i)for(let e=Y.length-1;e>=X;e-=4)Y[e]==i&&(Y[e-3]=null,Y[e-2]=l,Y[e-1]=null,Y[e]=null);Y.push(r,e,t,i)},G=e=>e.__esModule||window.Symbol&&"Module"===e[Symbol.toStringTag],J=(e,t)=>{if(e){let r=[];seajs.use(e,(...e)=>{for(let t of e)r.push(G(t)?t.default:t);W(t,r)})}else W(t)},Q=(e,t,r,i)=>(l[h]=t[h],i=new l,S(i,r),i.constructor=e,e[h]=i,e),Z=e=>e;let ee,te,re={fire(e,t){let r,i,o=this,a=o["\x1e"+e],l=0;if(t||(t={}),a)for(r=a.length;l<r;l++)(i=a[l]).a?(i.b=1,L(i.a,t,o),i.b=""):i.b||(a.splice(l--,1),r--);(a=o[`on${e}`])&&L(a,t,o)},on(e,t){let r="\x1e"+e;(this[r]||(this[r]=[])).push({a:t})},off(e,t){let r,i="\x1e"+e,o=this,a=o[i];if(t){if(a)for(r of a)if(r.a==t){r.a="";break}}else o[i]=null,o[`on${e}`]=null}},ie={},oe=(e,t,r,i)=>{t.includes("\x1e")&&(i=ie[e])&&q(i.a,r)},ae=(e,t)=>{I(ie,e)||(ie[e]=t)},le=(e,t,r,i,o,a,l)=>{for(t=e.c,o=e.d;t.length;)[r,l,i]=t.shift(),W(i,(a=o[r])&&L(a,l,o))},se=(e,t)=>{let r,i,o;for(r in e.b)(o=t?(i=ie[r])&&v(i.root,t):1)&&e.unmount(r,1)},ne=e=>{let{d:t,root:r}=e;e.c=[],t&&(e.d=0,t.a&&(t.a=0,k(t),se(e),t.fire("destroy"),ot(t,1),r&&e.f&&y(r,e.g))),e.h++},de=(e,t,r)=>{let i,o,a,l,{id:s,root:n,pId:d}=e;!e.f&&n&&(e.f=1,e.g=n.innerHTML),ne(e),n&&t&&(i=$(t),a=i.path,e.path=t,l=i.params,oe(d,t,l),e.i=a,(d=l["\x1e"])&&g(d)?l=d:S(l,r),o=e.h,J(a,t=>{o==e.h&&(t?(ct(t),a=new t(s,n,e,l),e.d=a,ot(a),L(a.init,l,a),W(a.f,l,a),W(()=>{a.g(),a.tmpl||a.h||it(a)})):w.error(Error(`${s} cannot load:${a}`)))}))},pe=e=>e.b||(e.b=x(te));function ce(e,t){let r=this,i=pe(e);r.id=i,r.root=e,r.h=1,r.b={},r.pId=t,r.c=[],r.a={},ae(i,r)}S(ce,{root:()=>ee,all:()=>ie,byId:e=>ie[e],byNode:e=>ie[e.b]}),S(ce[h],{mount(e,t,r){let i,o=this,a=o.id,l=o.b,s=pe(e);return(i=ie[s])||(I(l,s)||(o.j=0),l[s]=s,i=new ce(e,a)),de(i,t,r),i},unmount(e,t){let r,i;var o,a,l;e=e?this.b[t?e:e.b]:this.id,(r=ie[e])&&(ne(r),i=r.pId,(a=ie[o=e])&&(delete ie[o],(l=a.root).a=0,l.b=0,a.id=a.root=a.pId=a.b=null),(r=ie[i])&&I(r.b,e)&&(delete r.b[e],r.j=0))},children(e){return(e=this).j||(e.j=C(e.b))},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=ie[t.pId];return t},invoke(e,t){let r,i,o=this,a=o.c;return new Promise(l=>{(r=o.d)&&r.h?l((i=r[e])&&L(i,t,r)):a.push([e,t,l])})}});let he=new j(30,10),fe=/([\w\-]+)\x1e(\x1e)?([^(]+)\(([\s\S]*?)\)/,ue={},ge={},be={},xe={},me={},ye={},we={capture:!0},_e={passive:!1},ve={passive:!1,capture:!0};let ke=(e,r)=>{let i,o,a,l,n,d,p,c,h=[],f=e,u=T(e,"mx5-"+r),g=0;if(u&&((n=he.get(u))||(n={v:(n=u.match(fe)||t)[1],t:n[2],n:n[3],i:n[4]},he.set(u,n)),n=S({},n)),n&&!n.v||me[r]){if(!(c=f.c)){for(p=[f];f!=s&&(f=f.parentNode);){if(ie[o=f.b]||(o=f.c)){c=o;break}p.push(f)}if(c)for(u of p)u.c=c}if(c){f=e.b,ie[f]&&(g=c=f);do{if((i=ie[c])&&(d=i.d)){if(l=(a=d.i)[r])for(f=l.length;f--;)a={r:o=l[f],v:c,n:o},o?!g&&e.matches(o)&&h.push(a):g&&h.unshift(a);if(d.tmpl&&!g)break;g=0}}while(i&&(c=i.pId))}}return n&&h.push(n),h},Se=e=>{let t,r,i,o,a,l,s,{target:n,type:d}=e,p=[];for(;n&&1==n.nodeType&&!(e.cancelBubble||(r=n.d)&&r[d]);){if(r=1,p.push(n),(t=ke(n,d)).length)for(l of(p.length=0,t)){let{v:t,n:p,i:c,t:h}=l;if(!(o=(i=ie[t])&&i.d)){0;break}o.h&&o.a&&((l=o[a=p+"\x1e"+d])&&(e.eventTarget=n,s=c?P(c,i.a):ye,e.params=s,L(l,e,o)),h||(n=o.root,r=0))}r&&((o=(i=ie[n.b])&&i.d)&&o.j[d]&&(p.length=0),n=n.parentNode)}for(n of p)(r=n.d||(n.d={}))[d]=1},Ce=(e,t,r,i)=>{let o=0|ue[e],a=0|be[e],l=0|xe[e],n=r?-1:1,d=r?U:O;4&i&&(a+=n,be[e]=a),8&i&&(l+=n,xe[e]=l);let p,c=ge[e];a&&l?p=ve:a?p=_e:l&&(p=we),o&&r!==o?p!=c&&(U(s,e,Se,c),O(s,e,Se,p)):d(s,e,Se,r?c:p),ge[e]=p,ue[e]=o+n,t&&(me[e]=(0|me[e])+n)};let ze={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},Ee=/[&<>"'\`]/g,Te=e=>null==e?"":""+e,Ae=e=>ze[e],Le=e=>Te(e).replace(Ee,Ae),Ie={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},qe=e=>Ie[e],Re=/[!')(*]/g,je=e=>a(Te(e)).replace(Re,qe),Me=/[\\'"]/g,Ne=e=>Te(e).replace(Me,"\\$&"),Oe=(e,t,r)=>(e[r]=t,r),Ue=(e,r,i)=>{if(e.a&&(i=e.tmpl)){let r,o=e.k,a=e.id,l=ie[a],s={a:[],b:0},n=e.d,d=l.a;e.l=0,e.k={},r=i(n,Ve,a,Te,je,d,Oe,Ne,b);let p=()=>{if(e.a)for(r of((i=s.c||!e.h)&&it(e),s.a))W(r.g,t,r,"\x1e"+r.id)},c=()=>{if(e.m=r,e.n>1)e.n=1,p(),Ue(e);else{for(r of(e.n=0,p(),o=e.o))r();o.length=0}};W(Je,[e.root,e.m,r,s,l,o,e,c])}},Be={},Ve=(e,t,r,i,o)=>{let a;if(e){t=t||Be;let l,s,n,d,p,c="",h={},f=0,u="<"+e,g="",b="",x=[],m=0;if(r)for(d of r){if(n=d.a,d.b==De){if(!n)continue;n=Le(n)}b+=n,p&&d.b==De&&p.b==De?p.a+=d.a:(d.d&&(h[d.d]=(h[d.d]||0)+1,f++),l=l||d.e,p=d,x.push(d))}for(s in i=i||Be,t)!1!==(n=t[s])&&null!=n?(!0===n&&(t[s]=n=i[s]?n:""),"id"==s||"mx5-key"==s?c=n:"_"!=s||c?"mx5-view"==s&&n&&(m=1,c||(c=e+"\x1e"+$(n).path)):c=n,"value"==s&&"textarea"==e?(b=n,g+=n):I(Fe,s)||(u+=` ${s}="${n&&Le(n)}"`)):i[s]||delete t[s];g+=u,a={a:u+=o?"/>":`>${b}</${e}>`,c:b,d:c,b:e,f:m,e:l||t.$,g:i,h:g,i:t,j:x,k:h,l:f,m:o}}else a={b:t?"\x1e":De,a:r+""};return a},Fe={_:1,$:1,"mx5-key":1};let De=e;let $e="http://www.w3.org/",Ke={svg:`${$e}2000/svg`,math:`${$e}1998/Math/MathML`},Pe=(e,t,r)=>{let i,o,a,l=0,s=r.g,n=t.g,d=r.i,p=t.i;if(t)for(i in p)I(d,i)||(l=1,(a=n[i])?e[a]="":e.removeAttribute(i));for(i in d)I(Fe,i)||(o=d[i],(a=s[i])?t&&e[a]==o||(l=1,e[a]=o):t&&p[i]==o||(l=1,e.setAttribute(i,o)));return l},Xe=(e,t)=>{let r,o=e.b;return o==De?r=i.createTextNode(e.a):(r=i.createElementNS(Ke[o]||t.namespaceURI,o),Pe(r,0,e),y(r,e.c)),r},Ye=(e,t,r,i,o)=>{let a,l,s,n={};for(a=i;a>=r;a--,o--)(s=(l=e[a]).d)&&(l=n[s]||(n[s]=[])).push(t[o]);return n},He=(e,t)=>e.d&&t.d==e.d||!e.d&&!t.d&&e.b==t.b||"\x1e"==t.b,We=(e,t,r,i)=>{r&&((i=ie.b)?i.unmount():se(t,e))},Ge=(e,t,r,i,o)=>{We(e,r,1==e.nodeType),t.removeChild(e),--i.b||W(o)},Je=(e,t,r,i,o,a,l,s)=>{if(l.a)if(t){if(t.e||t.c!=r.c){let n,d,p,c,h,f=t.j,u=r.j,g=r.k,b=r.l,x=t.l,m=e.childNodes,w=0,_=f.length-1,v=0,k=u.length-1;0;let S,C=f[w],z=f[_],E=u[v],T=u[k],A=w,L=_;for(;w<=_&&v<=k;)if("\x1e"!=E.b&&"\x1e"!=T.b||(L=-1),C)if(z)if(He(C,E))i.b++,W(Qe,[m[A],e,C,E,i,o,a,l,s]),g[C.d]&&(g[C.d]--,b--,(c=h&&h[C.d])&&--h[C.d]),A++,C=f[++w],E=u[++v];else if(He(z,T))i.b++,W(Qe,[m[L],e,z,T,i,o,a,l,s]),g[z.d]&&(g[z.d]--,b--),L--,z=f[--_],T=u[--k];else if(He(C,T))d=m[A],e.insertBefore(d,m[L+1]),i.b++,W(Qe,[d,e,C,T,i,o,a,l,s]),g[C.d]&&(g[C.d]--,b--),L--,C=f[++w],T=u[--k];else if(He(E,z))d=m[L],e.insertBefore(d,m[A++]),i.b++,W(Qe,[d,e,z,E,i,o,a,l,s]),g[z.d]&&(g[z.d]--,b--),z=f[--_],E=u[++v];else{if(!h&&b>0&&x>0&&(h=Ye(f,m,w,_,L)),S=m[A],(c=h&&h[E.d])&&(c=c.pop())){if(p=C,c!=S){for(d=w+1,n=A+1;d<=_;d++)if((p=f[d])&&m[n++]==c){f[d]=null;break}w--,e.insertBefore(c,S)}g[p.d]&&g[p.d]--,i.b++,W(Qe,[c,e,p,E,i,o,a,l,s])}else h&&h[C.d]&&g[C.d]||ie[S.b]&&!E.f?(i.c=1,e.insertBefore(Xe(E,e),S),w--,L++):(i.b++,W(Qe,[S,e,C,E,i,o,a,l,s]));++A,C=f[++w],E=u[++v]}else z=f[--_];else C=f[++w];for(n=v,d=1;n<=k;n++,d++){if(p=u[n],i.c=1,"\x1e"==p.b){i.c=1,y(e,p.a);break}e.insertBefore(Xe(p,e),m[L+d])}for(n=A;n<=L;n++)i.c=1,i.b++,W(Ge,[m[n],e,o,i,s])}}else i.c=1,y(e,r.c);i.b||W(s)},Qe=(e,t,r,i,o,a,l,s,n)=>{if(s.a){0;let d=r.i,p=i.i;if(r.e||r.a!=i.a)if("\x1e"==i.b)o.c=1,y(t,i.a);else if(r.b==i.b){if(r.b==De)o.c=1,e.nodeValue=i.a;else if(!d._||d._!=p._){let t,c,h,f,u,g,b,x=p["mx5-view"],m=i.c,y=r.h!=i.h,w=ie[e.b],_=x&&$(x);if(y&&(y=Pe(e,r,i))&&(o.c=1),x&&w&&w.i==_.path&&(f=w.d)){if(g=m!=r.c,b=x!=w.path,h=d.$,!g&&!b&&h)for(h of u=h.split(","))if("#"==h||I(l,h)){b=1;break}(b||g)&&(h=f.f,u=_.params,oe(w.pId,x,u),w.path=x,w.g=m,!1!==L(h,u,f)&&o.a.push(f),t=!f.tmpl)}else t=1,c=w;c&&(o.c=1,w.unmount()),t&&!i.m&&Je(e,r,i,o,a,l,s,n)}}else o.c=1,We(e,a,1),t.replaceChild(Xe(i,t),e)}--o.b||W(n)},Ze={},et=S({get:e=>e?Ze[e]:Ze,set(e){S(Ze,e)}},re),tt=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,rt=(e,t,r)=>(e.a?r=e:((r=function(e,t){for(t of r.a)L(t,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),it=e=>{let t,r;e.a&&(r=e.h,e.h=1,((e,t,r,i)=>{for(r of(t=t||e.root).querySelectorAll(`[mx5-view][mx5-owner="${e.id}"]`))r.a||(r.a=1,e.mount(r,T(r,"mx5-view")))})(t=e.owner),r||W(le,t))},ot=(e,t)=>{let r,{j:i,i:o,p:a,id:l}=e;for(r in i)Ce(r,o[r],t,i[r]);for(r of(i=t?U:O,a))i(r.a,r.b,r.c,r.d,l,e)},at={win:r,doc:i};function lt(...e){return S(this,...e),this}let st=(e,t,r)=>{let i,o,a,l,s={};for(o of e)for(i in o)a=o[i],l=s[i],"ctor"!=i?(tt.test(i)&&(l?a=rt(l,a):a.b=1),s[i]=a):r.push(a);for(i in s)I(t,i)||(t[i]=s[i])};function nt(...e){let t=this.a||(this.a=[]);return st(e,this[h],t),this}let dt=e=>(function(...t){return L(e,t,this)}),pt=(e,t,r,i)=>{if(e)for(i of e)L(i,t,r)};let ct=e=>{if(!e["\x1e"]){e["\x1e"]=1;let t,r,i,o,a,l,s,n,d,p,c,f=e[h],u={},g=[],b={};for(s in f)if(t=f[s],r=s.match(tt))for(n of([,l,i,o,c]=r,p=c?V(c):ye,o=o.split(","))){if(a=at[i],d=1,!1===p.passive&&(d|=4),p.capture&&(d|=8),l){if(a){g.push({c:t,a:a,b:n,d:p});continue}d=2,(a=b[n])||(a=b[n]=[]),a[i]||(a[i]=1,a.push(i))}u[n]|=d,(a=f[n=i+"\x1e"+n])?a.b&&(t.b?f[n]=rt(t,a):I(f,s)&&(f[n]=t)):f[n]=t}f.g=f.render=dt(f.render),f.j=u,f.p=g,f.i=b,f.f=f.assign}};function ht(e,t,r,i,o){(o=this).root=t,o.owner=r,o.id=e,o.a=1,o.l=1,o.d={},o.k={},o.n=0,o.o=[],pt(ht.a,i,o)}function ft(){this.id=x("b"),this.a={}}S(ht,{merge:nt,extend:function e(t){let r=this,i=(t=t||{}).ctor;function o(e,t,a,l,s){r.call(s=this,e,t,a,l),i&&L(i,l,s),pt(o.a,l,s)}return o.merge=nt,o.extend=e,o.static=lt,Q(o,r,t)}}),S(ht[h],re,{init:l,render:l,assign:l,get(e,t){return t=this.d,e&&(t=t[e]),t},set(e,t){let r,i,o,a=this,l=a.d,s=a.k,n=a.l;for(o in e)r=e[o],i=l[o],_(r)&&i==r||I(t,o)||(s[o]=1,n=1),l[o]=r;return a.l=n,a},digest(e,t){return e=this.set(e,t),new Promise(t=>{e.l?(e.n++,e.o.push(t),1==e.n&&Ue(e,1)):e.n?e.o.push(t):t()})},finale(){let e=this;return new Promise(t=>{e.n?e.o.push(t):t()})}}),S(ft[h],{get(e,t){let r,i=this.a;if(e){let t,r=b(e)?e.slice():(e+"").split(".");for(;(t=r.shift())&&i;)i=i[t];t&&(i=void 0)}return void 0!==t&&(r=u(t))!=u(i)&&(i=t),i},set(e){S(this.a,e)}});let ut=(e,t,r)=>i=>{if(r=e[t]){delete e[t];for(let e of r)L(e,i,r.a)}},gt=(e,t,r,i,o)=>{if(e.a)return e;if(e.b)return e.enqueue(gt.bind(e,e,t,r,i,o));e.b=1,b(t)||(t=[t]);let a=e.constructor,l=0,s=a.d,n=((e,t,r,i,o,a)=>{let l=[],s=null,n=0;return(t,d,p)=>{let h;n++;let f,u=t.b,g=u.a;if(l[d+1]=t,p?(s=p,h=1):a.has(g)||(g&&a.set(g,t),u.b=c(),(f=u.c)&&L(f,t,t),h=1),!r.a){let a=n==i;a&&(r.b=0,2==o&&(l[0]=s,L(e,l,r))),1==o&&L(e,[p||null,t,a,d],r)}}})(r,0,e,t.length,i,a.c);for(let e of t)if(e){let t,[r,i]=a.get(e,o),d=r.b.a,p=n.bind(r,r,l++);d&&s[d]?s[d].push(p):i?(d&&((t=[p]).a=r,s[d]=t,p=ut(s,d)),a.e(r,p)):p()}return e};function bt(){this.id=x("s"),this.f=[]}S(bt[h],{all(e,t){return gt(this,e,t,2)},save(e,t){return gt(this,e,t,2,1)},one(e,t){return gt(this,e,t,1)},enqueue(e){let t=this;return t.a||(t.f.push(e),t.dequeue(t.g)),t},dequeue(...e){let t,r=this;r.b||r.a||(r.b=1,o(()=>{r.b=0,r.a||(t=r.f.shift())&&L(t,r.g=e)}))},destroy(e){(e=this).a=1,e.f=0}});let xt=(e,t,r)=>[n(t),n(e)].join("\x1e"),mt=S({add(e){let t,r=this.h;for(t of(b(e)||(e=[e]),e))if(t){let{name:e,cache:i}=t;t.cache=0|i,r[e]=t}},create(e){let t=this.meta(e),r=0|e.cache||t.cache,i=new ft;i.set(t),i.b={c:t.after,a:r&&xt(t,e)},g(e)&&i.set(e);let o=t.before;return o&&L(o,i,i),i},meta(e){return this.h[e.name||e]||e},get(e,t){let r,i,o=this;return t||(r=o.cached(e)),r||(r=o.create(e),i=1),[r,i]},cached(e){let t,r,i=this,o=i.c,a=i.meta(e),l=0|e.cache||a.cache;if(l&&(r=xt(a,e)),r){let e=i.d[r];e?t=e.a:(t=o.get(r))&&c()-t.b.b>l&&(o.del(r),t=0)}return t}},re);bt.extend=((e,t,r)=>{function i(){bt.call(this)}return i.e=e,i.c=new j(t,r),i.d={},i.h={},S(i,mt),Q(i,bt)});let yt=0,wt={config:(e,t)=>(t=w,e&&(t=g(e)?S(t,e):t[e]),t),boot(e){yt||(yt=1,S(w,e),de(((e,t)=>(ee||(s=i.body,e=te=w.rootId,(t=m(e))||(t=s),ee=new ce(t)),ee))(),w.defaultView))},unboot(){yt&&ee&&(ee.unmount(),ee=null)},toMap:(e,t)=>{let r,i={};if(e)for(r of e)i[t&&r?r[t]:r]=t?r:1+(0|i[r]);return i},toTry:L,toUrl:(e,t,r)=>{let i,o,l,s=[];for(o in t)((i=t[o]+"")||I(r,o))&&(i=a(i),s.push(l=o+"="+i));return l&&(e+=(e&&(e.includes("?")?"&":"?"))+s.join("&")),e},parseUrl:$,guid:x,use:J,dispatch:(e,t,r)=>{let i=new Event(t,M);S(i,r),e.dispatchEvent(i)},guard:Z,type:u,has:I,inside:v,applyStyle:A,Cache:j,View:ht,Vframe:ce,State:et,Service:bt,Event:re,mark:(e,t,r,i,o)=>(null!==e[o="\x1ea"]&&(r=e[o]||(e[o]={}),I(r,t)||(r[t]=0),i=++r[t]),r=>(r=e[o],r&&i===r[t])),unmark:k,node:m,task:W,taskFinale:()=>new Promise(e=>{W(e)})};return wt.default=wt,wt});let designer=e=>{let t=document.getElementById("boot").src.replace(/\/[^\/]+$/,"/");seajs.config({paths:{display:t+"display",elements:t+"elements",i18n:t+"i18n"},alias:{magix:"magix5"}}),seajs.use(["magix5","i18n/index"],(t,r)=>{t.applyStyle("rd-_",'body,h5,input,p,textarea,ul{margin:0;padding:0}ul{list-style-type:none;list-style-image:none}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.5}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h5{font-size:14px}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a:focus,button:focus,input:focus,textarea,textarea:focus{outline:none;resize:none}a{color:#fa742b;text-decoration:none}a:focus,a:hover{color:#bd361b}a:active,a:focus,a:hover,a:visited{outline:0;text-decoration:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}.rd-_{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;white-space:nowrap;padding:4px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-_:focus,.rd-_:hover{background-color:#a0a0a0;color:#333}.rd-a{background-color:#fa742b;color:#fff}.rd-a:focus,.rd-a:hover{background-color:#bd361b;color:#fff}.rd-_[disabled]{background-color:#f5f5f5;color:#999}.rd-_[disabled]:hover{border-color:#e6e6e6;color:#999}.rd-b{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143;background:#fff}.rd-c{padding:18px 25px}.rd-d{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6;background:#fff}.rd-e{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.rd-e:after,.rd-e:before{content:""}.rd-e:after,.rd-e:before,.rd-f{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:rd-_ 1s ease-in-out infinite both;animation:rd-_ 1s ease-in-out infinite both}.rd-e:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.rd-f{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}::-moz-placeholder{color:#999}:-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(243,123,99,.6)}::selection{background-color:rgba(243,123,99,.6)}.rd-g,.rd-h{caret-color:#fa742b;display:inline-block;height:22px;padding:3px 4px;border-radius:2px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none;transition:border-color .25s}.rd-g:hover,.rd-h:hover{border-color:#ccc}.rd-g:focus,.rd-h:focus,.rd-i,.rd-i:hover{border-color:#fa742b!important}.rd-h{height:auto}.rd-g[disabled],.rd-h[disabled]{background-color:#f5f5f5}.rd-g[disabled]:hover,.rd-h[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}body{min-width:1400px}@font-face{font-family:rd-_;src:url(//at.alicdn.com/t/font_890516_u72xf5w7ux.eot);src:url(//at.alicdn.com/t/font_890516_u72xf5w7ux.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_890516_u72xf5w7ux.woff2) format("woff2"),url(//at.alicdn.com/t/font_890516_u72xf5w7ux.woff) format("woff"),url(//at.alicdn.com/t/font_890516_u72xf5w7ux.ttf) format("truetype"),url(//at.alicdn.com/t/font_890516_u72xf5w7ux.svg#iconfont) format("svg")}.rd-j{font-family:rd-_;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rd-k{font-size:12px}.rd-l{margin-right:2px}.rd-m{transform:rotate(180deg)}.rd-n{transform:rotate(90deg)}.rd-o{transform:rotate(270deg)}.rd-p{margin-right:10px}.rd-q{margin-left:5px}.rd-r{margin-left:10px}.rd-s{width:100%}.rd-t{height:100%}.rd-u{text-align:center}.rd-v{float:left}.rd-w{float:right}.rd-x{cursor:pointer}.rd-y{position:absolute}.rd-z{position:relative}.rd-A{pointer-events:none}.rd-B{pointer-events:all}.rd-C{margin:30px 0}.rd-D{font-size:16px}html .rd-E{display:none}.rd-F:after,.rd-F:before{content:" ";display:table}.rd-F:after{clear:both}.rd-G{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-H::-webkit-scrollbar,.rd-H::-webkit-scrollbar-corner{height:4px;width:4px;background:#edeef3}.rd-H::-webkit-scrollbar-thumb{background:#fa742b;border-radius:2px}.rd-H::-webkit-scrollbar-thumb:hover{background:#e64e30}.rd-I{scroll-behavior:smooth}.rd-I::-webkit-scrollbar,.rd-I::-webkit-scrollbar-corner{height:2px;width:2px;background:#fafafa}.rd-J{white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.rd-K{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.rd-L{display:flex}.rd-M{align-items:center}.rd-N{transform:scaleX(-1)}.rd-O{margin-left:150px}.rd-P{position:-webkit-sticky;position:sticky;top:0}.rd-Q{text-align:center}.rd-R{margin-bottom:4px}.rd-S{margin-top:4px}.rd-T{width:140px}.rd-U{width:220px}.rd-V{height:100px}.rd-W{justify-content:space-between}.rd-X{justify-content:center}.rd-Y{flex-wrap:wrap}.rd-Z{cursor:pointer}.rd-0{border-collapse:collapse}.rd-1{border:1px solid #000;padding:0;word-break:break-all}.rd-2{overflow:hidden;white-space:pre}.rd-3{border:2px solid #fa742b}.rd-4{border-right:6px solid #fa742b;right:-4px}.rd-4,.rd-5{pointer-events:all}.rd-5{border-bottom:6px solid #fa742b;bottom:-4px}.rd-6{left:-1px;top:-1px;bottom:-1px;right:-1px;pointer-events:none;z-index:1}.rd-7{box-shadow:inset 2px 2px 10px rgba(0,0,0,.2);background-color:rgba(250,116,43,.06274509803921569);left:0;top:0;bottom:0;right:0}.rd-8{width:80px;text-align:right}.rd-9{background:rgba(250,116,43,.2)}.rd-a_{align-items:flex-start}.rd-aa{display:flex;align-items:center;cursor:pointer}.rd-ab{visibility:hidden;position:absolute}.rd-ac{width:32px;height:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;border-radius:22px;background:#ccc}.rd-ac:before{content:"";width:12px;height:12px;position:absolute;left:0;margin:2px;border-radius:50%;background:#fff;transition:all .25s}.rd-ab:checked+.rd-ac{background:#fa742b}.rd-ab:checked+.rd-ac:before{left:100%;margin-left:-14px}.rd-ab:disabled+.rd-ac{background:#e6e6e6;cursor:not-allowed}.rd-ad{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-ad:hover{background:#ccc}.rd-ae,.rd-ae:hover{background:#fa742b;color:#fff}.rd-af,.rd-af .rd-ad{cursor:not-allowed;opacity:.7}.rd-af .rd-ad,.rd-af .rd-ad:hover{background:#e9e9e9}.rd-af .rd-ae,.rd-af .rd-ae:hover{background:#fb955d}.rd-ag{color:#999}.rd-ah{color:#666}.rd-ai{overflow:hidden}.rd-aj{font-size:10px}.rd-ak{right:2px}.rd-al{top:2px}.rd-am{bottom:2px}.rd-an{position:absolute;border:1px dashed #fa742b;display:none;pointer-events:none;z-index:2}.rd-ao{max-height:100%}.rd-ap{border:1px dotted #999}.rd-aq{max-width:100%}.rd-ar{max-height:100%}');let i=navigator.language.toLowerCase();try{let e=window.localStorage;e&&(i=e.getItem("l.lang")||i)}catch(e){}t.config(e),t.config({lang:i}),document.title=r("E");let o=/(?:\r\n|\r|\n)/g,a={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},l=/[&<>"'\`]/g,s=e=>a[e],n=e=>(e+"").replace(l,s).replace(o,"<br/>");t.View.merge({ctor(){this.set({textReturn:n,i18n:r})}}),t.boot({defaultPath:"/index",defaultView:"printer/index",rootId:"app",error(e){setTimeout(()=>{throw e},0)}})})};define("i18n/index",["magix","./zh-cn"],(e,t,r)=>{const i=e("magix"),o=e("./zh-cn"),a={"zh-cn":o,zh:o},l=i.has,s=/\{(\d+)\}/g;r.exports=((e,...t)=>{let r=(i.config("lang")||navigator.language).toLowerCase();l(a,r)||(r="zh-cn");let o=a[r],n=l(o,e)?o[e]:e;return t.length&&(n=n.replace(s,(e,r,i)=>(r|=0,t.length>r?(i=t[r],l(o,i)?o[i]:i):e))),n})}),define("i18n/zh-cn",[],(e,t,r)=>{r.exports={E:"\u4e0d\u4e8c\u638c\u67dc\u6253\u5370\u8bbe\u8ba1\u5668",bA:"\u63d0\u793a",bB:"\u786e\u5b9a",bC:"\u53d6\u6d88",S:"\u653e\u5927(Ctrl+\u52a0\u53f7)",R:"\u7f29\u5c0f(Ctrl+\u51cf\u53f7)",_:"\u5220\u9664\u8f85\u52a9\u7ebf",a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",J:"\u64a4\u9500(Ctrl+Z)",K:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",b2:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",b3:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",b4:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",b5:"\u5143\u7d20",b6:"\u5c5e\u6027",b7:"\u6570\u636e\u6e90",b8:"\u6982\u89c8\u56fe",Q:"\u6253\u5f00{0}\u9762\u677f(\u6570\u5b57\u952e{1})",P:"\u5173\u95ed{0}\u9762\u677f(\u6570\u5b57\u952e{1})",b9:"\u5c55\u5f00{0}\u9762\u677f(Shift+\u6570\u5b57\u952e{1})",c_:"\u6298\u53e0{0}\u9762\u677f(Shift+\u6570\u5b57\u952e{1})",W:"\u6253\u5f00\u6240\u6709\u9762\u677f(Shift+Z)",V:"\u5173\u95ed\u6240\u6709\u9762\u677f(Shift+Z)",aL:"\u6309\u4e0b\u62d6\u52a8\u65cb\u8f6c\u5143\u7d20",aE:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6",aF:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u9ad8\u5ea6",aM:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6\u548c\u9ad8\u5ea6",aX:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u8c03\u6574\u70b9",ca:"\u7c7b\u578b\uff1a",Y:"X\u5750\u6807\uff1a",Z:"Y\u5750\u6807\uff1a",a_:"\u5bbd\uff1a",ah:"\u7ebf\u6761\u5bbd\uff1a",aa:"\u9ad8\uff1a",ap:"\u65cb\u8f6c\u89d2\u5ea6\uff1a",aR:"\u6c34\u5e73\u955c\u50cf\uff1a",aQ:"\u5782\u76f4\u955c\u50cf\uff1a",a6:"\u80cc\u666f\u989c\u8272\uff1a",bo:"\u6587\u5b57\u989c\u8272\uff1a",bl:"\u5b57\u53f7\uff1a",bm:"\u5b57\u4f53\uff1a",a2:"\u7f51\u683c\uff1a",bE:"\u6587\u672c\uff1a",a4:"\u7f51\u683c\u9ad8\uff1a",a3:"\u7f51\u683c\u5bbd\uff1a",a5:"\u62d6\u52a8\u5438\u9644\uff1a",aZ:"\u7eb8\u5f20\u5c3a\u5bf8\uff1a",a7:"\u80cc\u666f\u56fe\u7247\uff1a",aW:"\u989c\u8272\uff1a",ag:"\u7ebf\u6761\u989c\u8272\uff1a",a8:"\u5e73\u94fa\u65b9\u5f0f\uff1a",a9:"\u62c9\u4f38\u94fa\u6ee1",b_:"\u539f\u59cb\u5c3a\u5bf8",ba:"\u6a2a\u5411\u5e73\u94fa",bb:"\u5782\u76f4\u5e73\u94fa",bc:"\u53cc\u5411\u5e73\u94fa",ad:"\u7ed1\u5b9a\u5b57\u6bb5\uff1a",ak:"\u5b98\u65b9\u7f51\u7ad9\uff1a",an:"\u9501\u5b9a\u7f16\u8f91\uff1a",am:"\u5143\u7d20\u540d\u79f0\uff1a",ab:"\u900f\u660e\u5ea6\uff1a",ae:"\u7f16\u7801\u683c\u5f0f\uff1a",af:"\u663e\u793a\u6587\u672c\uff1a",bn:"\u5b57\u95f4\u8ddd\uff1a",ac:"\u5185\u5bb9\uff1a",bp:"\u6837\u5f0f\uff1a",bq:"\u6392\u5217\uff1a",aU:"\u957f\uff1a",aO:"\u56fe\u7247\uff1a",av:"\u8fb9\u6846\u989c\u8272\uff1a",aw:"\u586b\u5145\u989c\u8272\uff1a",aV:"\u7ebf\u7c7b\u578b\uff1a",ar:"\u8fb9\u6846\u7c7b\u578b\uff1a",aq:"\u8fb9\u6846\u5bbd\u5ea6\uff1a",bj:"\u5706\u89d2\uff1a",as:"\u5b9e\u7ebf",au:"\u865a\u7ebf",at:"\u70b9\u7ebf",bd:"\u56fe\u7247\u5bbd\uff1a",be:"\u56fe\u7247\u9ad8\uff1a",aP:"\u8fd8\u539f\u5c3a\u5bf8\uff1a",bf:"\u6c34\u5e73(%)\uff1a",bg:"\u5782\u76f4(%)\uff1a",al:"\u5e2e\u52a9\uff1a",aD:"\u683c\u5b50\u64cd\u4f5c\uff1a",aB:"\u683c\u5b50\u5bbd\u9ad8\uff1a",bD:"\u683c\u5b50\u80cc\u666f\uff1a",aH:"\u7559\u767d\uff1a",cb:"\u6700\u5927\u5bbd\u5ea6\uff1a",cc:"\u6700\u5927\u9ad8\u5ea6\uff1a",ai:"\u6a2a\u5411\u5145\u6ee1\uff1a",aj:"\u7eb5\u5411\u5145\u6ee1\uff1a",aI:"\u9690\u85cf\u5408\u8ba1\uff1a",aJ:"\u9690\u85cf\u5e95\uff1a",aC:"\u8fb9\u6846\u663e\u793a\uff1a",ay:"\u8fb9\u6846\u884c\u4e3a\uff1a",az:"\u5408\u5e76",aA:"\u5206\u79bb",a0:"\u6c34\u5e73\u504f\u79fb\uff1a",a1:"\u5782\u76f4\u504f\u79fb\uff1a",j:"\u5168\u9009",m:"\u7c98\u8d34",k:"\u590d\u5236",l:"\u526a\u5207",r:"\u5220\u9664",L:"\u7ec4\u5408\u9009\u4e2d\u5143\u7d20",M:"\u53d6\u6d88\u7ec4\u5408\u5143\u7d20",N:"\u9501\u5b9a\u7f16\u8f91",O:"\u89e3\u9501\u7f16\u8f91",y:"\u7ec4\u5408",z:"\u53d6\u6d88\u7ec4\u5408",n:"\u4e0a\u79fb\u4e00\u5c42",p:"\u79fb\u81f3\u9876\u5c42",o:"\u4e0b\u79fb\u4e00\u5c42",q:"\u79fb\u81f3\u5e95\u5c42",A:"\u540c\u6b65\u5bbd\u4f5c\u4e3a\u9ad8",B:"\u540c\u6b65\u9ad8\u4f5c\u4e3a\u5bbd",C:"\u540c\u6b65\u5bbd",D:"\u540c\u6b65\u9ad8",s:"\u5de6\u5bf9\u9f50",t:"\u53f3\u5bf9\u9f50",v:"\u4e0a\u5bf9\u9f50",w:"\u4e0b\u5bf9\u9f50",x:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",u:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50",bY:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",bW:"\u6e05\u9664\u56fe\u7247",bX:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",bZ:"\u56fe\u7247\u5e93",by:"\u6e05\u9664\u989c\u8272",bk:"\u6587\u672c",aY:"\u7f16\u8f91\u533a",aT:"\u76f4\u7ebf",aG:"\u6570\u636e\u8868\u683c",bh:"\u4e8c\u7ef4\u7801",bi:"\u77e9\u5f62",aN:"\u56fe\u7247",ao:"\u5706\u5f62",aK:"\u8868\u683c\u5bb9\u5668",ax:"\u5355\u5143\u683c",X:"\u6761\u5f62\u7801",aS:"\u8bf7\u9009\u62e9\u56fe\u7247",bS:"\u52a0\u7c97",bT:"\u659c\u4f53",bU:"\u4e0b\u5212\u7ebf",bV:"\u5220\u9664\u7ebf",bs:"\u6c34\u5e73\u5c45\u5de6",bt:"\u6c34\u5e73\u5c45\u4e2d",bu:"\u6c34\u5e73\u5c45\u53f3",bv:"\u5782\u76f4\u5c45\u4e0a",bw:"\u5782\u76f4\u5c45\u4e2d",bx:"\u5782\u76f4\u5c45\u4e0b",bR:"\u62d6\u52a8\u6570\u636e\u6e90\u5b57\u6bb5\u5230\u8fd9\u91cc",bF:"\u4e0a\u65b9\u6dfb\u52a0\u884c",bG:"\u4e0b\u65b9\u6dfb\u52a0\u884c",bH:"\u5de6\u4fa7\u6dfb\u52a0\u5217",bI:"\u53f3\u4fa7\u6dfb\u52a0\u5217",bJ:"\u5220\u9664\u5f53\u524d\u884c",bK:"\u5220\u9664\u5f53\u524d\u5217",bL:"\u6c34\u5e73\u62c6\u5206\u5355\u5143\u683c",bM:"\u5782\u76f4\u62c6\u5206\u5355\u5143\u683c",bN:"\u5411\u5de6\u5408\u5e76\u5355\u5143\u683c",bP:"\u5411\u4e0a\u5408\u5e76\u5355\u5143\u683c",bO:"\u5411\u53f3\u5408\u5e76\u5355\u5143\u683c",bQ:"\u5411\u4e0b\u5408\u5e76\u5355\u5143\u683c",bz:"\u786e\u5b9a",b1:"\u70b9\u51fb\u663e\u793a{0}\u8fb9\u6846",b0:"\u70b9\u51fb\u9690\u85cf{0}\u8fb9\u6846",cd:"\u539f\u59cb\u56fe\u7247\u5bbd\u9ad8",br:"\u8bf7\u8f93\u5165\u5185\u5bb9",T:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u5bbd\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u5bbd\u5ea6)\u540c\u6b65\u5bbd\u5ea6",U:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u9ad8\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u9ad8\u5ea6)\u540c\u6b65\u9ad8\u5ea6",ce:"\u8bf7\u5728\u4e0a\u65b9\u9009\u62e9\u6570\u636e\u6e90",cf:"\u8bf7\u5148\u9009\u4e2d\u652f\u6301\u6570\u636e\u7ed1\u5b9a\u7684\u7ec4\u4ef6",b:"\u5b8b\u4f53",c:"\u9ed1\u4f53",f:"\u6977\u4f53",d:"\u5fae\u8f6f\u96c5\u9ed1",e:"\u5fae\u8f6f\u6b63\u9ed1\u4f53",g:"\u96b6\u4e66",h:"\u5e7c\u5706",G:"\u677e\u5f00\u653e\u5728\u7f16\u8f91\u533a",I:"\u677e\u5f00\u653e\u5728\u683c\u5b50\u91cc",H:"\u4e0d\u80fd\u653e\u7f6e",i:"\u4fdd\u5b58\u5185\u5bb9",cg:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",F:"\u7cfb\u7edf\u6b63\u5fd9..."}}),define("designer/service",["magix"],(e,t,r)=>{const i=e("magix");let o=i.Service.extend((e,t)=>{let r=e.get("method")||"GET",o=e.get("query"),a=e.get("body"),l=e.get("url"),s=i.config("version")||Date.now();o||(o={}),o.v=s;let n={method:r,credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded"}};o&&(l=i.toUrl(l,o)),a&&(n.body=a),fetch(l,n).then(e=>{if(e.ok)return e.json();throw new Error("Network response error")}).then(r=>{1!=r.status?t({msg:r.message}):(e.set({data:r.data}),t())}).catch(e=>{t({msg:e.message})})});o.add([{name:"_bK",url:i.config("getImageUrl"),cache:18e5},{name:"_bL",url:i.config("getFieldUrl"),cache:18e5},{name:"_bM",cache:18e5},{name:"_an",url:i.config("getTemplateUrl"),cache:18e5},{name:"_bi",url:i.config("saveContentUrl"),method:"POST"},{name:"_bk",url:i.config("getContentUrl")}]),r.exports={fetch:(e,t)=>(new o).all(e,t),save:(e,t)=>(new o).save(e,t)}}),define("designer/transform",["magix"],(e,t,r)=>{const i=e("magix");let{sqrt:o,round:a,pow:l,atan:s,PI:n,sin:d,cos:p,min:c,max:h,atan2:f,tan:u,abs:g}=Math,b=n/180,x={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7},m={0:1,2:1,4:1,6:1,1:2,5:2,3:3,7:3};r.exports={_cH({x:e,y:t}){let r=i.node("s_canvas").getBoundingClientRect();return{x:e-=r.left,y:t-=r.top}},_dx(e,{x:t,y:r,f:i}){let o=e;if(i)for(;o.parentNode&&"hod"!=o.dataset.as;)o=o.parentNode;let a=o.getBoundingClientRect();return{x:t-=a.left,y:r-=a.top}},_cK({x:e,y:t}){let r=i.node("s_canvas").getBoundingClientRect();return{x:e+=r.left,y:t+=r.top}},_dy(e){let t=e/i.State.get("_d");return t|=0},_dz:e=>e*i.State.get("_d"),_cU({x:e,y:t,width:r,height:i},f){let u=o(l(r,2)+l(i,2))/2,g=r?a(180*s(i/r)/n):0,x=180-f-g,m=g-f,y=90-f,w=f,_=r/2,v=i/2,k=e+_,S=t+v,C={x:k+u*p(x*b),y:S-u*d(x*b)},z={x:k+v*p(y*b),y:S-v*d(y*b)},E={x:k+u*p(m*b),y:S-u*d(m*b)},T={x:k+_*p(w*b),y:S+_*d(w*b)},A={x:k-u*p(x*b),y:S+u*d(x*b)},L={x:k-v*d(w*b),y:S+v*p(w*b)},I={x:k-u*p(m*b),y:S+u*d(m*b)},q={x:k-_*p(w*b),y:S-_*d(w*b)},R=c(C.x,E.x,A.x,I.x),j=h(C.x,E.x,A.x,I.x),M=c(C.y,E.y,A.y,I.y),N=h(C.y,E.y,A.y,I.y);return{point:[C,z,E,T,A,L,I,q],width:j-R,height:N-M,left:R,right:j,top:M,bottom:N}},_dF(e,t){let r={},i={},o=x[t],a=0;i=e[o];let l=o-4;return l<0&&(l=o+4),r=e.slice(l,l+1)[0],{_dA:o,_dB:m[o],_dC:i,_dD:a=l,_dE:r}},_dG(e,t){let{x:r,y:i,width:o,height:a,scale:l}=e,s={x:0,y:0},n=o*(l.x-1),d=a*(l.y-1),p=o+n,c=a+d,h=r-n/2,f=i-d/2;if(t){let e=[{x:r,y:i},{x:r+o,y:i},{x:r+o,y:i+a},{x:r,y:i+a}],l=[{x:h,y:f},{x:h+p,y:f},{x:h+p,y:f+c},{x:h,y:f+c}];s.x=e[t].x-l[t].x,s.y=e[t].y-l[t].y}return{x:h+s.x,y:f+s.y,width:p,height:c}},_dH(e,t,r,i){let o=this._dG({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),a=o.width,l=o.height,s=this._cU(o,e.rotate),n=r.point[i].x-s.point[i].x+s.left,d=r.point[i].y-s.point[i].y+s.top;return{left:n+s.width/2-a/2,top:d+s.height/2-l/2,width:a,height:l}},_cD({x:e,y:t,width:r,height:i,rotate:o}){let a={x:e+r/2,y:t+i/2},l={x:e,y:t},s=this._dI(l,a);return this._dJ(l,a,s+o)},_dI:(e,t)=>(360+180*f(e.y-t.y,e.x-t.x)/n)%360,_dJ(e,t,r){let i=o(l(e.x-t.x,2)+l(e.y-t.y,2));return{x:t.x+i*p(r*b),y:t.y+i*d(r*b)}},_dK(e,t,r){let i=u(r*b);return{k:i,b:t-e*i}},_dL(e,t,r,i){let o=(i-t)/(r-e);return{k:o,b:t-e*o}},_dM:(e,t)=>o(l(e.x-t.x,2)+l(e.y-t.y,2)),_cZ(e,t){let[r,i]=e,[o,a]=t,l=((i.x-r.x)*(o.y-r.y)-(i.y-r.y)*(o.x-r.x))*((i.x-r.x)*(a.y-r.y)-(i.y-r.y)*(a.x-r.x)),s=((a.x-o.x)*(r.y-o.y)-(a.y-o.y)*(r.x-o.x))*((a.x-o.x)*(i.y-o.y)-(a.y-o.y)*(i.x-o.x));return l<0&&s<0},_dN:(e,t,r)=>(e.x=a(e.x),e.y=a(e.y),t.x=a(t.x),t.y=a(t.y),r.x=a(r.x),r.y=a(r.y),(e.x-t.x)*(r.y-t.y)==(r.x-t.x)*(e.y-t.y)&&c(t.x,r.x)<=e.x&&e.x<=h(t.x,r.x)&&c(t.y,r.y)<=e.y&&e.y<=h(t.y,r.y)),_cT(e,t){var r=e.width/2,i=e.height/2,o=t.width/2,a=t.height/2,l=e.x+r,s=e.y+i,n=t.x+o,d=t.y+a;return g(n-l)<=r+o&&g(d-s)<=i+a},_dO:(e,t)=>a(e.x)==a(t.x)&&a(e.y)==a(t.y)}}),define("elements/barcode/printer",["magix","../provider/barcode"],(e,t,r)=>{let i={style:"display:flex;align-items:center;justify-content:center;height:100%"};const o=e("magix"),a=e("../provider/barcode");r.exports=o.View.extend({tmpl:(e,t,r,o)=>{let a,l,s,n,d=[],{props:p,text:c,error:h}=e;return a=[],c&&!h||(n="",s=[t(0,0,n+=h?" "+o(h)+" ":" \u8bf7\u8f93\u5165\u6761\u5f62\u7801\u5185\u5bb9 ")],l=[t("div",i,s)],a.push(...l)),a.push(t("img",{id:r+"_bar",style:"width:100%;height:100%"},0,0,1)),d.push(t("div",{style:"position:absolute;z-index:1;left:"+o(p.x)+"px;top:"+o(p.y)+"px;height:"+o(p.fillY?"100%":p.height+"px")+";opacity:"+o(p.alpha)+";width:"+o(p.fillX?"100%":p.width+"px")+";transform:rotate("+o(p.rotate)+"deg);overflow:hidden"},a)),t(r,0,d)},assign(e){let{text:t,bind:r}=e.props;if(r.url){let e=r.fields[0];if(r._tip)t=r._tip;else if(r._data){let i=r._data;Array.isArray(i)&&(i=i[0]),t=i[e.id]}else t=`[bind:${e.id}]`}this.set(e),this.set({text:t})},async render(){let e=o.mark(this,"_e");await this.digest({error:null});try{if(await a._dR(),e()){let{linewidth:e,height:t,format:r,showText:i,color:o}=this.get("props"),a=this.get("text");!a||a==this._dU&&r==this._dV&&i==this._dW&&e==this._dX&&o==this._dY||(JsBarcode(`#${this.id}_bar`,a,{height:t,lineColor:this._dY=o,width:this._dX=e,format:this._dV=r,displayValue:this._dW=i}),this._dU=a)}}catch(t){e()&&this.digest({error:t})}}})}),define("elements/circle/printer",["magix"],(e,t,r)=>{const i=e("magix");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,a=[],{props:l}=e;return o="z-index:1;position:absolute;border-radius:50%;left:"+i(l.x)+"px;top:"+i(l.y)+"px;",l.borderwidth&&(o+="border:"+i(l.borderwidth)+"px "+i(l.bordertype)+" "+i(l.bordercolor)+";"),l.fillcolor&&(o+="background:"+i(l.fillcolor)+";"),o+="height:"+i(l.height)+"px;opacity:"+i(l.alpha)+";width:"+i(l.width)+"px;transform:rotate("+i(l.rotate)+"deg)",a.push(t("div",{style:o})),t(r,0,a)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/data-dtable/printer",["magix","../subs/barcode","../subs/qrcode"],(e,t,r)=>{e("../subs/barcode"),e("../subs/qrcode");let i={class:"rd-J"};const o=e("magix");r.exports=o.View.extend({tmpl:(e,t,r,o,a,l,s)=>{let n,d,p,c,h,f,u,g,b,x,m,y,w,_,v,k,S,C,z,E=[],{props:T}=e;d="",d+=" ";let A=T.borderwidth,L=T.bordertype,I=T.bordercolor,q=T.borderdeed,R=T.rows,j=T.bind;d+=" ";let M=Math.max(1,A);d+=" ";let N=("collapse"==q?1:2)*M;c=[];for(let e=R.length,n=0;n<e;n+=1){let e=R[n];if(h=[],!e.data&&!C||z&&!T.hideFoot){u=[];for(let i=e.cols,p=i.length,c=0;c<p;c+=1){let e=i[c];if(b=[],j._tip)x=[t(0,0,o(j._tip))],b.push(...x);else{if(x=[],e.elements&&e.elements.length){m=[];for(let i=e.elements,a=i.length,d=0;d<a;d+=1){let e=i[d];y=[t("div",{"mx5-owner":r,$:"props",id:o(e.id),"mx5-view":"elements/"+o(e.type)+"/printer?props="+s(l,e.props,"\x1ed."+n+".e."+c+".a."+d+".f")})],m.push(...y)}x.push(...m)}else{m=[],d="";let i=e.paddingTop,l=e.paddingBottom,s=e.paddingLeft,n=e.paddingRight;d+=" ";let p=e.width-N,c=e.height-N;i>c&&(i=c),i+l>c&&(l=c-i),s>p&&(s=p),s+n>p&&(n=p-s),y=[],"text"==e.type?(_=[],e.textContent&&(k=[t(0,1,o(e.textContent))],v=[t("div",0,k)],_.push(...v)),y.push(..._)):"image"==e.type?(_=[],e.imageContent&&(w="",(e.imageRotateX||e.imageRotateY)&&(w+=";transform:",e.imageRotateX&&(w+="rotateX(180deg)"),e.imageRotateY&&(w+=" rotateY(180deg)")),v=[t("img",{class:"rd-aq rd-ar",src:o(e.imageContent),style:w},0,0,1)],_.push(...v)),y.push(..._)):"barcode"==e.type?(_=[],e.barcodeContent&&(v=[t("div",{"mx5-owner":r,class:"rd-L",style:"height:"+o(c-i-l)+"px;align-items:"+o(e.vpos),"mx5-view":"elements/subs/barcode?lineColor="+a(e.barcodeColor)+"&lineWidth="+a(e.barcodeLineWidth)+"&showText="+a(e.barcodeShowText)+"&format="+a(e.barcodeFormat)+"&value="+a(e.barcodeContent)})],_.push(...v)),y.push(..._)):"qrcode"==e.type&&(_=[],e.qrcodeContent&&(v=[t("div",{"mx5-owner":r,style:"height:"+o(c-i-l)+"px","mx5-view":"elements/subs/qrcode?vpos="+a(e.vpos)+"&value="+a(e.qrcodeContent)})],_.push(...v)),y.push(..._)),w="padding:"+o(i)+"px "+o(n)+"px "+o(l)+"px "+o(s)+"px;width:"+o(p)+"px;height:"+o(c)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(w+="background:"+o(e.background)+";"),"text"==e.type&&(w+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(w+="font-weight:bold;"),e.textStyleItalic&&(w+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(w+="text-decoration:",e.textStyleStrike?w+="line-through":w+="underline",w+=";"),w+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px;"),m.push(t("div",{class:"rd-L rd-ai rd-s rd-t",style:w},y)),x.push(...m)}b.push(...x)}g=[t("td",{class:"rd-1 rd-ai",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;height:"+o(e.height)+"px;border-left:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bLeft?I:"#0000")+";border-top:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bTop?I:"#0000")+";border-right:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bRight?I:"#0000")+";border-bottom:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bBottom?I:"#0000")},b)],u.push(...g)}f=[t("tr",0,u)],h.push(...f)}if(e.data){if(f=[],C=1,j._data){u=[];for(let l=j._data,s=l.length,n=0;n<s;n+=1){let s=l[n];b=[];for(let l=e.cols,n=l.length,p=0;p<n;p+=1){let e=l[p];if(m=[],j._tip)y=[t(0,0,o(j._tip))],m.push(...y);else{y=[],d="";let l=e.paddingTop,n=e.paddingBottom,p=e.paddingLeft,c=e.paddingRight;d+=" ";let h,f=e.width-N,u=e.height-N;l>u&&(l=u),l+n>u&&(n=u-l),p>f&&(p=f),p+c>f&&(c=f-p),_=[],"text"==e.type?(v=[],e.bindKey&&(h=s[e.bindKey]),h&&(S=[t(0,1,o(h))],k=[t("div",i,S)],v.push(...k)),_.push(...v)):"image"==e.type?(v=[],e.bindKey&&(h=s[e.bindKey]),h&&(w="",(e.imageRotateX||e.imageRotateY)&&(w+=";transform:",e.imageRotateX&&(w+="rotateX(180deg)"),e.imageRotateY&&(w+=" rotateY(180deg)")),k=[t("img",{class:"rd-aq rd-ar",src:o(h),style:w},0,0,1)],v.push(...k)),_.push(...v)):"barcode"==e.type?(v=[],e.bindKey&&(h=s[e.bindKey]),h&&(k=[t("div",{"mx5-owner":r,class:"rd-L",style:"height:"+o(u-l-n)+"px;align-items:"+o(e.vpos),"mx5-view":"elements/subs/barcode?lineColor="+a(e.barcodeColor)+"&lineWidth="+a(e.barcodeLineWidth)+"&showText="+a(e.barcodeShowText)+"&format="+a(e.barcodeFormat)+"&value="+a(h)})],v.push(...k)),_.push(...v)):"qrcode"==e.type?(v=[],e.bindKey&&(h=s[e.bindKey]),h&&(k=[t("div",{"mx5-owner":r,style:"height:"+o(u-l-n)+"px","mx5-view":"elements/subs/qrcode?vpos="+a(e.vpos)+"&value="+a(h)})],v.push(...k)),_.push(...v)):e.bindKey&&(v=[t(0,0,"[\u672a\u6307\u5b9a\u6570\u636e\u5904\u7406\u65b9\u5f0f]"+o(h))],_.push(...v)),w="padding:"+o(l)+"px "+o(c)+"px "+o(n)+"px "+o(p)+"px;width:"+o(f)+"px;height:"+o(u)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(w+="background:"+o(e.background)),"text"==e.type&&(w+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(w+="font-weight:bold;"),e.textStyleItalic&&(w+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(w+="text-decoration:",e.textStyleStrike?w+="line-through":w+="underline",w+=";"),w+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px;"),y.push(t("div",{class:"rd-L rd-ai rd-s rd-t",style:w},_)),m.push(...y)}x=[t("td",{class:"rd-1",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;border-left:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bLeft?I:"#0000")+";border-top:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bTop?I:"#0000")+";border-right:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bRight?I:"#0000")+";border-bottom:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bBottom?I:"#0000")},m)],b.push(...x)}g=[t("tr",0,b)],u.push(...g)}f.push(...u)}h.push(...f)}else if(e.total){if(f=[],z=1,!T.hideTotal&&j._showAcc){g=[];for(let r=e.cols,i=r.length,a=0;a<i;a+=1){let e=r[a];if(x=[],j._tip)m=[t(0,0,o(j._tip))],x.push(...m);else{m=[],d="";let r=e.paddingTop,i=e.paddingBottom,a=e.paddingLeft,l=e.paddingRight;d+=" ";let s=e.width-N,n=e.height-N;r>n&&(r=n),r+i>n&&(i=n-r),a>s&&(a=s),a+l>s&&(l=s-a),d="",null!=e.sumValue?d+=" "+o(e.sumValue)+" ":d+=" "+o(e.textContent)+" ",y=[t(0,0,d)],w="padding:"+o(r)+"px "+o(l)+"px "+o(i)+"px "+o(a)+"px;width:"+o(s)+"px;height:"+o(n)+"px;align-items:"+o(e.vpos)+";justify-content:"+o(e.hpos)+";opacity:"+o(e.alpha)+";",e.background&&(w+="background:"+o(e.background)+";"),w+="color:"+o(e.textForecolor)+";letter-spacing:"+o(e.textLetterspacing)+"px;",e.textStyleBold&&(w+="font-weight:bold;"),e.textStyleItalic&&(w+="font-style:italic;"),(e.textStyleUnderline||e.textStyleStrike)&&(w+="text-decoration:",e.textStyleStrike?w+="line-through":w+="underline",w+=";"),w+="font-family:"+o(e.textFontfamily)+";font-size:"+o(e.textFontsize)+"px",m.push(t("div",{class:"rd-L rd-ai rd-s rd-t",style:w},y)),x.push(...m)}b=[t("td",{class:"rd-1",colspan:1!=e.colspan&&o(e.colspan),rowspan:1!=e.rowspan&&o(e.rowspan),style:"position:relative;width:"+o(e.width)+"px;height:"+o(e.height)+"px;border-left:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bLeft?I:"#0000")+";border-top:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bTop?I:"#0000")+";border-right:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bRight?I:"#0000")+";border-bottom:"+o(A?L:"dotted")+" "+o(M)+"px "+o(A&&e.bBottom?I:"#0000")},x)],g.push(...b)}u=[t("tr",0,g)],f.push(...u)}h.push(...f)}c.push(...h)}return p=[t("tbody",0,c)],n=[t("table",{class:"rd-0 rd-s",style:"border-collapse:"+o(q)},p)],E.push(t("div",{style:"z-index:1;position:absolute;left:"+o(T.x)+"px;top:"+o(T.y)+"px;opacity:"+o(T.alpha)+";width:"+o(T.width)+"px;height:"+o(T.height)+"px"},n)),t(r,0,E)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/data-celltable/printer",["magix","../subs/barcode","../subs/qrcode"],(e,t,r)=>{e("../subs/barcode"),e("../subs/qrcode");let i={class:"rd-J"};const o=e("magix");r.exports=o.View.extend({tmpl:(e,t,r,o,a)=>{let l,s,n,d,p,c,h,f,u,g,b,x,m,y,w=[],{props:_}=e;s="";let v=_.borderwidth,k=_.bordertype,S=_.bordercolor,C=_.borderdeed,z=_.rows,E=_.bind;s+=" ";let T=Math.max(1,v);s+=" ";let A=("collapse"==C?1:2)*T;d=[];for(let e=z.length,l=0;l<e;l+=1){c=[];for(let e=z[l].cols,n=e.length,d=0;d<n;d+=1){let l=e[d];if(f=[],E._tip)u=[t(0,0,o(E._tip))],f.push(...u);else{u=[],s="";let e=l.paddingTop,n=l.paddingBottom,d=l.paddingLeft,p=l.paddingRight;s+=" ";let c,h=l.width-A,w=l.height-A;e>w&&(e=w),e+n>w&&(n=w-e),d>h&&(d=h),d+p>h&&(p=h-d),g=[],"text"==l.type?(x=[],(c=l.bindKey?E._data&&E._data[l.bindKey]:l.textContent)&&(y=[t(0,1,o(c))],m=[t("div",i,y)],x.push(...m)),g.push(...x)):"image"==l.type?(x=[],(c=l.bindKey?E._data&&E._data[l.bindKey]:l.imageContent)&&(b="",(l.imageRotateX||l.imageRotateY)&&(b+=";transform:",l.imageRotateX&&(b+="rotateX(180deg)"),l.imageRotateY&&(b+=" rotateY(180deg)")),m=[t("img",{class:"rd-aq rd-ar",src:o(c),style:b},0,0,1)],x.push(...m)),g.push(...x)):"barcode"==l.type?(x=[],(c=l.bindKey?E._data&&E._data[l.bindKey]:l.barcodeContent)&&(m=[t("div",{"mx5-owner":r,class:"rd-L",style:"height:"+o(w-e-n)+"px;align-items:"+o(l.vpos),"mx5-view":"elements/subs/barcode?lineColor="+a(l.barcodeColor)+"&lineWidth="+a(l.barcodeLineWidth)+"&showText="+a(l.barcodeShowText)+"&format="+a(l.barcodeFormat)+"&value="+a(c)})],x.push(...m)),g.push(...x)):"qrcode"==l.type?(x=[],(c=l.bindKey?E._data&&E._data[l.bindKey]:l.qrcodeContent)&&(m=[t("div",{"mx5-owner":r,style:"height:"+o(w-e-n)+"px","mx5-view":"elements/subs/qrcode?vpos="+a(l.vpos)+"&value="+a(c)})],x.push(...m)),g.push(...x)):l.bindKey&&(x=[t(0,0,"[\u672a\u6307\u5b9a\u6570\u636e\u5904\u7406\u65b9\u5f0f]"+o(c))],g.push(...x)),b="padding:"+o(e)+"px "+o(p)+"px "+o(n)+"px "+o(d)+"px;width:"+o(h)+"px;height:"+o(w)+"px;align-items:"+o(l.vpos)+";justify-content:"+o(l.hpos)+";opacity:"+o(l.alpha)+";",l.background&&(b+="background:"+o(l.background)),"text"==l.type&&(b+="color:"+o(l.textForecolor)+";letter-spacing:"+o(l.textLetterspacing)+"px;",l.textStyleBold&&(b+="font-weight:bold;"),l.textStyleItalic&&(b+="font-style:italic;"),(l.textStyleUnderline||l.textStyleStrike)&&(b+="text-decoration:",l.textStyleStrike?b+="line-through":b+="underline",b+=";"),b+="font-family:"+o(l.textFontfamily)+";font-size:"+o(l.textFontsize)+"px;"),u.push(t("div",{class:"rd-L rd-ai rd-s rd-t",style:b},g)),f.push(...u)}h=[t("td",{class:"rd-1",colspan:1!=l.colspan&&o(l.colspan),rowspan:1!=l.rowspan&&o(l.rowspan),style:"position:relative;width:"+o(l.width)+"px;height:"+o(l.height)+"px;border-left:"+o(v?k:"dotted")+" "+o(T)+"px "+o(v&&l.bLeft?S:"#0000")+";border-top:"+o(v?k:"dotted")+" "+o(T)+"px "+o(v&&l.bTop?S:"#0000")+";border-right:"+o(v?k:"dotted")+" "+o(T)+"px "+o(v&&l.bRight?S:"#0000")+";border-bottom:"+o(v?k:"dotted")+" "+o(T)+"px "+o(v&&l.bBottom?S:"#0000")},f)],c.push(...h)}p=[t("tr",0,c)],d.push(...p)}return n=[t("tbody",0,d)],l=[t("table",{class:"rd-0 rd-s",style:"border-collapse:"+o(C)},n)],w.push(t("div",{style:"z-index:1;position:absolute;left:"+o(_.x)+"px;top:"+o(_.y)+"px;opacity:"+o(_.alpha)+";width:"+o(_.width)+"px;height:"+o(_.height)+"px"},l)),t(r,0,w)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/hod-table/printer",["magix"],(e,t,r)=>{let i={class:"rd-ai rd-s rd-t rd-z"};const o=e("magix");r.exports=o.View.extend({tmpl:(e,t,r,o,a,l,s)=>{let n,d,p,c,h,f,u,g,b,x,m=[],{props:y}=e;d="";let w=y.borderwidth,_=y.bordertype,v=y.bordercolor,k=y.borderdeed,S=y.rows;d+=" ";let C=Math.max(1,w);c=[];for(let e=S.length,a=0;a<e;a+=1){f=[];for(let e=S[a].cols,n=e.length,d=0;d<n;d+=1){let n=e[d];b=[];for(let e=n.elements,i=e.length,p=0;p<i;p+=1){let i=e[p];x=[t("div",{"mx5-owner":r,$:"props",id:o(i.id),"mx5-view":"elements/"+o(i.type)+"/printer?props="+s(l,i.props,"\x1ed."+a+".e."+d+".a."+p+".f")})],b.push(...x)}g=[t("div",i,b)],u=[t("td",{class:"rd-1",colspan:1!=n.colspan&&o(n.colspan),rowspan:1!=n.rowspan&&o(n.rowspan),style:"position:relative;width:"+o(n.width)+"px;height:"+o(n.height)+"px;border-left:"+o(w?_:"dotted")+" "+o(C)+"px "+o(w&&n.bLeft?v:"#0000")+";border-top:"+o(w?_:"dotted")+" "+o(C)+"px "+o(w&&n.bTop?v:"#0000")+";border-right:"+o(w?_:"dotted")+" "+o(C)+"px "+o(w&&n.bRight?v:"#0000")+";border-bottom:"+o(w?_:"dotted")+" "+o(C)+"px "+o(w&&n.bBottom?v:"#0000")},g)],f.push(...u)}h=[t("tr",0,f)],c.push(...h)}return p=[t("tbody",0,c)],n=[t("table",{class:"rd-0 rd-s",style:"border-collapse:"+o(k)},p)],m.push(t("div",{style:"z-index:1;position:absolute;left:"+o(y.x)+"px;top:"+o(y.y)+"px;opacity:"+o(y.alpha)+";width:"+o(y.width)+"px;height:"+o(y.height)+"px"},n)),t(r,0,m)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/image/printer",["magix"],(e,t,r)=>{let i={style:"display:flex;align-items:center;justify-content:center;height:100%"};const o=e("magix");r.exports=o.View.extend({tmpl:(e,t,r,o)=>{let a,l,s,n,d=[],{props:p,image:c,text:h}=e;return a=[],c?(s="width:100%;height:100%",(p.rotateX||p.rotateY)&&(s+=";transform:",p.rotateX&&(s+="rotateX(180deg)"),p.rotateY&&(s+=" rotateY(180deg)")),l=[t("img",{src:o(c),style:s},0,0,1)],a.push(...l)):(n=[t(0,0,o(h))],l=[t("div",i,n)],a.push(...l)),d.push(t("div",{style:"position:absolute;z-index:1;left:"+o(p.x)+"px;top:"+o(p.y)+"px;height:"+o(p.fillY?"100%":p.height+"px")+";opacity:"+o(p.alpha)+";width:"+o(p.fillX?"100%":p.width+"px")+";transform:rotate("+o(p.rotate)+"deg);overflow:hidden"},a)),t(r,0,d)},assign(e){this.set(e);let{image:t,bind:r}=e.props,i="";if(r.url){let e=r.fields[0];if(r._tip)i=r._tip;else if(r._data){let i=r._data;Array.isArray(i)&&(i=i[0]),t=i[e.id]}else i=`[\u7ed1\u5b9a:${e.name}]`}this.set({text:i,image:t})},render(){this.digest()}})}),define("elements/line/printer",["magix"],(e,t,r)=>{const i=e("magix");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o=[],{props:a}=e;return o.push(t("div",{style:"z-index:1;position:absolute;left:"+i(a.x)+"px;top:"+i(a.y)+"px;border-top:"+i(a.height)+"px "+i(a.linetype)+" "+i(a.color)+";opacity:"+i(a.alpha)+";width:"+i(a.width)+"px;transform:rotate("+i(a.rotate)+"deg)"})),t(r,0,o)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/provider/barcode",[],(e,t,r)=>{let i=[],o=1,a="can not load barcode library";r.exports={_dQ:[{value:"CODE128",text:"CODE128"},{value:"CODE128A",text:"CODE128A"},{value:"CODE128B",text:"CODE128B"},{value:"CODE128C",text:"CODE128C"},{value:"CODE39",text:"CODE39"},{value:"EAN2",text:"EAN2"},{value:"EAN5",text:"EAN5"},{value:"EAN8",text:"EAN8"},{value:"EAN13",text:"EAN13"},{value:"ITF",text:"ITF"},{value:"ITF14",text:"ITF14"},{value:"MSI",text:"MSI"},{value:"MSI10",text:"MSI10"},{value:"MSI11",text:"MSI11"},{value:"MSI1010",text:"MSI1010"},{value:"MSI1110",text:"MSI1110"},{value:"UPC",text:"UPC"},{value:"UPCE",text:"UPCE"},{value:"upce",text:"UPC-E"},{value:"codabar",text:"codabar"},{value:"pharmacode",text:"pharmacode"},{value:"GenericBarcode",text:"GenericBarcode"}],_dR:()=>new Promise((e,t)=>{if(2&o)window.JsBarcode?e():t(a);else if(4&o)i.push([e,t]);else{o|=4,i.push([e,t]);let r=document.createElement("script");r.src="//cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js",r.onload=r.onerror=(()=>{document.head.removeChild(r),o|=2;for(let[e,t]of i)window.JsBarcode?e():t(a);i.length=0}),document.head.appendChild(r)}})}}),define("elements/provider/bindata",[],(e,t,r)=>{let i={};r.exports=((e,t)=>new Promise(r=>{let o=i[t];o||(o=i[t]={}),o._ex?r(o):o._ey?o._ey.push(r):(o._ey=[r],e.fetch({name:"_bM",url:t},(e,t)=>{let r=t.get("data");o._dT=r,o._ex=1,o._dS=null==e?void 0:e.msg;for(let e of o._ey)e(o);delete o._ey}))}))}),define("elements/provider/celltable",[],(e,t,r)=>{r.exports={text:{textLetterspacing:0,textForecolor:"#000000",textFontsize:14,textFontfamily:"Microsoft YaHei",textStyleBold:!1,textStyleUnderline:!1,textStyleItalic:!1,textStyleStrike:!1,textContent:""},image:{imageContent:""},barcode:{barcodeLineWidth:2,barcodeColor:"#000000",barcodeFormat:"code128",barcodeShowText:!0,barcodeContent:""},qrcode:{qrcodeContent:""}}}),define("elements/provider/qrcode",[],(e,t,r)=>{let i=[],o=1;r.exports=(()=>new Promise((e,t)=>{if(2&o)window.QRCode?e():t("can not load qrcode library");else if(4&o)i.push([e,t]);else{o|=4,i.push([e,t]);let r=document.createElement("script");r.src="//unpkg.com/@keeex/qrcodejs-kx@1.0.2/qrcode.min.js",r.onload=r.onerror=(()=>{document.head.removeChild(r),o|=2;for(let[e,t]of i)window.QRCode?e():t("can not load qrcode library");i.length=0}),document.head.appendChild(r)}}))}),define("elements/provider/table",[],(e,t,r)=>{r.exports={_d4(e,t){if(!t||null==e._d5||null==e._d6){let t=0,r=0,i={},o={},{rows:a}=e,l=0,s=0,n=0;for(let e of a){r=0,n=0;for(let a of e.cols){for(;i[r]&&o[r]&&t<o[r];)r+=i[r];a._cs=n++,a._cr=t,a._ez=t,a._ek=r,a.rowspan?(o[r]=a.rowspan+t,a._eA=t+a.rowspan-1):a._eA=t,a.colspan&&(i[r]=a.colspan,r+=a.colspan-1),a._el=r++,r>l&&(l=r)}++t>s&&(s=t)}e._d5=s,e._d6=l}return e},_eB(e,t){let r,{focusCol:i,focusRow:o,rows:a}=e,l=0,s=0;if("left"==t)r=[[o,i-1],[o,i]],s=1;else if("right"==t)r=[[o,i],[o,i+1]],s=1;else{l=1;let e=a[o].cols[i],s=e._eA+1,n=e._el,d=0;for(let l=0;l<=s;l++){for(let s=0;s<=n;s++){let n=a[l];if(n){let a=n.cols[s];if(a&&a!=e){let s=a._cs;if(a._ek==e._ek&&a._el==e._el)if(a._eA+1==e._ez){if("top"==t){r=[[l,s],[o,i]],d=1;break}}else if(e._eA+1==a._ez&&"bottom"==t){r=[[o,i],[l,s]],d=1;break}}}}if(d)break}}let[n,d]=r;e.focusRow=n[0],e.focusCol=n[1];let p=0,c=0,h=-1,f=-1;for(let e of r){let t=a[e[0]].cols[e[1]],r=t._eA;r>h&&(h=r);let i=t._el;i>f&&(f=i)}let u=a[n[0]].cols[n[1]],g=a[d[0]].cols[d[1]];c=h-u._ez+1,p=f-u._ek+1,s&&(u.width+=g.width),l&&(u.height+=g.height),Array.isArray(u.elements)?u.elements.push(...g.elements):!u.bindKey&&g.bindKey&&(u.bindKey=g.bindKey,u.bindName=g.bindName,u.type=g.type),u.colspan=p,u.rowspan=c;for(let e=r.length-1;e>0;e--){let t=r[e];a[t[0]].cols.splice(t[1],1)}let b=e._d5,x=e=>{let t=b;for(let r of a)for(let i of r.cols){let r=i._ez+i.rowspan-1;if(i._ez<=e&&r>=e){let i=r-e;i<t&&(t=i)}}return t};for(let e=b;e--;){a[e].cols.length||(a.splice(e,1),b--)}for(let e=0;e<b;e++){let t=x(e);if(t>0){for(let r=0;r<=e;r++){let i=a[r];for(let r of i.cols){let i=r._ez+r.rowspan-1;r._ez<=e&&i>=e&&(r.rowspan-=t)}}break}}let m=e._d6,y=e=>{let t=m;for(let r of a)for(let i of r.cols){let r=i._ek+i.colspan-1;if(i._ek<=e&&r>=e){let i=r-e;i<t&&(t=i)}}return t};for(let e=0;e<m;e++){let t=y(e);if(t>0){for(let r of a)for(let i of r.cols){let r=i._ek+i.colspan-1;i._ek<=e&&r>=e&&(i.colspan-=t)}break}}return e},_eC(e,t,r,i,o){let{focusRow:a,focusCol:l,rows:s}=e,n=s[a].cols[l],d=s[a],p=this._d7(e);if(t){let e,t;if(n.colspan>1){let r=n.colspan/2|0,i=n.colspan-r,o=0,a=n._el;for(let e=a-r+1;e<=a;e++)o+=p._d8[e];n.colspan=i,n.width-=o,e=r,t=o}else{let r=n.width,o=r/2;o<i&&(o=i),n.width=o,t=o,e=1;let a=2*o-r;for(let e of s)for(let t of e.cols)t!=n&&t._ek<=n._ek&&t._el>=n._el&&(t.colspan++,t.width+=a)}let o={...r,elements:[],colspan:e,rowspan:n.rowspan,width:t,height:n.height};d.cols.splice(l+1,0,o)}else{let e,t;if(n.rowspan>1){let r=n.rowspan/2|0,i=n.rowspan-r,o=0,a=n._eA;for(let e=a-r+1;e<=a;e++)o+=p._d9[e];n.rowspan=i,n.height-=o,e=r,t=o,d=s[n._ez+i];let c=0;for(let e of d.cols){if(e._ek>n._ek){l=c;break}c++}}else{let r=n.height,i=r/2;i<o&&(i=o),n.height=i,t=i,e=1;let a=2*i-r;for(let e of s)for(let t of e.cols)t!=n&&t._ez<=n._ez&&t._eA>=n._eA&&(t.rowspan++,t.height+=a);s.splice(n._eA+1,0,d={cols:[]})}let i={...r,elements:[],colspan:n.colspan,rowspan:e,width:n.width,height:t};d.cols.splice(l,0,i)}},_eD(e,t,r,i){let o={},{rows:a,_d6:l}=e,s=this._d7(e);for(let e=0;e<t;e++){let r=a[e];for(let e of r.cols)if(e._eA>=t){e.rowspan++,e.height+=i;let t=e._ek,r=t+e.colspan;for(let e=t;e<r;e++)o[e]=1}}let n={cols:[]};for(let e=0;e<l;e++)if(!o[e]){let t={...r,elements:[],width:s._d8[e],height:i,rowspan:1,colspan:1};n.cols.push(t)}return a.splice(t,0,n),e},_eE(e,t,r,i){let{rows:o}=e,a=[],l=0,s=this._d7(e);for(let e of o){let o=e.cols.length,n=o;for(let r=0;r<o;r++){let o=e.cols[r];if(o.rowspan>1&&a.push(o),o._ek<t&&o._el>=t){o.colspan++,o.width+=i,n=-1;break}if(o._ek>=t){n=r;break}}for(let e of a)if(e._ek<t&&e._el>=t&&e._ez<l&&e._eA>=l){n=-1;break}if(-1!=n){let t={...r,elements:[],height:s._d9[l],width:i,rowspan:1,colspan:1};e.cols.splice(n,0,t)}l++}return e},_eF(e){let{rows:t,focusRow:r,focusCol:i}=e,o=t[r].cols[i],a=[o._ez,o._eA],l={},s=0,n=a[1]-a[0]+1,d=t[a[1]+1],p=n/2;for(let e=a[1];e>=0;e--){let r=t[e],i=0;for(let e=r.cols.length;e--;){let t=r.cols[e],o=t._ek,d=t._eA,c=t._ez,h=d-c+1;if(1==h&&(i=t.height),h>1){let f=h/2;if(Math.abs(a[0]+p-c-f)<p+f){if(a[0]==t._ez&&t._eA-t._ez>=n&&(l[o]=t,s=1),!i)for(let t=e;t--;){let e=r.cols[t];if(0==e._eA-e._ez){i=e.height;break}}let p=Math.min(d,a[1])-Math.max(a[0],c)+1;t.rowspan-=p,t.height-=i*p}}}e<=a[1]&&e>=a[0]&&t.splice(e,1)}if(s){let t=e._d6;if(d)for(let e=t,r=d.cols.length;e--;){let t=l[e];if(t){let i=0;for(let t=r;t--;){if(d.cols[t]._ek<e){r=t,i=t+1;break}}d.cols.splice(i,0,t)}}}return e},_eG(e,t){let{focusRow:r,focusCol:i,rows:o}=e,a=o[r].cols[i],l=[a._ek,a._el],s=(l[1]-l[0]+1)/2;for(let e of o)for(let r=e.cols.length;r--;){let i=e.cols[r],o=i._ek,a=i._el;if(o>=l[0]&&a<=l[1])e.cols.splice(r,1);else if(i.colspan>1){let e=(a-o+1)/2;if(Math.abs(l[0]+s-o-e)<s+e){let e=Math.min(a,l[1])-Math.max(l[0],o)+1;i.colspan-=e,i.width-=t*e}}}return e},_d7(e,t){let r=[],i=[],{rows:o}=e,a=!1,l=!1;for(let e of o)for(let o of e.cols){if(1==o.colspan){let e=o._ek;(null==r[e]||!a&&o.width>r[e]||t==o)&&(a=a||t==o,r[e]=o.width)}if(1==o.rowspan){let e=o._ez;(null==i[e]||!l&&o.height>i[e]||t==o)&&(l=l||t==o,i[e]=o.height)}}for(let e of o)for(let o of e.cols){if(o.colspan>1){let e=0,i=0,a=o._ek,l=a+o.colspan;for(let t=a;t<l;t++)null!=r[t]&&r[t]>=0&&(e+=r[t],i++);if(i<o.colspan){let t=Math.max(o.width-e,0)/(o.colspan-i);for(let e=a;e<l;e++)(null==r[e]||r[e]<0)&&(r[e]=t)}else if(e<o.width&&(!t||t==o)||e>o.width&&t&&t==o)for(let t=a;t<l;t++)r[t]=e>0?r[t]/e*o.width:o.width/o.colspan}if(o.rowspan>1){let e=0,r=0,a=o._ez,l=a+o.rowspan;for(let t=a;t<l;t++)null!=i[t]&&i[t]>=0&&(e+=i[t],r++);if(r<o.rowspan){let t=Math.max(0,o.height-e)/(o.rowspan-r);for(let e=a;e<l;e++)(null==i[e]||i[e]<0)&&(i[e]=t)}else if(e<o.height&&(!t||t==o)||e>o.height&&t&&o==t)for(let t=a;t<l;t++)i[t]=e>0?i[t]/e*o.height:o.height/o.rowspan}}return{_d8:r,_d9:i}},_ee(e,t){let r=this._d7(e,t),{rows:i}=e;for(let e of i)for(let t of e.cols){let e=t.rowspan||1,i=t.colspan||1,o=t._ek,a=t._ez,l=0,s=0;for(let e=o+i-1;e>=o;e--)l+=r._d8[e];for(let t=a+e-1;t>=a;t--)s+=r._d9[t];t.width=l,t.height=s}}}}),define("elements/qrcode/printer",["magix","../provider/qrcode"],(e,t,r)=>{let i={style:"display:flex;align-items:center;justify-content:center;height:100%"};const o=e("magix"),a=e("../provider/qrcode");r.exports=o.View.extend({tmpl:(e,t,r,o)=>{let a,l,s,n,d=[],{props:p,text:c,error:h}=e;return a=[],c&&!h||(n="",s=[t(0,0,n+=h?" "+o(h)+" ":" \u8bf7\u8f93\u5165\u4e8c\u7ef4\u7801\u5185\u5bb9 ")],l=[t("div",i,s)],a.push(...l)),a.push(t("div",{id:r+"_qr",class:"rd-L rd-M rd-X rd-s rd-t"})),d.push(t("div",{style:"position:absolute;z-index:1;left:"+o(p.x)+"px;top:"+o(p.y)+"px;height:"+o(p.fillY?"100%":p.height+"px")+";opacity:"+o(p.alpha)+";width:"+o(p.fillX?"100%":p.width+"px")+";transform:rotate("+o(p.rotate)+"deg);overflow:hidden"},a)),t(r,0,d)},assign(e){let{text:t,bind:r}=e.props;if(r.url){let e=r.fields[0];if(r._tip)t=r._tip;else if(r._data){let i=r._data;Array.isArray(i)&&(i=i[0]),t=i[e.id]}else t=`[\u7ed1\u5b9a:${e.name}]`}this.set(e),this.set({text:t})},async render(){let e=o.mark(this,"_e");await this.digest({error:null});try{if(await a(),e()){let e=this._eH;if(!e){let t=o.node(`${this.id}_qr`);e=new QRCode(t,{width:512,height:512}),this._eH=e}let t=this.get("text");if(t&&t!=this._dU){e.makeCode(this._dU=t),this.root.querySelector("img").classList.add("rd-ao")}}}catch(t){e()&&this.digest({error:t})}}})}),define("elements/rect/printer",["magix"],(e,t,r)=>{const i=e("magix");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,a=[],{props:l}=e;return o="z-index:1;position:absolute;left:"+i(l.x)+"px;top:"+i(l.y)+"px;",l.borderwidth&&(o+="border:"+i(l.borderwidth)+"px "+i(l.bordertype)+" "+i(l.bordercolor)+";"),l.fillcolor&&(o+="background:"+i(l.fillcolor)+";"),o+="height:"+i(l.height)+"px;opacity:"+i(l.alpha)+";width:"+i(l.width)+"px;transform:rotate("+i(l.rotate)+"deg);",l.radius&&(o+="border-radius:"+i(l.radius)+"px;"),a.push(t("div",{style:o})),t(r,0,a)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/subs/barcode",["magix","../provider/barcode"],(e,t,r)=>{const i=e("magix"),o=e("../provider/barcode");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,a=[],{msg:l}=e;return l?(o=[t(0,0,i(l))],a.push(...o)):(o=[t("img",{id:r+"_bar",class:"rd-aq rd-ar"},0,0,1)],a.push(...o)),t(r,0,a)},assign(e){this.set(e)},async render(){let e=i.mark(this,"_e");await this.digest({msg:null});try{if(await o._dR(),e()){let{value:e,lineWidth:t,format:r,showText:i,lineColor:o}=this.get();JsBarcode(`#${this.id}_bar`,e,{lineColor:o,width:+t,format:r,displayValue:"true"==i})}}catch(t){e()&&this.digest({msg:t})}}})}),define("elements/subs/qrcode",["magix","../provider/qrcode"],(e,t,r)=>{const i=e("magix"),o=e("../provider/qrcode");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,a=[],{msg:l,vpos:s}=e;return l?(o=[t(0,0,i(l))],a.push(...o)):(o=[t("div",{id:r+"_qr",class:"rd-L rd-t",style:"align-items:"+i(s)})],a.push(...o)),t(r,0,a)},assign(e){this.set(e)},async render(){let e=i.mark(this,"_e");await this.digest({msg:null});try{if(await o(),e()){let{value:e}=this.get(),t=this._eH;if(!t){let e=i.node(`${this.id}_qr`);t=new QRCode(e),this._eH=t}t.makeCode(e+"");let r=this.root.querySelector("img");r.classList.add("rd-aq"),r.classList.add("rd-ar")}}catch(t){e()&&this.digest({msg:t})}}})}),define("elements/text/printer",["magix"],(e,t,r)=>{const i=e("magix");r.exports=i.View.extend({tmpl:(e,t,r,i)=>{let o,a,l=[],{props:s,textReturn:n,text:d}=e;return a=[t(0,1,i(n(d)))],o="z-index:1;position:absolute;left:"+i(s.x)+"px;top:"+i(s.y)+"px;display:flex;color:"+i(s.forecolor)+";",s.background&&(o+="background:"+i(s.background)+";"),o+="font-size:"+i(s.fontsize)+"px;height:"+i(s.fillY?"100%":s.height+"px")+";letter-spacing:"+i(s.letterspacing)+"px;opacity:"+i(s.alpha)+";",s.styleBold&&(o+="font-weight:bold;"),s.styleItalic&&(o+="font-style:italic;"),(s.styleUnderline||s.styleStrike)&&(o+="text-decoration:",s.styleStrike?o+="line-through":o+="underline",o+=";"),o+="align-items:"+i(s.vpos)+";justify-content:"+i(s.hpos)+";overflow:hidden;width:"+i(s.fillX?"100%":s.width+"px")+";transform:rotate("+i(s.rotate)+"deg);font-family:"+i(s.fontfamily),l.push(t("div",{style:o},a)),t(r,0,l)},assign(e){let{text:t,bind:r}=e.props;if(r.url){let e=r.fields[0];if(r._tip)t=r._tip;else if(r._data){let i=r._data;Array.isArray(i)&&(i=i[0]),t=i[e.id]}else t=`[\u7ed1\u5b9a:${e.name}]`}this.set(e),this.set({text:t})},render(){this.digest()}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],(e,t,r)=>{let i={class:"rd-b"},o={class:"rd-c",style:"word-break:break-all"},a={class:"rd-F rd-d"};const l=e("magix"),s=e("../../i18n/index");r.exports=l.View.extend({tmpl:(e,t,r,l)=>{let s,n,d=[],{title:p,body:c,i18n:h}=e;return n=[t(0,0,l(p))],s=[t("h5",0,n)],d.push(t("div",i,s)),s=[t(0,0,l(c))],d.push(t("div",o,s)),n=[t(0,0,l(h("bB")))],s=[t("button",{"mx5-click":r+"\x1e_eV();",class:"rd-_ rd-a rd-w",type:"button"},n)],d.push(t("div",a,s)),t(r,0,d)},init(e){this._am=e.dialog,this._e1=e.body,this._e2=e.title||s("bA"),this._e3=e.enter},render(){this.digest({body:this._e1,title:this._e2})},"_eV<click>"(){let e=this;e._am.close(),e._e3&&l.toTry(e._e3)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],(e,t,r)=>{let i={class:"rd-b"},o={class:"rd-c",style:"word-break:break-all"},a={class:"rd-F rd-d"};const l=e("magix"),s=e("../../i18n/index");r.exports=l.View.extend({tmpl:(e,t,r,l)=>{let s,n,d=[],{title:p,body:c,i18n:h}=e;return n=[t(0,0,l(p))],s=[t("h5",0,n)],d.push(t("div",i,s)),s=[t(0,0,l(c))],d.push(t("div",o,s)),n=[t(0,0,l(h("bC")))],s=[t("button",{type:"button","mx5-click":r+"\x1e_e5()",class:"rd-_ rd-w"},n)],n=[t(0,0,l(h("bB")))],s.push(t("button",{type:"button","mx5-click":r+"\x1e_eV()",class:"rd-_ rd-a rd-p rd-w"},n)),d.push(t("div",a,s)),t(r,0,d)},init(e){let t=this;t._am=e.dialog,t._e1=e.body,t._e2=e.title||s("bA"),t._e3=e.enter,t._e4=e.cancel},render(){this.digest({body:this._e1,title:this._e2})},"_eV<click>"(){let e=this;e._am.close(),e._e3&&l.toTry(e._e3)},"_e5<click>"(){let e=this;e._am.close(),e._e4&&l.toTry(e._e4)}})}),define("gallery/mx-dialog/index",["magix","./alert","./confirm"],(e,t,r)=>{let i;const o=e("magix");e("./alert"),e("./confirm"),o.applyStyle("rd-d",".rd-bL{position:absolute}.rd-bM{position:relative;background-color:#fff;border-radius:2px;border:1px solid #e6e6e6}.rd-aM{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.rd-aM:focus,.rd-aM:hover{opacity:.5}.rd-bN{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2}.rd-bO{filter:blur(3px)}.rd-bP{-webkit-animation:rd-a .3s;animation:rd-a .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.rd-bQ{position:absolute;right:10px;top:0;width:1px;height:0}.rd-bR{padding:80px 0}@-webkit-keyframes rd-a{0%{opacity:0}to{opacity:.2}}@keyframes rd-a{0%{opacity:0}to{opacity:.2}}.rd-bS{-webkit-animation:rd-b .2s;animation:rd-b .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-b{0%{opacity:.2}to{opacity:0}}@keyframes rd-b{0%{opacity:.2}to{opacity:0}}.rd-bT{margin-bottom:50px;min-height:60px}.rd-bU{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.rd-bV{-webkit-animation:rd-c .3s;animation:rd-c .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.rd-bW{-webkit-animation:rd-d .2s;animation:rd-d .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");let a=500,l=[],s=o.View.extend({tmpl:(e,t,r,o)=>{let a,l,s,n,d,p=[],{removeClass:c,zIndex:h,left:f,top:u,width:g,closable:b}=e;return a="rd-bN",c||(a+=" rd-bP"),p.push(t("div",{style:"z-index:"+o(h-1),id:"mask_"+r,class:a})),(s=[]).push(t("input",{id:"focus_"+r,class:"rd-bQ"},0,0,1)),b&&(d=[t(0,0,"\ue624")],n=[t("span",{class:"rd-aM rd-j","mx5-click":r+"\x1e_aq()"},d)],s.push(...n)),i?n=[i]:(d=[t("span",{class:"rd-f"})],n=[i=t("div",{_:"_",class:"rd-bR rd-e"},d)]),s.push(t("div",{class:"rd-bM rd-bT",id:"cnt_"+r},n)),a="rd-bL",c||(a+=" rd-bV"),l=[t("div",{id:"body_"+r,style:"left:"+o(f)+"px;top:"+o(u)+"px;width:"+o(g)+"px",class:a},s)],p.push(t("div",{class:"rd-bU",style:"z-index:"+o(h)},l)),t(r,0,p)},init(e){let t=this,r=o.node("app"),i=t.root;t.on("destroy",()=>{(e=>{for(let t,r=l.length-1;r>=0;r--)if((t=l[r]).id==e.id){l.splice(r,1);break}})(t),500==(a-=2)&&r.classList.remove("rd-bO"),o.dispatch(i,"close"),i.parentNode.removeChild(i)}),o.has(e,"closable")||(e.closable=!0),t.set(e),500==a&&r.classList.add("rd-bO"),a+=2,l.push(t)},async render(){let e=this;await e.digest({zIndex:a});let t=e.get(),r=o.mark(e,"_e");setTimeout(()=>{r()&&(e.root.style.display="block",o.node("focus_"+e.id).focus())},30),e.owner.mount(o.node("cnt_"+e.id),t.view,t),setTimeout(()=>{r()&&e.digest({removeClass:!0})},300)},_e6(e){let t=o.node("cnt_"+this.id);o.Vframe.byNode(t).invoke("fire",["unload",e])},_e7(){let e,t=this.id;(e=o.node("body_"+t)).classList.add("rd-bW"),(e=o.node("mask_"+t)).classList.add("rd-bS")},"_aq<click>"(){o.dispatch(this.root,"dlg_close")},"$doc<keyup>"(e){if("Escape"==e.code){let e=l[l.length-1];e==this&&e.get("closable")&&o.dispatch(this.root,"dlg_close")}}});Object.assign(s,{_e9(e,t){let r=o.guid("dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+r+'" style="display:none" />');let i,a=o.node(r),l=e.owner.mount(a,"gallery/mx-dialog/index",t);return a.addEventListener("dlg_close",async()=>{if(!a._e8&&!i){let e=()=>{a._e8=1,l.invoke("_e7"),setTimeout(()=>{l.unmount()},200)},t={p:0,prevent(){i=1},resolve(){t.p=1,i=0,e()},reject(){t.p=1,i=0}};await l.invoke("_e6",[t]),i||t.p||e()}}),a},alert(e,t,r){this.confirm(e,t,null,r,"alert")},confirm(e,t,r,i,o){this.mxDialog("gallery/mx-dialog/"+(o||"confirm"),{body:e,cancel:r,enter:t,title:i,modal:!0,width:300,closable:!1,left:(window.innerWidth-300)/2,top:Math.max((window.innerHeight-220)/2,0)})},mxDialog(e,t){let r,i,a=this,l={view:e},s=o.mark(this,"_am");return o.use(e,n=>{let d="$dlg_"+e;!a[d]&&s()&&(a[d]=1,Object.assign(l,n.dialogOptions),Object.assign(l,t),l.width||(l.width=500),l.left||(l.left=(window.innerWidth-l.width)/2),l.top||(l.top=100),l.dialog={close(){r&&o.dispatch(r,"dlg_close")}},(r=a._e9(a,l)).addEventListener("close",()=>{delete a[d],i&&i()}))}),{close(){r&&o.dispatch(r,"dlg_close")},whenClose(e){i=e}}}}),r.exports=s}),define("printer/index",["magix","../designer/service","./lodop","../gallery/mx-dialog/index","../elements/provider/table"],(e,t,r)=>{let i,o,a={class:"rd-do"},l={class:"rd-dp"};const s=e("magix"),n=e("../designer/service"),d=e("./lodop"),p=e("../gallery/mx-dialog/index"),c=e("../elements/provider/table");s.applyStyle("rd-B",".rd-dn{page-break-after:auto;page-break-inside:avoid}@page{margin:0}@media screen{.rd-do{box-shadow:0 0 6px 0 rgba(0,0,0,.3);margin-bottom:10px;height:40px;justify-content:flex-end;padding-right:50px;position:-webkit-sticky;position:sticky;top:0;z-index:2;background-color:#fff}.rd-do,.rd-dp{display:flex;align-items:center}.rd-dp{flex-direction:column}.rd-dq{font-size:16px;height:120px;line-height:120px}.rd-dr{box-shadow:0 0 6px 0 rgba(0,0,0,.3);overflow:hidden}.rd-ds{margin:20px auto}.rd-dt{display:flex}.rd-du{justify-content:center}}@media print{.rd-do{display:none}body{min-width:auto}.rd-ds{margin:0}.rd-dr{overflow:hidden;box-shadow:none}.rd-dp{display:block}}");let h={},f=(e,t)=>{for(let r=e.length;r--;){let i=e[r];if(("data-coltable"==i.type||"data-celltable"==i.type||"data-dtable"==i.type)&&-1!=t[r])return!0}return!1},u=e=>{if(e)if(Array.isArray(e)){let t=[];for(let r of e)t.push(u(r));e=t}else if("Object"==s.type(e)){let t={};for(let r in e)t[r]=u(e[r]);e=t}return e};r.exports=s.View.extend({tmpl:(e,t,r,s,n,d,p)=>{let c,h,f,u,g,b,x,m,y=[],{pasted:w,loading:_,page:v,pages:k}=e;if(h=[t(0,0,"Lodop\u8bbe\u7f6e")],c=[t("button",{class:"rd-_ rd-p rd-w","mx5-click":r+"\x1e_gY()"},h)],h=[t(0,0,"Lodop\u6253\u5370")],c.push(t("button",{class:"rd-_ rd-a rd-p rd-w","mx5-click":r+"\x1e_g1()"},h)),h=[t(0,0,"\u6d4f\u89c8\u5668\u6253\u5370")],c.push(t("button",{class:"rd-_ rd-a rd-w","mx5-click":r+"\x1e_aU()"},h)),y.push(t("div",a,c)),c=[],w){if(h=[],_)i?u=[i]:(g=[t(0,0,"\u6b63\u5728\u51c6\u5907\u9875\u9762\u6570\u636e...")],u=[i=t("div",{_:"_",class:"rd-dq"},g)]),f=[t("div",{class:"rd-dr rd-ds rd-dt rd-du",style:"position:relative;width:"+s(v.width)+"px;height:"+s(v.height)+"px"},u)],h.push(...f);else{f=[];for(let e=k.length,i=e-1,o=0;o<e;o+=1){let e=k[o],a=o===i;g=[];for(let i=e.length,a=0;a<i;a+=1){let i=e[a];m=[t("div",{"mx5-owner":r,$:"pages","mx5-view":"elements/"+s(i.type)+"/printer?props="+p(d,i.props,"\x1eF."+o+"."+a+".f")})],g.push(...m)}b="rd-dr rd-ds",a||(b+=" rd-dn"),x="position:relative;width:"+s(v.width)+"px;height:"+s(v.height)+"px;background:"+s(v.background)+";",v.backgroundImage&&(x+="background-image:url("+s(v.backgroundImage)+");background-repeat:"+s("full"==v.backgroundRepeat?"no-repeat":v.backgroundRepeat)+";background-size:","full"==v.backgroundRepeat?x+="100% 100%":x+=s(v.backgroundWidth)+"px "+s(v.backgroundHeight)+"px;background-position:"+s(v.positionXOffset)+"% "+s(v.positionYOffset)+"%"),u=[t("div",{class:b,style:x},g)],f.push(...u)}h.push(...f)}c.push(...h)}else o?h=[o]:(f=[t(0,0,"\u5728\u901a\u7528\u8bbe\u8ba1\u5668\u8bbe\u8ba1\u597d\u9875\u9762\u540e\uff0c\u70b9\u4fdd\u5b58\u5e76\u590d\u5236\u8bbe\u8ba1\u597d\u7684 JSON \u7136\u540e\u5728\u8be5\u9875\u9762\u8fdb\u884c\u7c98\u8d34\u3002\u8be5\u9875\u9762\u4ec5\u4f9b\u8fd8\u539f\u53c2\u8003\u4f7f\u7528\uff0c\u53ef\u4e0e\u4efb\u610f\u540e\u7aef\u63a5\u53e3\u6df1\u5ea6\u7ed3\u5408\u5b9a\u5236\u3002")],h=[o=t("div",{_:"a",class:"rd-dq"},f)]),c.push(...h);return y.push(t("div",l,c)),t(r,0,y)},render(){this.digest({pasted:!1})},_gQ(e){return new Promise(t=>{let r=h[e];r||(r=h[e]={}),r._ex?t():r._ey?r._ey.push(t):(r._ey=[t],this.fetch({name:"_bM",url:e},(e,t)=>{let i=t.get("data");r._dT=i,r._ex=1,r._dS=null==e?void 0:e.msg;for(let e of r._ey)e();delete r._ey}))})},_gR(e){let t=[];for(let r of e)t.push(this._gQ(r));return Promise.all(t)},_gS(e,t){let{props:r}=e,{bind:i}=r;if(i.url){let{_dS:e,_dT:o}=h[i.url];if(!e)return r.bind._data=o[t],t==o.length-1?-1:t+1;r.bind._tip=e}return-1},_gT(e,t,r){let{props:i}=e,{bind:o,rows:a,borderwidth:l,tfootSpacing:s,borderdeed:n}=i;if(o.url){let{_dS:e,_dT:d}=h[o.url];if(!e){let e=!1,o=0,p=-1,h=-1,f=0,u=0;for(let e of a)e.data?p=o:e.total?h=o:-1==p?f++:-1!=h&&u++,o++;let g=a[h],b=a[p];if(!i.hideTotal)for(let t of g.cols)if("sumpage"==t.type||"acc"==t.type){e=!0;break}c._d4(i,!0);let x=c._d7(i)._d9,m=x[h],y=0,w=x[p],_=0;for(let e=0;e<x.length;e++)e!=p&&e<h&&(y+=x[e]),e>h&&!i.hideFoot&&(_+=x[e]);"separate"==n&&(y+=2*f,_+=2*u,m+=2,l=2,w+=2);let v=r.height-i.y-y-l-s-_;e&&(v-=m);let k=Math.floor(v/w);k<1&&(k=1);let S=k+t;S>d.length&&(S=d.length,e=!0),i.height=y+w*(S-t)+l+_,e&&(i.height+=m),i.bind._data=d.slice(t,S),i.bind._showAcc=e;for(let e=g.cols.length;e--;){let r=g.cols[e];if("sumpage"==r.type){let i=b.cols[e];if(i.bindKey){let e=0;for(let r=t;r<S;r++){e+=d[r][i.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}else if("acc"==r.type){let t=b.cols[e];if(t.bindKey){let e=0;for(let r=0;r<S;r++){e+=d[r][t.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}else if("sum"==r.type){let t=b.cols[e];if(t.bindKey){let e=0;for(let r=0;r<d.length;r++){e+=d[r][t.bindKey]}isNaN(e)&&(e=0),r.sumValue=e}}}return S==d.length&&e?-1:S}i.bind._tip=e}return-1},_gU(e){let{props:t}=e,{bind:r}=t;if(r.url){let{_dS:e,_dT:i}=h[r.url];e?t.bind._tip=e:t.bind._data=i}},_gW(e,t,r,i,o,a){if(i){let i={},l=(e,t,r)=>{let s=[];for(let n=e.length;n--;){let d=e[n],p=r?d:{type:d.type,props:u(d.props)};if(r||(p.props.x+=o,p.props.y+=a),"data-coltable"==d.type){let e=i[n]||0;-1!=e&&(i[n]=this._gV(p,e,t),s.unshift(p))}else if("data-celltable"==d.type)if(r)this._gS(p,0,t),s.unshift(p);else{let e=i[n]||0;-1!=e&&(i[n]=this._gS(p,e,t),s.unshift(p))}else if("data-dtable"==d.type){let e=i[n]||0;if(-1!=e){i[n]=this._gT(p,e,t);let{rows:r}=p.props;for(let e of r)for(let r of e.cols)r.elements&&l(r.elements,t,1);s.unshift(p)}}else{if(d.props.bind&&this._gU(p),"hod-table"==d.type){let{rows:e}=p.props;for(let r of e)for(let e of r.cols)e.elements&&l(e.elements,t,1)}s.unshift(p)}}return s};do{let i=l(e,t);r.push(i)}while(f(e,i))}else r.push(e)},async _gX(e){let t=JSON.parse(e),{page:r,elements:i}=t,o=r.xOffset,a=r.yOffset;this.digest({page:r,pasted:!0,loading:!0});let l=[],s=[],n=e=>{for(let t of e){let{bind:e}=t.props;if(e&&e.url&&!s.includes(e.url)&&s.push(e.url),"hod-table"==t.type||"data-dtable"==t.type){let{rows:e}=t.props;for(let t of e)for(let e of t.cols)e.elements&&n(e.elements)}}};n(i),await this._gR(s),this._gW(i,r,l,s,o,a),await this.digest({pages:l,loading:!1})},"_aU<click>"(){window.print()},"_gY<click>"(){this.mxDialog("printer/ld-setting",{width:500})},async"_g1<click>"(){let e=s.mark(this,"_gZ"),t=document.getElementsByTagName("style"),r=this.get("page"),i=await d._g0();if(e())if(i){i.SET_PRINT_PAGESIZE(0,r.width+"px",r.height+"px","report-designer"),i.SET_PRINT_MODE("POS_BASEON_PAPER",!0);let e=document.querySelectorAll(".rd-dr");for(let o=0;o<e.length;o++){let a=e[o];i.NewPageA(),i.ADD_PRINT_HTM(0,0,r.width+"px",r.height+"px",`<style>${t[1].innerHTML}</style>`+a.innerHTML)}i.PREVIEW()}else this.mxDialog("printer/ld-tip",{width:400})},"$doc<paste>"(e){let t=e.clipboardData.getData("text/plain");this._gX(t)},"$win<message>"(e){e.source.postMessage("_aX","*"),this._gX(e.data)}}).merge(n,p)}),define("printer/ld-setting",["magix","./lodop"],(e,t,r)=>{let i,o,a,l={class:"rd-F rd-c"},s={class:"rd-L rd-M"},n={class:"rd-F rd-d"},d={value:"value"};const p=e("magix"),c=e("./lodop");p.applyStyle("rd-C",".rd-dv{width:120px}.rd-dw{width:350px}.rd-dx{margin-top:20px}"),r.exports=p.View.extend({tmpl:(e,t,r,p)=>{let c,h,f,u=[],{src:g}=e;return i?u.push(i):(h=[t(0,0,"Lodop\u6253\u5370\u670d\u52a1\u8bbe\u7f6e")],c=[t("h5",0,h)],u.push(i=t("div",{_:"_",class:"rd-b"},c))),o?h=[o]:(f=[t(0,0,"\u6253\u5370\u63d2\u4ef6\u5730\u5740\uff1a")],h=[o=t("div",{_:"a",class:"rd-dv"},f)]),f=[t("input",{placeholder:"\u6253\u5370\u63d2\u4ef6\u5730\u5740",class:"rd-dw rd-g",value:p(g),"mx5-input":r+"\x1e_g3()"},0,d,1)],h.push(t("div",0,f)),c=[t("div",s,h)],a?c.push(a):(h=[t(0,0,"Lodop\u5b89\u88c5\u540e\u4f1a\u6709\u4e00\u4e2a\u901a\u8fc7http\u534f\u8bae\u6765\u63a7\u5236\u6253\u5370\u670d\u52a1\u7684javascript\u63d2\u4ef6\uff0c\u5728\u8fd9\u91cc\u8bbe\u7f6e\u8be5\u63d2\u4ef6\u7684\u5730\u5740\u3002\u5982\u679c\u6253\u5370\u670d\u52a1\u5b89\u88c5\u5728\u5f53\u524d\u7535\u8111\u4e0a\u4e14\u672a\u4fee\u6539\u8fc7\u7aef\u53e3\uff0c\u5219\u65e0\u9700\u505a\u4efb\u4f55\u8bbe\u7f6e\u3002")],f=[t(0,0,"\u53bbLodop\u5b98\u7f51\u4e86\u89e3\u66f4\u591a\u4fe1\u606f")],h.push(t("a",{href:"http://www.lodop.net/download.html",target:"_blank",rel:"noopener noreferrer"},f)),c.push(a=t("div",{_:"b",class:"rd-ag rd-dx"},h))),u.push(t("div",l,c)),h=[t(0,0,"\u53d6\u6d88")],c=[t("button",{"mx5-click":r+"\x1e_e5();",class:"rd-_ rd-w",type:"button"},h)],h=[t(0,0,"\u5e94\u7528")],c.push(t("button",{"mx5-click":r+"\x1e_g5();",class:"rd-_ rd-a rd-p rd-w",type:"button"},h)),u.push(t("div",n,c)),t(r,0,u)},init(e){this._am=e.dialog},render(){this.digest({src:c._g2()})},"_e5<click>"(){this._am.close()},"_g3<input>"(e){let t=e.eventTarget.value;this.digest({src:t})},"_g5<click>"(){c._g4(this.get("src")),this._am.close()}})}),define("printer/ld-tip",["magix"],(e,t,r)=>{let i,o,a={class:"rd-F rd-d"};const l=e("magix");r.exports=l.View.extend({tmpl:(e,t,r,l)=>{let s,n,d=[],{i18n:p}=e;return i?d.push(i):(n=[t(0,0,"\u5b89\u88c5\u63d0\u793a")],s=[t("h5",0,n)],d.push(i=t("div",{_:"_",class:"rd-b"},s))),o?d.push(o):(s=[t(0,0,"\u672a\u68c0\u6d4b\u5230Lodop\u6253\u5370\u670d\u52a1\uff0c\u8bf7\u60a8\u5148\u524d\u5f80")],n=[t(0,0,"Lodop\u5b98\u65b9\u793a\u4f8b\u9875\u9762")],s.push(t("a",{href:"http://www.lodop.net/LodopDemo.html",target:"_blank",rel:"noopener noreferrer"},n),t(0,0,"\uff0c\u6309\u76f8\u5173\u8bf4\u660e\u5b89\u88c5Lodop\u6253\u5370\u670d\u52a1\u5e76\u80fd\u6b63\u5e38\u8fd0\u884c\u5b98\u7f51\u63d0\u4f9b\u7684\u793a\u4f8b\u540e\uff0c\u518d\u6765\u8be5\u9875\u9762\u5c1d\u8bd5\u4f7f\u7528Lodop\u6253\u5370\u3002")),d.push(o=t("div",{_:"a",class:"rd-F rd-c"},s))),n=[t(0,0,l(p("bB")))],s=[t("button",{"mx5-click":r+"\x1e_eV();",class:"rd-_ rd-a rd-w",type:"button"},n)],d.push(t("div",a,s)),t(r,0,d)},init(e){this._am=e.dialog},render(){this.digest()},"_eV<click>"(){this._am.close()}})}),define("printer/lodop",[],(e,t,r)=>{let i=()=>{try{let e=localStorage.getItem("lodop.src");return e||(e="http://127.0.0.1:8000/CLodopfuncs.js"),e}catch(e){return"http://127.0.0.1:8000/CLodopfuncs.js"}},o={};r.exports={_g4(e){try{localStorage.setItem("lodop.src",e)}catch(e){}},_g2:i,_g0:()=>new Promise(e=>{let t=i(),r=o[t];r||(r={_g6:1,_g7:[]},o[t]=r),r._g7.push(e);let a=()=>{let e;r._g6|=4,window.getCLodop&&(e=getCLodop());for(let t of r._g7)t(e);r._g7.length=0};if(4&r._g6)a();else if(0==(2&r._g6)){r._g6|=2;let e=document.createElement("script");e.onload=e.onerror=a,e.src=i(),document.head.appendChild(e)}})}});